{"guid":"f4cb68ff-c1af-4a85-9e96-9e73c06d1777","title":"Unzipping or decrypting a file","path":"help\\platform\\using\\unzip-decrypt.md","fullText":"---\nproduct: campaign\ntitle: Unzipping or decrypting a file\ndescription: Learn how to unzip or decrypt a file in Campaign before processing\nfeature: Workflows, Encryption\nbadge-v8: label=\"Also applies to v8\" type=\"Positive\" tooltip=\"Also applies to Campaign v8\"\naudience: platform\ncontent-type: reference\ntopic-tags: importing-and-exporting-data\nexl-id: 1a79da3b-2abc-4bfc-a0ee-8471c478638d\n---\n\n# Unzip or decrypt a file {#unzipping-or-decrypting-a-file-before-processing}\n\nAdobe Campaign lets you import zipped or encrypted files. Before they can be read in a [Data loading (file)](../../workflow/using/data-loading-file.md) activity, you can define a pre-processing to unzip or to decrypt the file.\n\n>[!IMPORTANT]\n>\n>You cannot uncompress zipped files larger than 4Gb.\n\nTo be able to do so:\n\n1. Use the [Control Panel](https://experienceleague.adobe.com/docs/control-panel/using/instances-settings/gpg-keys-management.html#decrypting-data) to generate a public/private key pair in order to allow file decryption.\n\n    >[!NOTE]\n    >\n    >Control Panel is accessible to all Admin users. The steps to grant Admin access to a user are detailed in [this page](https://experienceleague.adobe.com/docs/control-panel/using/discover-control-panel/managing-permissions.html#discover-control-panel).\n    >\n    >Note that your instance must be hosted on AWS and upgraded with the [latest GA build](../../rn/using/rn-overview.md). Learn how to check your version in [this section](../../platform/using/launching-adobe-campaign.md#getting-your-campaign-version). To check if your instance is hosted on AWS, follow the steps detailed in [this page](https://experienceleague.adobe.com/docs/control-panel/using/faq.html).\n\n1. If your installation of Adobe Campaign is on premise, install the utility you want to use (for example: GPG, GZIP) as well as the necessary keys (encryption key) on the application server. \n\n    If your installation of Adobe Campaign is hosted by Adobe, contact [Adobe Customer Care](https://helpx.adobe.com/enterprise/admin-guide.html/enterprise/using/support-for-experience-cloud.ug.html) to have the necessary utilities installed on the server.\n\nYou can then use the desired pre-processing commands into your workflows:\n\n1. Add and configure a **[!UICONTROL File transfer]** activity in your workflow.\n1. Add a **[!UICONTROL Data loading (file)]** activity and define the file format.\n1. Check the **[!UICONTROL Pre-process the file]** option.\n1. Select the pre-processing command you want to apply.\n1. Add other activities to manage data coming from the file.\n1. Save and execute your workflow.\n\nAn example is presented in the use case below.\n\n**Related topics:**\n\n* [Data loading (file) activity](../../workflow/using/data-loading-file.md).\n* [Zip or encrypt a file](../../workflow/using/how-to-use-workflow-data.md#zipping-or-encrypting-a-file).\n\n## Use case: Import data encrypted using a key generated by Control Panel {#use-case-gpg-decrypt}\n\nIn this use case, we will build a workflow in order to import data that has been encrypted in an external system, using a key generated in the Control Panel.\n\n![](assets/do-not-localize/how-to-video.png) [Discover this feature in video](#video)\n\nThe steps to perform this use case are as follows:\n\n1. Use the Control Panel to generate a key pair (public/private). Detailed steps are available in [Control Panel documentation](https://experienceleague.adobe.com/docs/control-panel/using/instances-settings/gpg-keys-management.html#decrypting-data).\n\n    * The public key will be shared with the external system, which will use it to  encrypt the data to send to Campaign.\n    * The private key will be used by Campaign Classic to decrypt the incoming encrypted data.\n\n    ![](assets/gpg_generate.png)\n\n1. In the external system, use the public key downloaded from the Control Panel to encrypt the data to import into Campaign Classic.\n\n1. In Campaign Classic, build a workflow to import the encrypted data and decrypt it using the private key that has been installed via the Control Panel. To do this, we will build a workflow as follows:\n\n     ![](assets/gpg_import_workflow.png)\n\n    * **[!UICONTROL File transfer]** activity: Transfers the file from an external source to Campaign Classic. In this example, we want transfer the file from an SFTP server.\n    * **[!UICONTROL Data loading (file)]** activity: Loads the data from the file into the database and decrypt it using the private key generated in the Control Panel.\n\n1. Open the **[!UICONTROL File transfer]** activity then specify the external account from which you want to import the encrypted .gpg file.\n\n     ![](assets/gpg_key_transfer.png)\n\n     Global concepts on how to configure the activity are available in [this section](../../workflow/using/file-transfer.md).\n\n1. Open the **[!UICONTROL Data loading (file)]** activity, then configure it according to your needs. Global concepts on how to configure the activity are available in [this section](../../workflow/using/data-loading-file.md).\n\n    Add a pre-processing stage to the activity, in order to decrypt the incoming data. To do this, select the **[!UICONTROL Pre-process the file]** option, then select **[!UICONTROL Decrypt]** from the **[!UICONTROL Command]** drop-down list:\n\n     ![](assets/gpg_load.png)\n\n    >[!NOTE]\n    >\n    >If changes are needed to the available commands, you can reach out to [Adobe Customer Care](https://helpx.adobe.com/enterprise/admin-guide.html/enterprise/using/support-for-experience-cloud.ug.html) to adjust the preProcessCommand settings.\n    >\n    >If you are working with an hybrid deployment, you can configure these commands directly from the server configuration file (serverConf.xml). [Learn how to configure pre-processing commands in the server configuration file](../../installation/using/the-server-configuration-file.md#preprocesscommand)\n\n1. Click **[!UICONTROL OK]** to confirm the activity configuration.\n\n1. You can now run the workflow. Once it is executed, you can check in the workflow logs that the decryption has been executed, and that data from the file have been imported.\n\n    ![](assets/gpg_run.png)\n\n## Tutorial video {#video}\n\nThis video shows how to use a GPG key to decrypt data.\n\n>[!VIDEO](https://video.tv.adobe.com/v/36482?quality=12)\n\nAdditional Campaign Classic how-to videos are available [here](https://experienceleague.adobe.com/docs/campaign-classic-learn/tutorials/overview.html).\n","headers":[["title","Unzipping or decrypting a file"],["description","Learn how to unzip or decrypt a file in Campaign before processing"],["feature","Workflows, Encryption"],["topic-tags","importing-and-exporting-data"]],"sections":[{"section":"Unzip or decrypt a file","sectionId":"48783830-f977-44e8-940e-7a0ebe5cad2d","paragraphs":["Adobe Campaign lets you import zipped or encrypted files. Before they can be read in a Data loading (file) activity, you can define a pre-processing to unzip or to decrypt the file.","IMPORTANT","You cannot uncompress zipped files larger than 4Gb.","To be able to do so:","Use the Control Panel to generate a public/private key pair in order to allow file decryption.","NOTE","Control Panel is accessible to all Admin users. The steps to grant Admin access to a user are detailed in this page.","Note that your instance must be hosted on AWS and upgraded with the latest GA build. Learn how to check your version in this section. To check if your instance is hosted on AWS, follow the steps detailed in this page.","If your installation of Adobe Campaign is on premise, install the utility you want to use (for example: GPG, GZIP) as well as the necessary keys (encryption key) on the application server.","If your installation of Adobe Campaign is hosted by Adobe, contact Adobe Customer Care to have the necessary utilities installed on the server.","You can then use the desired pre-processing commands into your workflows:","Add and configure a File transfer activity in your workflow.\nAdd a Data loading (file) activity and define the file format.\nCheck the Pre-process the file option.\nSelect the pre-processing command you want to apply.\nAdd other activities to manage data coming from the file.\nSave and execute your workflow.","An example is presented in the use case below.","Related topics:","Data loading (file) activity.\nZip or encrypt a file."]},{"section":"Use case: Import data encrypted using a key generated by Control Panel","sectionId":"c1b9a323-eb13-484f-b38f-a39dc895a9bf","paragraphs":["In this use case, we will build a workflow in order to import data that has been encrypted in an external system, using a key generated in the Control Panel.","Discover this feature in video","The steps to perform this use case are as follows:","Use the Control Panel to generate a key pair (public/private). Detailed steps are available in Control Panel documentation.","The public key will be shared with the external system, which will use it to  encrypt the data to send to Campaign.\nThe private key will be used by Campaign Classic to decrypt the incoming encrypted data.","","In the external system, use the public key downloaded from the Control Panel to encrypt the data to import into Campaign Classic.","In Campaign Classic, build a workflow to import the encrypted data and decrypt it using the private key that has been installed via the Control Panel. To do this, we will build a workflow as follows:","","File transfer activity: Transfers the file from an external source to Campaign Classic. In this example, we want transfer the file from an SFTP server.\nData loading (file) activity: Loads the data from the file into the database and decrypt it using the private key generated in the Control Panel.","Open the File transfer activity then specify the external account from which you want to import the encrypted .gpg file.","","Global concepts on how to configure the activity are available in this section.","Open the Data loading (file) activity, then configure it according to your needs. Global concepts on how to configure the activity are available in this section.","Add a pre-processing stage to the activity, in order to decrypt the incoming data. To do this, select the Pre-process the file option, then select Decrypt from the Command drop-down list:","","NOTE","If changes are needed to the available commands, you can reach out to Adobe Customer Care to adjust the preProcessCommand settings.","If you are working with an hybrid deployment, you can configure these commands directly from the server configuration file (serverConf.xml). Learn how to configure pre-processing commands in the server configuration file","Click OK to confirm the activity configuration.","You can now run the workflow. Once it is executed, you can check in the workflow logs that the decryption has been executed, and that data from the file have been imported."]},{"section":"Tutorial video","sectionId":"957f0b05-2032-4b52-9536-ac8be9caaac4","paragraphs":["This video shows how to use a GPG key to decrypt data.","!VIDEO","Additional Campaign Classic how-to videos are available here."]}]}