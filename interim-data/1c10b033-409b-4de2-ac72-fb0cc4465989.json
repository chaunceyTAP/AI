{"guid":"1c10b033-409b-4de2-ac72-fb0cc4465989","title":"File and resource management","path":"help\\installation\\using\\file-res-management.md","fullText":"---\nproduct: campaign\ntitle: File and resource management\nfeature: Installation, Application Settings\ndescription: Learn how to configure file and resource management in Campaign\nbadge-v7-prem: label=\"On-premise/hybrid only\" type=\"Caution\" url=\"https://experienceleague.adobe.com/docs/campaign-classic/using/installing-campaign-classic/architecture-and-hosting-models/hosting-models-lp/hosting-models.html\" tooltip=\"Applies to on-premise and hybrid deployments only\"\naudience: installation\ncontent-type: reference\ntopic-tags: initial-configuration\nexl-id: 236afdfe-fb23-4ebb-b000-76e14bf01d9e\n---\n# File and resource management{#file-and-resmanagement}\n\n\n\n## Limit upload file format {#limiting-uploadable-files}\n\nUse the **uploadWhiteList** attribute to restrict the file types available for upload on the Adobe Campaign server.\n\nThis attribute is available within the **dataStore** element of the **serverConf.xml** file. All the parameters available in the **serverConf.xml** are listed in this [section](../../installation/using/the-server-configuration-file.md).\n\nThe default value of this attribute is **.+** and lets you upload any file type.\n\nTo limit the possible formats, replace the attribute value by a valid java regular expression. You can enter several values by separating them by a comma.\n\nFor example: **uploadWhiteList=\".&#42;.png,.&#42;.jpg\"** will let you upload PNG and JPG formats on the server. No other formats will be accepted.\n\nYou can also prevent important files from being uploaded by configuring the Web Server. [Learn more](web-server-configuration.md)\n\n>[!NOTE]\n>\n>The **uploadWhiteList** attribute restricts the file types available for upload on the Adobe Campaign server. However, when the publication mode is **Tracking server(s)** or **Other Adobe Campaign server(s)**, the **uploadWhitelist** attribute must also be updated on those servers.\n\n## Proxy connection configuration {#proxy-connection-configuration}\n\nYou can connect the Campaign server to an external system through a proxy, using a **File Transfer** workflow activity for example. To achieve this, you need to configure the **proxyConfig** section of the **serverConf.xml** file through a specific command. All parameters available in the **serverConf.xml** are listed in this [section](../../installation/using/the-server-configuration-file.md).\n\nThe following proxy connections are possible: HTTP, HTTPS, FTP, SFTP. Please note that starting 20.2 Campaign release, the HTTP and HTTPS protocol parameters are **no longer available**. Those parameters are still mentioned below as they remain available in previous builds - including 9032.\n\n>[!CAUTION]\n>\n>Only the basic authentication mode is supported. NTLM authentication is not supported.\n>\n>SOCKS proxies are not supported.\n>\n\nYou can use the following command:\n\n```\nnlserver config -setproxy:[protocol]/[serverIP]:[port]/[login][:‘https’|'http’]\n```\n\nprotocol parameters can be ‘http’, ‘https’ or ‘ftp’.\n\nIf you are setting FTP on the same port as HTTP/HTTPS traffic, you can use the following:\n\n```\nnlserver config -setproxy:http/198.51.100.0:8080/user\n```\n\nThe ‘http’ and ‘https’ options are only used when the protocol parameter is ‘ftp’ and indicate if the tunneling on the specified port will be performed over HTTPS or over HTTP.  \n\nIf you use a different ports for FTP/SFTP and HTTP/HTTPS traffic over proxy server, you should set the ‘ftp’ protocol parameter.  \n\n\nFor example:\n\n```\nnlserver config -setproxy:ftp/198.51.100.0:8080/user:’http’\n```\n\nThen enter the password.\n\nHTTP connections are defined in the proxyHTTP parameter:\n\n```\n<proxyConfig enabled=“1” override=“localhost*” useSingleProxy=“0”>\n<proxyHTTP address=“198.51.100.0\" login=“user” password=“*******” port=“8080”/>\n</proxyConfig>\n```\n\nHTTPS connections are defined in the proxyHTTPS parameter:\n\n```\n<proxyConfig enabled=“1\" override=“localhost*” useSingleProxy=“0\">\n<proxyHTTPS address=“198.51.100.0” login=“user” password=“******” port=“8080\"/>\n</proxyConfig>\n```\n\nFTP/FTPS connections are defined in the proxyFTP parameter:\n\n```\n<proxyConfig enabled=“1\" override=“localhost*” useSingleProxy=“0\">\n<proxyFTP address=“198.51.100.0” login=“user” password=“******” port=“5555\" https=”true”/>\n</proxyConfig>\n```\n\nIf you use the same proxy for several connection types, only the proxyHTTP will be defined with useSingleProxy set to \"1\" or \"true\".\n\nIf you have internal connections that should not go through the proxy, add them in the override parameter.\n\nIf you want to temporarily disable the proxy connection, set the enabled parameter to \"false\" or \"0\".\n\nIf you need to use the iOS HTTP/2 connector through a proxy, the following HTTP proxy modes are supported:\n\n* HTTP without authentication\n* HTTP basic authentication\n\nTo activate the proxy mode, the following change must be done in the `serverconf.xml` file:\n\n```\n<nmac useHTTPProxy=\"true\">\n```\n\nFor more information on this iOS HTTP/2 connector, refer to this [page](../../delivery/using/about-mobile-app-channel.md).\n\n## Manage public resources {#managing-public-resources}\n\nTo be publicly available, the images used in emails and public resources linked to campaigns must be present on an externally accessible server. They can then be available to external recipients or operators. [Learn more](../../installation/using/deploying-an-instance.md#managing-public-resources).\n\nPublic resources are stored in the **/var/res/instance** directory of the Adobe Campaign installation directory.\n\nThe matching URL is: **http://server/res/instance** where **instance** is the name of the tracking instance.\n\nYou can specify another directory by adding a node to the **conf-`<instance>`.xml** file to configure storage on the server. This means adding the following lines:\n\n```\n<serverconf>\n  <shared>\n    <dataStore hosts=\"media*\" lang=\"fra\">\n      <virtualDir name=\"images\" path=\"/var/www/images\"/>\n     <virtualDir name=\"publicFileRes\" path=\"$(XTK_INSTALL_DIR)/var/res/$(INSTANCE_NAME)/\"/>\n    </dataStore>\n  </shared>\n</serverconf>\n```\n\nIn this case, the new URL for the public resources given in the upper part of the window of the deployment wizard should point to this folder.\n","headers":[["title","File and resource management"],["feature","Installation, Application Settings"],["description","Learn how to configure file and resource management in Campaign"],["topic-tags","initial-configuration"]],"sections":[{"section":"File and resource management","sectionId":"9942c8ef-154d-4dc7-8839-b9031d85980c","paragraphs":[]},{"section":"Limit upload file format","sectionId":"1179b8ce-fbea-428e-af47-8c566cf4059a","paragraphs":["Use the uploadWhiteList attribute to restrict the file types available for upload on the Adobe Campaign server.","This attribute is available within the dataStore element of the serverConf.xml file. All the parameters available in the serverConf.xml are listed in this section.","The default value of this attribute is .+ and lets you upload any file type.","To limit the possible formats, replace the attribute value by a valid java regular expression. You can enter several values by separating them by a comma.","For example: uploadWhiteList=\".&#42;.png,.&#42;.jpg\" will let you upload PNG and JPG formats on the server. No other formats will be accepted.","You can also prevent important files from being uploaded by configuring the Web Server. Learn more","NOTE","The uploadWhiteList attribute restricts the file types available for upload on the Adobe Campaign server. However, when the publication mode is Tracking server(s) or Other Adobe Campaign server(s), the uploadWhitelist attribute must also be updated on those servers."]},{"section":"Proxy connection configuration","sectionId":"484cc437-cc7a-443d-9bce-90dc7fd7f9b5","paragraphs":["You can connect the Campaign server to an external system through a proxy, using a File Transfer workflow activity for example. To achieve this, you need to configure the proxyConfig section of the serverConf.xml file through a specific command. All parameters available in the serverConf.xml are listed in this section.","The following proxy connections are possible: HTTP, HTTPS, FTP, SFTP. Please note that starting 20.2 Campaign release, the HTTP and HTTPS protocol parameters are no longer available. Those parameters are still mentioned below as they remain available in previous builds - including 9032.","CAUTION","Only the basic authentication mode is supported. NTLM authentication is not supported.","SOCKS proxies are not supported.","You can use the following command:","nlserver config -setproxy:[protocol]/[serverIP]:[port]/[login][:‘https’|'http’]","protocol parameters can be ‘http’, ‘https’ or ‘ftp’.","If you are setting FTP on the same port as HTTP/HTTPS traffic, you can use the following:","nlserver config -setproxy:http/198.51.100.0:8080/user","The ‘http’ and ‘https’ options are only used when the protocol parameter is ‘ftp’ and indicate if the tunneling on the specified port will be performed over HTTPS or over HTTP.","If you use a different ports for FTP/SFTP and HTTP/HTTPS traffic over proxy server, you should set the ‘ftp’ protocol parameter.","For example:","nlserver config -setproxy:ftp/198.51.100.0:8080/user:’http’","Then enter the password.","HTTP connections are defined in the proxyHTTP parameter:","<proxyConfig enabled=“1” override=“localhost*” useSingleProxy=“0”>\n<proxyHTTP address=“198.51.100.0\" login=“user” password=“*******” port=“8080”/>\n</proxyConfig>","HTTPS connections are defined in the proxyHTTPS parameter:","<proxyConfig enabled=“1\" override=“localhost*” useSingleProxy=“0\">\n<proxyHTTPS address=“198.51.100.0” login=“user” password=“******” port=“8080\"/>\n</proxyConfig>","FTP/FTPS connections are defined in the proxyFTP parameter:","<proxyConfig enabled=“1\" override=“localhost*” useSingleProxy=“0\">\n<proxyFTP address=“198.51.100.0” login=“user” password=“******” port=“5555\" https=”true”/>\n</proxyConfig>","If you use the same proxy for several connection types, only the proxyHTTP will be defined with useSingleProxy set to \"1\" or \"true\".","If you have internal connections that should not go through the proxy, add them in the override parameter.","If you want to temporarily disable the proxy connection, set the enabled parameter to \"false\" or \"0\".","If you need to use the iOS HTTP/2 connector through a proxy, the following HTTP proxy modes are supported:","HTTP without authentication\nHTTP basic authentication","To activate the proxy mode, the following change must be done in the serverconf.xml file:","<nmac useHTTPProxy=\"true\">","For more information on this iOS HTTP/2 connector, refer to this page."]},{"section":"Manage public resources","sectionId":"bbc86ab0-1cca-4e36-a6bf-361271cd3612","paragraphs":["To be publicly available, the images used in emails and public resources linked to campaigns must be present on an externally accessible server. They can then be available to external recipients or operators. Learn more.","Public resources are stored in the /var/res/instance directory of the Adobe Campaign installation directory.","The matching URL is: http://server/res/instance where instance is the name of the tracking instance.","You can specify another directory by adding a node to the conf-<instance>.xml file to configure storage on the server. This means adding the following lines:","<serverconf>\n  <shared>\n    <dataStore hosts=\"media*\" lang=\"fra\">\n      <virtualDir name=\"images\" path=\"/var/www/images\"/>\n     <virtualDir name=\"publicFileRes\" path=\"$(XTK_INSTALL_DIR)/var/res/$(INSTANCE_NAME)/\"/>\n    </dataStore>\n  </shared>\n</serverconf>","In this case, the new URL for the public resources given in the upper part of the window of the deployment wizard should point to this folder."]}]}