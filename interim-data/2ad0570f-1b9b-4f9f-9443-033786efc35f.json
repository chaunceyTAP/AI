{"guid":"2ad0570f-1b9b-4f9f-9443-033786efc35f","title":"Connection thresholds","path":"help\\production\\using\\connection-thresholds.md","fullText":"---\nproduct: campaign\ntitle: Connection thresholds\ndescription: Connection thresholds\nfeature: Monitoring\nbadge-v7-prem: label=\"On-premise/hybrid only\" type=\"Caution\" url=\"https://experienceleague.adobe.com/docs/campaign-classic/using/installing-campaign-classic/architecture-and-hosting-models/hosting-models-lp/hosting-models.html\" tooltip=\"Applies to on-premise and hybrid deployments only\"\naudience: production\ncontent-type: reference\ntopic-tags: troubleshooting\nexl-id: 4ee05559-e719-4e6e-b42c-1e82df428871\n---\n# Connection thresholds{#connection-thresholds}\n\n\n\nFor heavily loaded servers, the connection threshold might be exceeded. In any event, it is useful to find out why.\n\nThere are three different thresholds:\n\n* The **Web connection threshold**, configured in your web server. To modify it, contact your system administrator.\n\n* The **database connection threshold**. To modify it, contact your database administrator.\n\n* The **Adobe Campaign connection threshold**, available in two places:\n\n    * **Tomcat** side: all queries actually arriving on the Adobe Campaign Tomcat client.\n\n      This threshold is configured in the **nl6/tomcat-X/conf/server.xml** file. The **maxThreads** attribute lets you increase the threshold of the number of queries processed at a time. It can be changed to 250, for instance.\n\n      ```    \n      <Connector protocol=\"HTTP/1.1\" port=\"8080\"\n                     maxThreads=\"75\"\n                     minSpareThreads=\"5\"\n                     enableLookups=\"true\" redirectPort=\"8443\"\n                     acceptCount=\"100\" connectionTimeout=\"20000\"\n                     disableUploadTimeout=\"true\" />\n          <Engine name=\"Tomcat-Standalone\" defaultHost=\"localhost\">\n            <Host name=\"localhost\" appBase=\"./\"\n                  unpackWARs=\"true\" autoDeploy=\"true\">\n      ```\n\n    * **Database**: set of all connections open at the same time on the database by a process.\n\n      This threshold is configured in the file **nl6/conf/serverConf.xml**. The **maxCnx** attribute located in **datasource pool** lets you increase the threshold of queries processed simultaneously.\n\n      ```    \n          <!-- Data source\n               -->\n            <dataSource name=\"default\">\n              <dbcnx NChar=\"\" bulkCopyUtility=\"\" dbSchema=\"\" encrypted=\"\" login=\"\" password=\"\" provider=\"\" server=\"\" timezone=\"\" unicodeData=\"\" useTimestampTZ=\"\"/>\n              <sqlParams funcPrefix=\"\">\n                <postConnectSQL/>\n              </sqlParams>\n              <pool aliveTestDelaySec=\"600\" freeCnx=\"0\" maxCnx=\"90\" maxIdleDelaySec=\"1200\"/>\n            </dataSource>\n      ```\n","headers":[["title","Connection thresholds"],["description","Connection thresholds"],["feature","Monitoring"],["topic-tags","troubleshooting"]],"sections":[{"section":"Connection thresholds","sectionId":"36da151b-0a17-46bf-9c59-2833a82dfd5e","paragraphs":["For heavily loaded servers, the connection threshold might be exceeded. In any event, it is useful to find out why.","There are three different thresholds:","The Web connection threshold, configured in your web server. To modify it, contact your system administrator.","The database connection threshold. To modify it, contact your database administrator.","The Adobe Campaign connection threshold, available in two places:","Tomcat side: all queries actually arriving on the Adobe Campaign Tomcat client.","This threshold is configured in the nl6/tomcat-X/conf/server.xml file. The maxThreads attribute lets you increase the threshold of the number of queries processed at a time. It can be changed to 250, for instance.","<Connector protocol=\"HTTP/1.1\" port=\"8080\"\n               maxThreads=\"75\"\n               minSpareThreads=\"5\"\n               enableLookups=\"true\" redirectPort=\"8443\"\n               acceptCount=\"100\" connectionTimeout=\"20000\"\n               disableUploadTimeout=\"true\" />\n    <Engine name=\"Tomcat-Standalone\" defaultHost=\"localhost\">\n      <Host name=\"localhost\" appBase=\"./\"\n            unpackWARs=\"true\" autoDeploy=\"true\">","Database: set of all connections open at the same time on the database by a process.","This threshold is configured in the file nl6/conf/serverConf.xml. The maxCnx attribute located in datasource pool lets you increase the threshold of queries processed simultaneously.","<!-- Data source\n         -->\n      <dataSource name=\"default\">\n        <dbcnx NChar=\"\" bulkCopyUtility=\"\" dbSchema=\"\" encrypted=\"\" login=\"\" password=\"\" provider=\"\" server=\"\" timezone=\"\" unicodeData=\"\" useTimestampTZ=\"\"/>\n        <sqlParams funcPrefix=\"\">\n          <postConnectSQL/>\n        </sqlParams>\n        <pool aliveTestDelaySec=\"600\" freeCnx=\"0\" maxCnx=\"90\" maxIdleDelaySec=\"1200\"/>\n      </dataSource>"]}]}