{"guid":"cee9a081-97df-4ddf-90a5-909828692e5f","title":"Build a workflow","path":"help\\workflow\\using\\building-a-workflow.md","fullText":"---\nproduct: campaign\ntitle: Build a workflow\ndescription: Learn how to build a workflow\nfeature: Workflows\nexl-id: 8ba20ccd-b03f-4c4f-87c1-a21e80d8e4be\n---\n# Build a workflow {#building-a-workflow}\n\n\n\nThis section details the key principles and best practices to build a workflow in Campaign.\n\n* Create a workflow, see [Creating a new workflow](#creating-a-new-workflow)\n* Design the workflow diagram, see [Adding and linking activities](#adding-and-linking-activities)\n* Access parameters and properties of activities, see [Configuring activities](#configuring-activities)\n* Design targeting workflows, see [Targeting workflows](#targeting-workflows)\n* Use workflows to execute a campaign, see [Campaign workflows](#campaign-workflows)\n* Access and create technical workflows, see [Technical workflows](#technical-workflows)\n* Use templates to create workflows, see [Workflow templates](#workflow-templates)\n\n## Create a new workflow {#creating-a-new-workflow}\n\nFrom the **[!UICONTROL Explorer]**, access a workflow folder. By default, you can use **[!UICONTROL Profiles and Targets]** > **[!UICONTROL Jobs]** > **[!UICONTROL Targeting workflows]**.\n\nClick the **[!UICONTROL New]** button located above the list of workflows. \n\n![](assets/create_a_wf_icon.png)\n\nOr, you can also use the **[!UICONTROL Create]** button in the workflow overview (**[!UICONTROL Monitoring]** > **[!UICONTROL Workflow]** link).\n\n![](assets/create_a_wf.png)\n\nEnter a label and click **[!UICONTROL Save]**.\n\n>[!NOTE]\n>\n>When you modify the internal name of a workflow activity or the workflow itself, make sure that you save the workflow before closing it so that the new internal name is correctly taken into account.\n\n## Add and link activities {#adding-and-linking-activities}\n\nYou must now define the various activities and link them together in the diagram. At this stage of the configuration, we can see the diagram label and the workflow status (Editing in progress). The lower section of the window is used for editing the diagram only. It contains a toolbar, a palette of activities (on the left) and the diagram itself (on the right).\n\n![](assets/new-workflow-2.png)\n\n>[!NOTE]\n>\n>If the palette is not shown, click the first button on the toolbar to display it.\n\nActivities are grouped by category inside the different tabs of the palette. Available tabs and activities can vary depending on the workflow type (technical, targeting or campaign workflow).\n\n* The first tab contains targeting and data manipulation activities. These activities are detailed in [Targeting activities](about-targeting-activities.md).\n* The second tab contains the scheduling activities, which are mainly used for coordinating other activities. These activities are detailed in [Flow control activities](about-flow-control-activities.md).\n* The third tab contains tools and actions that can be used in the workflow. These activities are detailed in [Action activities](about-action-activities.md).\n* The fourth tab contains activities that depend on a given event, such as the receipt of an email or the arrival of a file on a server. These activities are detailed in [Event activities](about-event-activities.md).\n\nTo create the diagram\n\n1. Add an activity by selecting it in the palette and by moving it to the diagram using a drag-and-drop operation.\n\n   Add a **Start** activity and then a **Delivery** activity on the diagram.\n\n   ![](assets/new-workflow-3.png)\n\n1. Link the activities together by dragging the **Start** activity transition and dropping it on to the **Delivery** activity.\n\n   ![](assets/new-workflow-4.png)\n\n   You can automatically link an activity to the previous one by placing the new activity at the end of the transition.\n\n1. Add the activities you need and link them together as shown in the diagram below.\n\n   ![](assets/new-workflow-5.png)\n\n>[!CAUTION]\n>\n>You can copy and paste activities within a same workflow. However, we do not recommend to copy paste activities across different workflows. Some settings attached to activities like Deliveries and Scheduler could lead to conflicts and errors while executing the destination workflow. Instead, we recommended you to  **Duplicate** workflows. For more information, see [Duplicate workflows](#duplicating-workflows).\n\nYou can change the display and layout of the chart using the following elements:\n\n* **Use the toolbar**\n\n  The diagram editing toolbar gives you access to the layout and execution functions of the workflow.\n\n  ![](assets/s_user_segmentation_wizard_10.png)\n\n  This lets you adapt the layout of the editing tool: display of the palette and the overview, size and alignment of graphical objects.\n\n  ![](assets/s_user_segmentation_toolbar.png)\n\n  Icons related to progress and logs display are detailed in these sections:\n  \n    * [Displaying progress](../../workflow/using/monitoring-workflow-execution.md#displaying-progress)\n    * [Displaying logs](../../workflow/using/monitoring-workflow-execution.md#displaying-logs)\n\n* **Object alignment**\n\n  To align icons, select them and click the **[!UICONTROL Align vertically]** or **[!UICONTROL Align horizontally]** icon.\n\n  Use the **CTRL** key to select several scattered activities or to deselect one or more activities. Click on the diagram background to deselect everything.\n\n* **Image management**\n\n  You can customize the background image of the diagram as well as those related to the various activities. Refer to [Change activity images](managing-activity-images.md).\n\n## Configure activities {#configuring-activities}\n\nDouble-click an activity to configure it or right-click and select **[!UICONTROL Open...]**.\n\n>[!NOTE]\n>\n>Campaign workflow activities are detailed in [this section](about-activities.md).\n\nThe first tab contains the basic configuration. The **[!UICONTROL Advanced]** tab contains the additional parameters, which are used particularly for defining behavior when an error is encountered, specifying the execution duration for an activity, and for entering an initialization script.\n\nFor a better understanding of the activities and to improve workflow legibility, you can enter comments in the activities: these will be displayed automatically when operators scroll over the activity.\n\n![](assets/example1-comment.png)\n\n## Targeting workflows {#targeting-workflows}\n\nTargeting workflows enable you to build several delivery targets. You can create queries, define unions or exclusions based on specific criteria, add scheduling, thanks to workflow activities. The result of this targeting can be transferred automatically to a list which can serve as the target of delivery actions\n\nIn addition to these activities, Data Management options let you manipulate data and access advanced functions to satisfy complex targeting issues. For more on this, refer to [Data Management](targeting-data.md#data-management).\n\nAll these activities can be found in the first workflow tab.\n\n>[!NOTE]\n>\n>Targeting activities are detailed in [this section](about-activities.md).\n\nTargeting workflows can be created and edited via the **[!UICONTROL Profiles and Targets > Jobs > Targeting workflows]** node of the Adobe Campaign tree or via the **[!UICONTROL Profiles and Targets > Targeting workflows]** menu of the home page.\n\n![](assets/target_wf.png)\n\nTargeting workflows within the framework of a campaign are stored with all campaign workflows.\n\n### Key steps to create a targeting workflow {#implementation-steps-}\n\nSteps to create a targeting workflow are detailed in these sections:\n\n1. **Identify** data in the database -  See [Create queries](targeting-data.md#creating-queries)\n1. **Prepare** data to meet delivery needs - See [Enrich and modify data](targeting-data.md#enriching-and-modifying-data)\n1. **Use** data to perform updates or within a delivery - See [Update the database](how-to-use-workflow-data.md#updating-the-database)\n\nThe results of all enrichments and all handlings carried out during targeting are stored and accessible in personalization fields, in particular for use when creating personalized messages. For more on this, refer to [Target data](data-life-cycle.md#target-data)\n\n### Targeting and filtering dimensions {#targeting-and-filtering-dimensions}\n\nDuring data segmentation operations, the targeting key is mapped to a filtering dimension. The targeting dimension lets you define the population targeted by the operation: recipients, contract beneficiaries, operator, subscribers, etc. The filtering dimension lets you select the population based on certain criteria: contract holders, newsletter subscribers, etc.\n\nFor example, to select clients who have had a life-insurance policy for over 5 years, select the following targeting dimension: **Clients** and the following filtering dimension: **Contract holder**. You can then define the filtering conditions within the query activity\n\nDuring the targeting dimension selection stage, only compatible filtering dimensions are offered in the interface.\n\nThese two dimensions must be related. Thus, the content of the **[!UICONTROL Filtering dimension]** list depends on the targeting dimension specified in the first field.\n\nFor example, for recipients (**recipient**), the following filtering dimensions will be available:\n\n![](assets/query_filter_target_dimensions_1.png)\n\nWhile for **Web Applications**, the list will contain the following filtering dimensions:\n\n![](assets/query_filter_target_dimensions_2.png)\n\n## Campaign workflows {#campaign-workflows}\n\nFor each campaign, you can create workflows to be executed from the **[!UICONTROL Targeting and workflows]** tab. These workflows are specific to the campaign.\n\n![](assets/wf-in-op-edit-delivery-tab.png)\n\nThis tab contains the same activities as for all workflows. [Learn more](#implementation-steps-)\n\nIn addition to targeting campaigns, campaign workflows enable you to create and configure deliveries entirely for all available channels. Once created in the workflow, these deliveries are available from the dashboard of the campaign. [Learn more](../../campaign/using/marketing-campaign-deliveries.md)\n\nAll campaign workflows are centralized under the **[!UICONTROL Administration > Production > Objects created automatically > Campaign workflows]** node.\n\n![](assets/campaigns_wf.png)\n\nCampaign workflows and implementation examples are detailed in [this page](../../campaign/using/marketing-campaign-deliveries.md#building-the-main-target-in-a-workflow).\n\n## Technical workflows {#technical-workflows}\n\nTechnical workflows are provided out-of-the-box with Adobe Campaign. They are operations or jobs scheduled for periodic execution on the server. They let you carry out maintenance on the database, forward tracking information on deliveries and set up provisional processes on deliveries. Technical workflows are configured via the **[!UICONTROL Administration > Production > Technical workflows]** node.\n\n![](assets/navtree.png)\n\nNative templates are available for creating technical workflows. They can be configured to suit your needs.\n\nThe **[!UICONTROL Campaign process]** subfolder centralizes the workflows required for executing processes within the campaigns: task notification, stock management, cost calculation, etc.\n\n>[!NOTE]\n>\n>The list of technical workflows installed with each module is available in a [dedicated section](about-technical-workflows.md).\n\nYou can create other technical workflows in the **[!UICONTROL Administration > Production > Technical workflows]** node of the tree structure. However, this process is reserved for expert users.\n\nThe activities offered are the same as for targeting workflows. [Learn more](#implementation-steps-)\n\n## Workflow templates {#workflow-templates}\n\nWorkflow templates contain the overall configuration of properties and possibly a range of activities concatenated within a diagram. This configuration can be reused for creating new workflows containing a certain number of pre-configured elements\n\nYou can create new workflow templates based on existing templates or change a workflow into a template directly.\n\nWorkflow templates are stored in the **[!UICONTROL Resources > Templates > Workflow templates]** node of the Adobe Campaign tree.\n\n![](assets/s_advuser_wf_template_tree.png)\n\nIn addition to the usual workflow properties, the template properties allow you to specify the execution file for workflows created based on this template.\n\n![](assets/s_advuser_wf_template_properties.png)\n\n## Duplicate workflows {#duplicating-workflows}\n\nYou can duplicate different types of workflows. Once duplicated, modifications of the workflow are not carried over to the copy of the workflow.\n\n>[!CAUTION]\n>\n>Copy-paste is available in workflows but we recommend you to use **Duplicate**. Once an activity copied, its whole configuration is kept. For delivery activities (Email, SMS, Push Notification...), the delivery object attached to the activity is also copied which can lead to crash.\n\n1. Right-click on a workflow.\n1. Click **Duplicate**.\n\n     ![](assets/duplicate-workflows.png)\n\n1. In the workflow window, change the workflow label.\n1. Click **Save**.\n\nThe duplicate feature is not directly available in the view of a campaign.\n\nYet, you can create a view to display all the workflows on your instance. In this view, you can duplicate workflows using **Duplicate to**.\n\n**Create a view**\n\n1. In **Explorer**, go to the folder you need to create your view in.\n1. Right-click and go to **Add a new folder** > **Process**, select **Workflows**.\n\n    ![](assets/add-new-folder-workflows.png)\n\nThe new folder **Workflows** is created.\n\n1. Right-click and select **Properties**.\n1. In **Restriction**, check **Folder is a view** and click **Save**.\n\n    ![](assets/folder-is-a-view.png)\n\nThe folder is now populated with all the workflows of your instance.\n\n**Duplicate a campaign workflow**\n\n1. Select a campaign workflow in the workflow view.\n1. Right-click **Duplicate to**.\n    ![](assets/duplicate-to-right-click.png)\n1. Change its label.\n1. Click **Save**.\n\nYou can see your duplicated workflow in the workflow view.\n","headers":[["title","Build a workflow"],["description","Learn how to build a workflow"],["feature","Workflows"]],"sections":[{"section":"Build a workflow","sectionId":"5e4edc61-6949-4218-921f-ccbaa5a96434","paragraphs":["This section details the key principles and best practices to build a workflow in Campaign.","Create a workflow, see Creating a new workflow\nDesign the workflow diagram, see Adding and linking activities\nAccess parameters and properties of activities, see Configuring activities\nDesign targeting workflows, see Targeting workflows\nUse workflows to execute a campaign, see Campaign workflows\nAccess and create technical workflows, see Technical workflows\nUse templates to create workflows, see Workflow templates"]},{"section":"Create a new workflow","sectionId":"8a7bafa3-5859-4577-9f12-578570a5d9e8","paragraphs":["From the Explorer, access a workflow folder. By default, you can use Profiles and Targets > Jobs > Targeting workflows.","Click the New button located above the list of workflows.","Or, you can also use the Create button in the workflow overview (Monitoring > Workflow link).","Enter a label and click Save.","NOTE","When you modify the internal name of a workflow activity or the workflow itself, make sure that you save the workflow before closing it so that the new internal name is correctly taken into account."]},{"section":"Add and link activities","sectionId":"1b7e0e48-248e-4be4-838f-6a17cbc5212f","paragraphs":["You must now define the various activities and link them together in the diagram. At this stage of the configuration, we can see the diagram label and the workflow status (Editing in progress). The lower section of the window is used for editing the diagram only. It contains a toolbar, a palette of activities (on the left) and the diagram itself (on the right).","NOTE","If the palette is not shown, click the first button on the toolbar to display it.","Activities are grouped by category inside the different tabs of the palette. Available tabs and activities can vary depending on the workflow type (technical, targeting or campaign workflow).","The first tab contains targeting and data manipulation activities. These activities are detailed in Targeting activities.\nThe second tab contains the scheduling activities, which are mainly used for coordinating other activities. These activities are detailed in Flow control activities.\nThe third tab contains tools and actions that can be used in the workflow. These activities are detailed in Action activities.\nThe fourth tab contains activities that depend on a given event, such as the receipt of an email or the arrival of a file on a server. These activities are detailed in Event activities.","To create the diagram","Add an activity by selecting it in the palette and by moving it to the diagram using a drag-and-drop operation.","Add a Start activity and then a Delivery activity on the diagram.","Link the activities together by dragging the Start activity transition and dropping it on to the Delivery activity.","You can automatically link an activity to the previous one by placing the new activity at the end of the transition.","Add the activities you need and link them together as shown in the diagram below.","CAUTION","You can copy and paste activities within a same workflow. However, we do not recommend to copy paste activities across different workflows. Some settings attached to activities like Deliveries and Scheduler could lead to conflicts and errors while executing the destination workflow. Instead, we recommended you to  Duplicate workflows. For more information, see Duplicate workflows.","You can change the display and layout of the chart using the following elements:","Use the toolbar","The diagram editing toolbar gives you access to the layout and execution functions of the workflow.","This lets you adapt the layout of the editing tool: display of the palette and the overview, size and alignment of graphical objects.","Icons related to progress and logs display are detailed in these sections:","Displaying progress\nDisplaying logs","Object alignment","To align icons, select them and click the Align vertically or Align horizontally icon.","Use the CTRL key to select several scattered activities or to deselect one or more activities. Click on the diagram background to deselect everything.","Image management","You can customize the background image of the diagram as well as those related to the various activities. Refer to Change activity images."]},{"section":"Configure activities","sectionId":"1fcc325c-e96d-43fc-b8dd-403711fcfae1","paragraphs":["Double-click an activity to configure it or right-click and select Open....","NOTE","Campaign workflow activities are detailed in this section.","The first tab contains the basic configuration. The Advanced tab contains the additional parameters, which are used particularly for defining behavior when an error is encountered, specifying the execution duration for an activity, and for entering an initialization script.","For a better understanding of the activities and to improve workflow legibility, you can enter comments in the activities: these will be displayed automatically when operators scroll over the activity."]},{"section":"Targeting workflows","sectionId":"a4004323-1dde-4bb8-8f31-1dbcb1b8562d","paragraphs":["Targeting workflows enable you to build several delivery targets. You can create queries, define unions or exclusions based on specific criteria, add scheduling, thanks to workflow activities. The result of this targeting can be transferred automatically to a list which can serve as the target of delivery actions","In addition to these activities, Data Management options let you manipulate data and access advanced functions to satisfy complex targeting issues. For more on this, refer to Data Management.","All these activities can be found in the first workflow tab.","NOTE","Targeting activities are detailed in this section.","Targeting workflows can be created and edited via the Profiles and Targets > Jobs > Targeting workflows node of the Adobe Campaign tree or via the Profiles and Targets > Targeting workflows menu of the home page.","Targeting workflows within the framework of a campaign are stored with all campaign workflows."]},{"section":"Key steps to create a targeting workflow","sectionId":"0bf4a6ed-e2b6-4e6b-8dec-d9afe1d61ff6","paragraphs":["Steps to create a targeting workflow are detailed in these sections:","Identify data in the database -  See Create queries\nPrepare data to meet delivery needs - See Enrich and modify data\nUse data to perform updates or within a delivery - See Update the database","The results of all enrichments and all handlings carried out during targeting are stored and accessible in personalization fields, in particular for use when creating personalized messages. For more on this, refer to Target data"]},{"section":"Targeting and filtering dimensions","sectionId":"58f530f0-f22b-4e9d-bbb6-7cdea525abf5","paragraphs":["During data segmentation operations, the targeting key is mapped to a filtering dimension. The targeting dimension lets you define the population targeted by the operation: recipients, contract beneficiaries, operator, subscribers, etc. The filtering dimension lets you select the population based on certain criteria: contract holders, newsletter subscribers, etc.","For example, to select clients who have had a life-insurance policy for over 5 years, select the following targeting dimension: Clients and the following filtering dimension: Contract holder. You can then define the filtering conditions within the query activity","During the targeting dimension selection stage, only compatible filtering dimensions are offered in the interface.","These two dimensions must be related. Thus, the content of the Filtering dimension list depends on the targeting dimension specified in the first field.","For example, for recipients (recipient), the following filtering dimensions will be available:","While for Web Applications, the list will contain the following filtering dimensions:"]},{"section":"Campaign workflows","sectionId":"9d3c9eb4-86d7-40f8-95ab-81c682bf1f94","paragraphs":["For each campaign, you can create workflows to be executed from the Targeting and workflows tab. These workflows are specific to the campaign.","This tab contains the same activities as for all workflows. Learn more","In addition to targeting campaigns, campaign workflows enable you to create and configure deliveries entirely for all available channels. Once created in the workflow, these deliveries are available from the dashboard of the campaign. Learn more","All campaign workflows are centralized under the Administration > Production > Objects created automatically > Campaign workflows node.","Campaign workflows and implementation examples are detailed in this page."]},{"section":"Technical workflows","sectionId":"cf509a1a-b02a-4dab-ad5c-8f752465fa4d","paragraphs":["Technical workflows are provided out-of-the-box with Adobe Campaign. They are operations or jobs scheduled for periodic execution on the server. They let you carry out maintenance on the database, forward tracking information on deliveries and set up provisional processes on deliveries. Technical workflows are configured via the Administration > Production > Technical workflows node.","Native templates are available for creating technical workflows. They can be configured to suit your needs.","The Campaign process subfolder centralizes the workflows required for executing processes within the campaigns: task notification, stock management, cost calculation, etc.","NOTE","The list of technical workflows installed with each module is available in a dedicated section.","You can create other technical workflows in the Administration > Production > Technical workflows node of the tree structure. However, this process is reserved for expert users.","The activities offered are the same as for targeting workflows. Learn more"]},{"section":"Workflow templates","sectionId":"ab320f26-ebec-4b4b-980e-12366ac641c3","paragraphs":["Workflow templates contain the overall configuration of properties and possibly a range of activities concatenated within a diagram. This configuration can be reused for creating new workflows containing a certain number of pre-configured elements","You can create new workflow templates based on existing templates or change a workflow into a template directly.","Workflow templates are stored in the Resources > Templates > Workflow templates node of the Adobe Campaign tree.","In addition to the usual workflow properties, the template properties allow you to specify the execution file for workflows created based on this template."]},{"section":"Duplicate workflows","sectionId":"b6c43369-0b79-4747-a1d4-b89521c0d8e3","paragraphs":["You can duplicate different types of workflows. Once duplicated, modifications of the workflow are not carried over to the copy of the workflow.","CAUTION","Copy-paste is available in workflows but we recommend you to use Duplicate. Once an activity copied, its whole configuration is kept. For delivery activities (Email, SMS, Push Notification...), the delivery object attached to the activity is also copied which can lead to crash.","Right-click on a workflow.","Click Duplicate.","","In the workflow window, change the workflow label.","Click Save.","The duplicate feature is not directly available in the view of a campaign.","Yet, you can create a view to display all the workflows on your instance. In this view, you can duplicate workflows using Duplicate to.","Create a view","In Explorer, go to the folder you need to create your view in.","Right-click and go to Add a new folder > Process, select Workflows.","The new folder Workflows is created.","Right-click and select Properties.","In Restriction, check Folder is a view and click Save.","The folder is now populated with all the workflows of your instance.","Duplicate a campaign workflow","Select a campaign workflow in the workflow view.\nRight-click Duplicate to.\n \nChange its label.\nClick Save.","You can see your duplicated workflow in the workflow view."]}]}