{"guid":"17718595-10ef-452b-8c36-63424ed1679b","title":"Standalone deployment","path":"help\\installation\\using\\standalone-deployment.md","fullText":"---\nproduct: campaign\ntitle: Standalone deployment\ndescription: Standalone deployment\nfeature: Installation, Architecture, Deployment\naudience: installation\ncontent-type: reference\ntopic-tags: deployment-types-\nexl-id: 194366ab-fd9f-4431-9163-ae16c1f96db2\n---\n# Standalone deployment{#standalone-deployment}\n\n\n\nThis configuration includes all components on the same computer:\n\n* application process (web),\n* delivery process (mta),\n* redirection process (tracking),\n* workflow process and scheduled tasks (wfserver),\n* bounce mail process (inMail),\n* statistics process (stat).\n\nOverall communication between the processes is carried out according to the following schema:\n\n![](assets/s_900_ncs_install_standaloneconfig.png)\n\nThis type of configuration can be run when managing lists of fewer than 100,000 recipients and with, for example, the following software layers:\n\n* Linux,\n* Apache,\n* PostgreSQL,\n* Qmail.\n\nAs the volume grows, a variant of this architecture moves the database server to another computer for better performance.\n\n>[!NOTE]\n>\n>An existing database server may also be used if it has sufficient resources.\n\n## Features {#features}\n\n### Advantages {#advantages}\n\n* Fully standalone and low configuration cost (no billable licenses required if the open-source software listed below is used).\n* Simplified installation and network configuration.\n\n### Disadvantages {#disadvantages}\n\n* A critical computer in case of incident.\n* Limited bandwidth when broadcasting messages (in our experience, around several tens of thousands of mails per hour).\n* Potential slowing of the application when broadcasting.\n* The application server must be available from the outside (whilst being located in the DMZ, for example) since it hosts the redirection server.\n\n## Installation and configuration steps {#installation-and-configuration-steps}\n\n### Prerequisites {#prerequisites}\n\n* JDK,\n* Web server (IIS, Apache),\n* Access to a database server,\n* Bounce mailbox accessible via POP3,\n* Creation of two DNS aliases:\n\n    * the first exposed to the public for tracking and pointing to the computer on its public IP;\n    * the second alias exposed to internal users for console access and pointing to the same computer.\n\n* Firewall configured to open SMTP (25), DNS (53), HTTP (80), HTTPS (443), SQL (1521 for Oracle, 5432 for PostgreSQL, etc.) ports. For further information, refer to [Network configuration](../../installation/using/network-configuration.md).\n\nIn the following examples, the parameters of the instance are:\n\n* Name of the instance: **demo**\n* DNS mask: **console.campaign.net&#42;** (only for client console connections and for reports)\n* Database: **campaign:demo@dbsrv**\n\n### Installing and configuring (single machine) {#installing-and-configuring--single-machine-}\n\nApply the following steps:\n\n1. Follow the installation procedure for the Adobe Campaign server: **nlserver** package on Linux or **setup.exe** on Windows.\n\n   For more on this, refer to [Prerequisites of Campaign installation in Linux](../../installation/using/prerequisites-of-campaign-installation-in-linux.md) (Linux) and [Prerequisites of Campaign installation in Windows](../../installation/using/prerequisites-of-campaign-installation-in-windows.md) (Windows).\n\n1. Once the Adobe Campaign server is installed, start the application server (web) using the command **nlserver web -tomcat** (the Web module enables you to start Tomcat in standalone Web server mode listening on port 8080) and to make sure Tomcat starts correctly:\n\n   ```sql\n   12:08:18 >   Application server for Adobe Campaign Classic (7.X YY.R build XXX@SHA1) of DD/MM/YYYY\n   12:08:18 >   Starting Web server module (pid=28505, tid=-1225184768)...\n   12:08:18 >   Tomcat started\n   12:08:18 >   Server started\n   ```\n\n   >[!NOTE]\n   >\n   >The first time the Web module is executed it creates the **config-default.xml** and **serverConf.xml** files in the **conf** directory under the installation folder. All the parameters available in the **serverConf.xml** are listed in this [section](../../installation/using/the-server-configuration-file.md).\n\n   Press **Ctrl+C** to stop the server.\n\n   For more on this, refer to the following sections:\n\n    * For Linux: [First start-up of the server](../../installation/using/installing-packages-with-linux.md#first-start-up-of-the-server),\n    * For Windows: [First start-up of the server](../../installation/using/installing-the-server.md#first-start-up-of-the-server).\n\n1. Change the **internal** password using the command:\n\n   ```\n   nlserver config -internalpassword\n   ```\n\n   For more on this, refer to [this section](../../installation/using/configuring-campaign-server.md#internal-identifier).\n\n1. Create the **demo** instance with the DNS masks for tracking (in this case, **tracking.campaign.net**) and access to client consoles (in this case, **console.campaign.net**). There are two ways of doing this:\n\n    * Create the instance via the console: \n    \n      ![](assets/install_create_new_connexion.png)\n\n      For more on this, refer to [Create an instance and log on](../../installation/using/creating-an-instance-and-logging-on.md).\n\n      or\n    \n    * Create the instance using command lines:\n\n      ```    \n      nlserver config -addinstance:demo/tracking.campaign.net*,console.campaign.net*\n      ```    \n    \n      For more on this, refer to [Creating an instance](../../installation/using/command-lines.md#creating-an-instance).\n\n1. Edit the **config-demo.xml** file (created in the previous step next to **config-default.xml**) and make sure the **mta** (delivery), **wfserver** (workflow), **inMail** (bounce mails) and **stat** (statistics) processes are enabled. Then configure the address of the statistics server:\n\n   ```\n   <?xml version='1.0'?>\n   <serverconf>  \n     <shared>    \n       <!-- add lang=\"eng\" to dataStore to force English for the instance -->    \n       <dataStore hosts=\"tracking.campaign.net*,console.campaign.net*\">      \n         <mapping logical=\"*\" physical=\"default\"/>    \n       </dataStore>  </shared>  \n       <mta autoStart=\"true\" statServerAddress=\"localhost\"/>\n       <wfserver autoStart=\"true\"/>  \n       <inMail autoStart=\"true\"/>  \n       <sms autoStart=\"false\"/>  \n       <listProtect autoStart=\"false\"/>\n   </serverconf>\n   ```\n\n   For more on this, refer to [this section](../../installation/using/configuring-campaign-server.md#enabling-processes).\n\n1. Edit the **serverConf.xml** file and specify the delivery domain, then specify the IP (or host) addresses of the DNS servers used by the MTA module to answer MX type DNS queries.\n\n   ```\n   <dnsConfig localDomain=\"campaign.com\" nameServers=\"192.0.0.1, 192.0.0.2\"/>\n   ```\n\n   >[!NOTE]\n   >\n   >The **nameServers** parameter is only used in Windows.\n\n   For more on this, refer to [Campaign server configuration](../../installation/using/configuring-campaign-server.md).\n\n1. Copy the client console setup program **setup-client-7.XXX.exe** to the **/datakit/nl/eng/jsp** folder. [Learn more](../../installation/using/client-console-availability-for-windows.md).\n\n1. Follow the Web server integration procedure (IIS, Apache) described in the following sections:\n\n    * For Linux: [Integration into a Web server for Linux](../../installation/using/integration-into-a-web-server-for-linux.md)\n    * For Windows: [Integration into a Web server for Windows](../../installation/using/integration-into-a-web-server-for-windows.md)\n\n1. Start the website and test redirection using the URL: https://tracking.campaign.net/r/test.\n\n   The browser must display the following message:\n\n   ```\n   <redir status=\"OK\" date=\"AAAA/MM/JJ HH:MM:SS\" build=\"XXXX\" host=\"tracking.campaign.net\" localHost=\"localhost\"/>\n   ```\n\n   For more on this, refer to the following sections:\n\n    * For Linux: [Launching the Web server and testing the configuration](../../installation/using/integration-into-a-web-server-for-linux.md#launching-the-web-server-and-testing-the-configuration)\n    * For Windows: [Launching the Web server and testing the configuration](../../installation/using/integration-into-a-web-server-for-windows.md#launching-the-web-server-and-testing-the-configuration)\n\n1. Start the Adobe Campaign server (**net start nlserver6** in Windows, **/etc/init.d/nlserver6 start** in Linux) and run the command **nlserver pdump** once more to check for presence of all enabled modules.\n\n   >[!NOTE]\n   >\n   >Starting 20.1, we recommend using the following command instead (for Linux): **systemctl start nlserver**\n\n   ```sql\n   12:09:54 >   Application server for Adobe Campaign Classic (7.X YY.R build XXX@SHA1) of DD/MM/YYYY\n   syslogd@default (7611) - 9.2 MB\n   stat@demo (5988) - 1.5 MB\n   inMail@demo (7830) - 11.9 MB\n   watchdog (27369) - 3.1 MB\n   mta@demo (7831) - 15.6 MB\n   wfserver@demo (7832) - 11.5 MB\n   web@default (28671) - 40.5 MB\n   ```\n\n   This command also lets you know the version and build number of the Adobe Campaign server installed on the computer.\n\n1. Test the **nlserver web** module using the URL: https://console.campaign.net/nl/jsp/logon.jsp\n\n   This URL enables you to access the download page for the client setup program.\n\n   Enter the **internal** login and associated password when you reach the access control page. [Learn more](../../installation/using/client-console-availability-for-windows.md).\n\n   ![](assets/s_ncs_install_access_client.png)\n\n1. Start the Adobe Campaign client console (from the previous download page or launched directly on the server for a Windows installation), set the server connection URL to https://console.campaign.net and connect using the **internal** login.\n\n   Refer to [this page](../../installation/using/creating-an-instance-and-logging-on.md) and [this section](../../installation/using/configuring-campaign-server.md#internal-identifier).\n\n   The database creation wizard appears when you log in for the first time:\n\n   ![](assets/s_ncs_install_db_oracle_creation01.png)\n\n   Follow the steps in the wizard and create the database associated with the connection instance.\n\n   For more on this, refer to [Creating and configuring the database](../../installation/using/creating-and-configuring-the-database.md).\n\n   Once the database is created, log off.\n\n1. Log back on to the client console using the **admin** login without a password and start the deployment wizard ( **[!UICONTROL Tools > Advanced]** menu) to finish configuring the instance.\n\n   For more on this, refer to [Deploying an instance](../../installation/using/deploying-an-instance.md).\n\n   The main parameters to set are the following:\n\n    * Email delivery: sender and reply addresses and the error mailbox for bounce mail. \n    * Tracking: Populate the external URL used for redirection and the internal URL, click **Registration on the tracking server(s)** and then validate it on the **demo** instance of the tracking server.\n\n      For more on this, refer to [Tracking configuration](../../installation/using/deploying-an-instance.md#tracking-configuration).\n    \n      ![](assets/s_ncs_install_deployment_wiz_09.png)\n\n      As the Adobe Campaign server is used both as the application server and the redirection server, the internal URL used to collect tracking logs and transfer URLs is a direct internal connection to Tomcat (https://localhost:8080).\n    \n    * Bounce management: Enter the parameters to handle bounce mail (do not take the **Unprocessed bounce mails** section into account).\n    * Access from: Provide the two URLs for reports, Web forms and mirror pages.\n    \n      ![](assets/d_ncs_install_web_url.png)\n","headers":[["title","Standalone deployment"],["description","Standalone deployment"],["feature","Installation, Architecture, Deployment"],["topic-tags","deployment-types-"]],"sections":[{"section":"Standalone deployment","sectionId":"f9d50cc0-9840-47eb-b7dc-f55b42d9223d","paragraphs":["This configuration includes all components on the same computer:","application process (web),\ndelivery process (mta),\nredirection process (tracking),\nworkflow process and scheduled tasks (wfserver),\nbounce mail process (inMail),\nstatistics process (stat).","Overall communication between the processes is carried out according to the following schema:","This type of configuration can be run when managing lists of fewer than 100,000 recipients and with, for example, the following software layers:","Linux,\nApache,\nPostgreSQL,\nQmail.","As the volume grows, a variant of this architecture moves the database server to another computer for better performance.","NOTE","An existing database server may also be used if it has sufficient resources."]},{"section":"Features","sectionId":"969d51ba-2377-45d4-9373-855ff9cfd6b4","paragraphs":[]},{"section":"Advantages","sectionId":"aff23e11-a43a-4721-a6a6-0beb85960c69","paragraphs":["Fully standalone and low configuration cost (no billable licenses required if the open-source software listed below is used).\nSimplified installation and network configuration."]},{"section":"Disadvantages","sectionId":"5dab59e0-bf02-4cb9-955e-40201d57489d","paragraphs":["A critical computer in case of incident.\nLimited bandwidth when broadcasting messages (in our experience, around several tens of thousands of mails per hour).\nPotential slowing of the application when broadcasting.\nThe application server must be available from the outside (whilst being located in the DMZ, for example) since it hosts the redirection server."]},{"section":"Installation and configuration steps","sectionId":"3ac43bfa-fc1e-4a1b-a05c-c5e22d94739e","paragraphs":[]},{"section":"Prerequisites","sectionId":"912c214c-e58a-4a81-a16a-5bd490c776ec","paragraphs":["JDK,","Web server (IIS, Apache),","Access to a database server,","Bounce mailbox accessible via POP3,","Creation of two DNS aliases:","the first exposed to the public for tracking and pointing to the computer on its public IP;\nthe second alias exposed to internal users for console access and pointing to the same computer.","Firewall configured to open SMTP (25), DNS (53), HTTP (80), HTTPS (443), SQL (1521 for Oracle, 5432 for PostgreSQL, etc.) ports. For further information, refer to Network configuration.","In the following examples, the parameters of the instance are:","Name of the instance: demo\nDNS mask: console.campaign.net&#42; (only for client console connections and for reports)\nDatabase: campaign:demo@dbsrv"]},{"section":"Installing and configuring (single machine)","sectionId":"0233330e-a73f-4fbe-b05f-49d07eb061ff","paragraphs":["Apply the following steps:","Follow the installation procedure for the Adobe Campaign server: nlserver package on Linux or setup.exe on Windows.","For more on this, refer to Prerequisites of Campaign installation in Linux (Linux) and Prerequisites of Campaign installation in Windows (Windows).","Once the Adobe Campaign server is installed, start the application server (web) using the command nlserver web -tomcat (the Web module enables you to start Tomcat in standalone Web server mode listening on port 8080) and to make sure Tomcat starts correctly:","12:08:18 >   Application server for Adobe Campaign Classic (7.X YY.R build XXX@SHA1) of DD/MM/YYYY\n12:08:18 >   Starting Web server module (pid=28505, tid=-1225184768)...\n12:08:18 >   Tomcat started\n12:08:18 >   Server started","NOTE","The first time the Web module is executed it creates the config-default.xml and serverConf.xml files in the conf directory under the installation folder. All the parameters available in the serverConf.xml are listed in this section.","Press Ctrl+C to stop the server.","For more on this, refer to the following sections:","For Linux: First start-up of the server,\nFor Windows: First start-up of the server.","Change the internal password using the command:","nlserver config -internalpassword","For more on this, refer to this section.","Create the demo instance with the DNS masks for tracking (in this case, tracking.campaign.net) and access to client consoles (in this case, console.campaign.net). There are two ways of doing this:","Create the instance via the console:","For more on this, refer to Create an instance and log on.","or","Create the instance using command lines:","nlserver config -addinstance:demo/tracking.campaign.net*,console.campaign.net*","For more on this, refer to Creating an instance.","Edit the config-demo.xml file (created in the previous step next to config-default.xml) and make sure the mta (delivery), wfserver (workflow), inMail (bounce mails) and stat (statistics) processes are enabled. Then configure the address of the statistics server:","<?xml version='1.0'?>\n<serverconf>  \n  <shared>    \n    <!-- add lang=\"eng\" to dataStore to force English for the instance -->    \n    <dataStore hosts=\"tracking.campaign.net*,console.campaign.net*\">      \n      <mapping logical=\"*\" physical=\"default\"/>    \n    </dataStore>  </shared>  \n    <mta autoStart=\"true\" statServerAddress=\"localhost\"/>\n    <wfserver autoStart=\"true\"/>  \n    <inMail autoStart=\"true\"/>  \n    <sms autoStart=\"false\"/>  \n    <listProtect autoStart=\"false\"/>\n</serverconf>","For more on this, refer to this section.","Edit the serverConf.xml file and specify the delivery domain, then specify the IP (or host) addresses of the DNS servers used by the MTA module to answer MX type DNS queries.","<dnsConfig localDomain=\"campaign.com\" nameServers=\"192.0.0.1, 192.0.0.2\"/>","NOTE","The nameServers parameter is only used in Windows.","For more on this, refer to Campaign server configuration.","Copy the client console setup program setup-client-7.XXX.exe to the /datakit/nl/eng/jsp folder. Learn more.","Follow the Web server integration procedure (IIS, Apache) described in the following sections:","For Linux: Integration into a Web server for Linux\nFor Windows: Integration into a Web server for Windows","Start the website and test redirection using the URL: https://tracking.campaign.net/r/test.","The browser must display the following message:","<redir status=\"OK\" date=\"AAAA/MM/JJ HH:MM:SS\" build=\"XXXX\" host=\"tracking.campaign.net\" localHost=\"localhost\"/>","For more on this, refer to the following sections:","For Linux: Launching the Web server and testing the configuration\nFor Windows: Launching the Web server and testing the configuration","Start the Adobe Campaign server (net start nlserver6 in Windows, /etc/init.d/nlserver6 start in Linux) and run the command nlserver pdump once more to check for presence of all enabled modules.","NOTE","Starting 20.1, we recommend using the following command instead (for Linux): systemctl start nlserver","12:09:54 >   Application server for Adobe Campaign Classic (7.X YY.R build XXX@SHA1) of DD/MM/YYYY\nsyslogd@default (7611) - 9.2 MB\nstat@demo (5988) - 1.5 MB\ninMail@demo (7830) - 11.9 MB\nwatchdog (27369) - 3.1 MB\nmta@demo (7831) - 15.6 MB\nwfserver@demo (7832) - 11.5 MB\nweb@default (28671) - 40.5 MB","This command also lets you know the version and build number of the Adobe Campaign server installed on the computer.","Test the nlserver web module using the URL: https://console.campaign.net/nl/jsp/logon.jsp","This URL enables you to access the download page for the client setup program.","Enter the internal login and associated password when you reach the access control page. Learn more.","Start the Adobe Campaign client console (from the previous download page or launched directly on the server for a Windows installation), set the server connection URL to https://console.campaign.net and connect using the internal login.","Refer to this page and this section.","The database creation wizard appears when you log in for the first time:","Follow the steps in the wizard and create the database associated with the connection instance.","For more on this, refer to Creating and configuring the database.","Once the database is created, log off.","Log back on to the client console using the admin login without a password and start the deployment wizard ( Tools > Advanced menu) to finish configuring the instance.","For more on this, refer to Deploying an instance.","The main parameters to set are the following:","Email delivery: sender and reply addresses and the error mailbox for bounce mail.","Tracking: Populate the external URL used for redirection and the internal URL, click Registration on the tracking server(s) and then validate it on the demo instance of the tracking server.","For more on this, refer to Tracking configuration.","As the Adobe Campaign server is used both as the application server and the redirection server, the internal URL used to collect tracking logs and transfer URLs is a direct internal connection to Tomcat (https://localhost:8080).","Bounce management: Enter the parameters to handle bounce mail (do not take the Unprocessed bounce mails section into account).","Access from: Provide the two URLs for reports, Web forms and mirror pages."]}]}