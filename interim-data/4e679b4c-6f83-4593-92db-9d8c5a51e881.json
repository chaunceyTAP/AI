{"guid":"4e679b4c-6f83-4593-92db-9d8c5a51e881","title":"Defining filter conditions","path":"help\\platform\\using\\defining-filter-conditions.md","fullText":"---\nproduct: campaign\ntitle: Defining filter conditions\ndescription: Defining filter conditions\nfeature: Query Editor\nbadge-v8: label=\"Also applies to v8\" type=\"Positive\" tooltip=\"Also applies to Campaign v8\"\naudience: platform\ncontent-type: reference\ntopic-tags: creating-queries\nexl-id: b62e23e5-f1b7-44c4-82d9-95c6b3240352\n---\n# Define filter conditions{#defining-filter-conditions}\n\n \n\n## Choose the operator {#choosing-the-operator}\n\nWithin filtering conditions, you need to link two values together using an operator.\n\n![](assets/query_editor_nveau_96.png)\n\nBelow is a list of the operators available:\n\n<table> \n <thead> \n  <tr> \n   <th> Operator<br /> </th> \n   <th> Purpose<br /> </th> \n   <th> Example<br /> </th> \n  </tr> \n </thead> \n <tbody> \n  <tr> \n   <td> <span class=\"uicontrol\">Equal to</span> <br /> </td> \n   <td> Returns a result identical to the data entered in the second Value column.<br /> </td> \n   <td> <strong>Last name (@lastName) equal to 'Jones'</strong>, will return only recipients whose last name is Jones.<br /> </td> \n  </tr> \n  <tr> \n   <td> <span class=\"uicontrol\">Greater than</span> <br /> </td> \n   <td> Returns a value greater than the value entered.<br /> </td> \n   <td> <strong>Age (@age) greater than 50</strong>, will return all values greater than '50', i.e. '51', '52', etc.<br /> </td> \n  </tr> \n  <tr> \n   <td> <span class=\"uicontrol\">Less than</span> <br /> </td> \n   <td> Returns a value smaller than the value entered.<br /> </td> \n   <td> <strong>Creation date (@created) before 'DaysAgo(100)'</strong>, will return all recipients created less than 100 days ago.<br /> </td> \n  </tr> \n  <tr> \n   <td> <span class=\"uicontrol\">Greater than or equal to</span> <br /> </td> \n   <td> Returns all values equal to or greater than the value entered.<br /> </td> \n   <td> <strong>Age (@age) greater than or equal to '30'</strong>, will return all recipients aged 30 or more.<br /> </td> \n  </tr> \n  <tr> \n   <td> <span class=\"uicontrol\">Less than or equal to</span> <br /> </td> \n   <td> Returns all values equal to or lower than the value entered.<br /> </td> \n   <td> <strong>Age (@age) less than or equal to '60'</strong>, will return all recipients aged 60 or less.<br /> </td> \n  </tr> \n  <tr> \n   <td> <span class=\"uicontrol\">Not equal to</span> <br /> </td> \n   <td> Returns all values not identical to the value entered.<br /> </td> \n   <td> <strong>Language (@language) to equal to 'English'</strong>.<br /> </td> \n  </tr> \n  <tr> \n   <td> <span class=\"uicontrol\">Starts with</span> <br /> </td> \n   <td> Returns the results starting with the value entered.<br /> </td> \n   <td> <strong>Account # (@account) starts with '32010'.</strong><br /> </td> \n  </tr> \n  <tr> \n   <td> <span class=\"uicontrol\">Does not start with</span> <br /> </td> \n   <td> Returns the results not starting with the value entered<br /> </td> \n   <td> <strong>Account # (@account) does not start with '20'</strong>.<br /> </td> \n  </tr> \n  <tr> \n   <td> <span class=\"uicontrol\">Contains</span> <br /> </td> \n   <td> Returns the results containing at least the value entered.<br /> </td> \n   <td> <strong>Email domain (@domain) contains 'mail'</strong>, will return all domain names that contain 'mail'. So the 'gmail.com' domain will also be returned.<br /> </td> \n  </tr> \n  <tr> \n   <td> <span class=\"uicontrol\">Does not contain</span> <br /> </td> \n   <td> Returns results not containing the value entered.<br /> </td> \n   <td> <strong>Email domain (@domain) does not contain 'vo'</strong>. In this case, domain names which contain 'vo' will not be returned. The 'voila.fr' domain name will not appear in the results.<br /> </td> \n  </tr> \n  <tr> \n   <td> <span class=\"uicontrol\">Like</span> <br /> </td> \n   <td> <span class=\"uicontrol\">Like</span> is very similar to the <span class=\"uicontrol\">Contains</span> operator. It lets you insert a <span class=\"uicontrol\">%</span> wild card character in the value.<br /> </td> \n   <td> <strong>Last name (@lastName) like 'Jon%s'</strong>. Here, the wild card character is used as a \"joker\" to find the name \"Jones\", should the operator have forgotten the missing letter between the 'n' and the 's'.<br /> </td> \n  </tr> \n  <tr> \n   <td> <span class=\"uicontrol\">Not like</span> <br /> </td> \n   <td> Is similar to <span class=\"uicontrol\">Like</span> . Lets you not recover the entered value. Here too, the entered value must contain the <span class=\"uicontrol\">%</span> wild card character.<br /> </td> \n   <td> <strong>Last name (@lastName) not like 'Smi%h'</strong>. Here, the recipients whose last name is 'Smi%h' will not be returned.<br /> </td> \n  </tr> \n  <tr> \n   <td> <span class=\"uicontrol\">Is empty</span> <br /> </td> \n   <td> In this case, the result we are looking for matches an empty value in the second Value column.<br /> </td> \n   <td> <strong>Mobile (@mobilePhone) is empty</strong> returns all recipients who do not have a mobile number.<br /> </td> \n  </tr> \n  <tr> \n   <td> <span class=\"uicontrol\">Is not empty</span> <br /> </td> \n   <td> Works in reverse to the <span class=\"uicontrol\">Is empty</span> operator. It is not necessary to enter data in the second Value column.<br /> </td> \n   <td> <strong>Email (@email) is not empty</strong>.<br /> </td> \n  </tr> \n  <tr> \n   <td> <span class=\"uicontrol\">Is included in</span> <br /> </td> \n   <td> Returns results included in the values indicated. These values have to be separated by a comma.<br /> </td> \n   <td> <strong>Birth date (@birthDate) is included in '12/10/1979,12/10/1984'</strong>, will return the recipients born between these dates. <br /> </td> \n  </tr> \n  <tr> \n   <td> <span class=\"uicontrol\">Is not included in</span> <br /> </td> \n   <td> Works like the <span class=\"uicontrol\">Is included in</span> operator. Here, we want to exclude recipients based on the values entered.<br /> </td> \n   <td> <strong>Birth date (@birthDate) is not included in '12/10/1979,12/10/1984'</strong>. Unlike in the previous example, recipients born within these dates will not be returned.<br /> </td> \n  </tr> \n </tbody> \n</table>\n\n## Use AND, OR, EXCEPT {#using-and--or--except}\n\nFor queries using several filtering conditions, you need to define links between the conditions. There are three possible links:\n\n* **[!UICONTROL And]** lets you combine two filtering conditions,\n* **[!UICONTROL Or]** lets you offer an alternative,\n* **[!UICONTROL Except]** lets you define an exception.\n\nClick **[!UICONTROL And]** (offered by default) and choose from the drop-down list.\n\n![](assets/query_condition_modif_01.png)\n\n* **[!UICONTROL And]**: adds a condition and enables overfiltering.\n* **[!UICONTROL Or]**: adds a condition and enables overfiltering.\n\n  The following example lets you find recipients whose email domain contains \"orange.co.uk\" OR whose post code starts with \"NW\".\n\n  ![](assets/query_condition_modif_02.png)\n\n* **[!UICONTROL Except]**: if you have two filters and the first one does not return a value, this type of link creates an exception.\n\n  In the following example, we want to return recipients whose email domain contains \"orange.co.uk\" EXCEPT if the recipient's last name is \"Smith\".\n\n  ![](assets/query_condition_modif_03.png)\n\nThis example shows a filter which lets you display: recipients who either speak Spanish, OR are women with mobile numbers, OR recipients without an account number and whose company name starts with the letter \"N\".\n\n![](assets/query_editor_nveau_31.png)\n\n## Prioritize conditions {#prioritizing-conditions}\n\nThis section explains how to prioritize conditions thanks to the blue arrows in the toolbar.\n\n* The arrow pointing to the right lets you add a level of parentheses to the filter.\n* The arrow pointing to the left lets you delete a selected parenthesis level from the filter.\n\n  ![](assets/query_condition_modif_04.png)\n\n* The vertical arrows let you move a condition, thereby changing their execution sequence.\n\nThis example shows you how to use the arrow to delete a parenthesis level. Start from the following filtering condition: **[!UICONTROL City equal to London OR gender equal to male and mobile not indicated OR account # starts with \"95\" and company name starts with \"A\"]**.\n\nPlace your cursor on the **[!UICONTROL Gender (@gender) equal to Male]** filtering condition and click the **[!UICONTROL Remove a parenthesis level]** arrow.\n\n![](assets/query_editor_nveau_32.png)\n\nThe **[!UICONTROL Gender (@gender) equal to Male]** condition has been taken out of its parenthesis. It has moved to the same level as the \"City equal to London\" condition. These conditions are linked together (**[!UICONTROL And]**).\n\n## Select data to extract {#selecting-data-to-extract}\n\nThe available fields vary from one table to another. All fields are stored in a main node known as the **[!UICONTROL Main element]**. In the following example, the available fields are in the recipient table. Fields are always displayed alphabetically.\n\nThe detail the selected field is visible at the bottom of the window. For example, the **[!UICONTROL Email domain]** field is a **[!UICONTROL Calculated SQL field]** and its extension is **[!UICONTROL (@domain)]**.\n\n![](assets/query_editor_nveau_59.png)\n\n>[!NOTE]\n>\n>Use the **[!UICONTROL Search]** tool to find an available field.\n\nDouble-click an available field to add it to the output columns. At the end of the query, each selected field creates a column in the **[!UICONTROL Data preview]** window.\n\n![](assets/query_editor_nveau_01.png)\n\nAdvanced fields are not displayed by default. Click **[!UICONTROL Display advanced fields]** in the bottom right-hand corner of the available fields to display everything. Click again to return to the former view.\n\nFor example, in the recipient table, the advanced fields are **Boolean 1**, **[!UICONTROL Boolean 2]**, **[!UICONTROL Boolean 3]**, **[!UICONTROL Foreign key of \"Folder\" link]**, etc.\n\nThe following example shows the advanced fields of the recipient table.\n\n![](assets/query_editor_nveau_53.png)\n\nThe various categories of fields:\n\n<table> \n <thead> \n  <tr> \n   <th> Icon<br /> </th> \n   <th> Description<br /> </th> \n   <th> Examples<br /> </th> \n  </tr> \n </thead> \n <tbody> \n  <tr> \n   <td> <img height=\"21px\" src=\"assets/query_editor_nveau_47.png\" /> </td> \n   <td> Simple field<br /> </td> \n   <td> Email, gender, etc.<br /> </td> \n  </tr> \n  <tr> \n   <td> <img height=\"21px\" src=\"assets/query_editor_nveau_48.png\" /> </td> \n   <td> Primary key. This SQL field is a way of identifying a record in a table.<br /> </td> \n   <td> Identifier recipients are primary keys and identifiers are unique by definition.<br /> </td> \n  </tr> \n  <tr> \n   <td> <img height=\"21px\" src=\"assets/query_editor_nveau_02.png\" /> </td> \n   <td> Foreign key. Used as a link to another table.<br /> </td> \n   <td> Recipient foreign key, service foreign key, etc.<br /> </td> \n  </tr> \n  <tr> \n   <td> <img height=\"21px\" src=\"assets/query_editor_nveau_46.png\" /> </td> \n   <td> Calculated field. This type of field is calculated on request using the values in the database.<br /> </td> \n   <td> Age, email domain, etc.<br /> </td> \n  </tr> \n  <tr> \n   <td> <img height=\"21px\" src=\"assets/query_editor_nveau_49.png\" /> </td> \n   <td> Field containing long texts.<br /> </td> \n   <td> Comment, full address, etc.<br /> </td> \n  </tr> \n  <tr> \n   <td> <img height=\"21px\" src=\"assets/query_editor_nveau_50.png\" /> </td> \n   <td> Indexed SQL field. <br /> </td> \n   <td> Full name, ISO code, etc. <br /> </td> \n  </tr> \n </tbody> \n</table>\n\nLink to a table and collection element:\n\n<table> \n <thead> \n  <tr> \n   <th> Icon<br /> </th> \n   <th> Description<br /> </th> \n   <th> Example<br /> </th> \n  </tr> \n </thead> \n <tbody> \n  <tr> \n   <td> <img height=\"21px\" src=\"assets/query_editor_nveau_51.png\" /> </td> \n   <td> Links to a table in particular. These coincide with 1-1 type associations. An occurrence of the source table can coincide with only one occurrence of the target table. For example, only one recipient can be linked to a country.<br /> </td> \n   <td> Folder, State, Country, etc. <br /> </td> \n  </tr> \n  <tr> \n   <td> <img height=\"21px\" src=\"assets/query_editor_nveau_52.png\" /> </td> \n   <td> Collection element on a specific table. These coincide with 1-N type associations. One source table occurrence can coincide with several occurrences of the target table, but one occurrence of the target table can coincide with only one occurrence of the source table. For example, one recipient can subscribe to 'n' subscription letters.<br /> </td> \n   <td> Subscriptions, lists, exclusion logs, etc.<br /> </td> \n  </tr> \n </tbody> \n</table>\n\n>[!NOTE]\n>\n>* Use the **[!UICONTROL Add]** button (above the side icon bar) to add an output column in which we wish to edit the expression. For more on editing an expression, refer to [this section](#building-expressions).\n>* Delete an output column by clicking the red 'x' (**Delete**).\n>* Change the order of the output columns using the arrows.\n>* The **[!UICONTROL Distribution of values]** serves as a way to view the distribution of the values of the field selected (for example, the distributions linked to recipient towns, recipient languages, etc.).\n\n## Create calculated fields {#creating-calculated-fields}\n\nIf necessary, add a column during data formatting. A calculated field adds a column to the data preview section. Click **[!UICONTROL Add a calculated field]**.\n\n![](assets/query_editor_nveau_43.png)\n\nThere are four types of calculated fields:\n\n* **[!UICONTROL Fixed string]**: lets you add a string of characters.\n\n  ![](assets/query_editor_nveau_60.png)\n\n* **[!UICONTROL String with JavaScript tags]**: the value of the calculated field combines a string of characters and JavaScript directives.\n\n  ![](assets/query_editor_nveau_61.png)\n\n* **[!UICONTROL JavaScript expression]**: the value of the calculated field is the result of a JavaScript function evaluation. The returned value can be typed (number, date, etc.).\n\n  ![](assets/query_editor_nveau_62.png)\n\n* **[!UICONTROL Enumerations]**: This type of field lets you use/modify the content of one of the output columns in a new column.\n\n  It's possible to use the source value of a column and give it a destination value. This destination value will be displayed in the new output column.\n\n  An example of adding calculated field type **[!UICONTROL Enumerations]** is available, refer to [this section](../../workflow/using/adding-enumeration-type-calculated-field.md).\n\n  ![](assets/query_editor_nveau_63.png)\n\n  The **[!UICONTROL Enumerations]** type calculated field can include 4 conditions:\n\n    * **[!UICONTROL Keep the source value]** restores the source value to the target without changing it.\n    * **[!UICONTROL Use the following value]** lets you enter a default destination value for non-defined source values.\n    * **[!UICONTROL Generate a warning and continue]** warns the user that the source value cannot be changed.\n    * **[!UICONTROL Generate an error and reject the line]** prevents the line from being calculated and imported.\n\nClick the **[!UICONTROL Detail of calculated field]** to view the detail of the inserted field.  \n\nTo remove this calculated field, click the **[!UICONTROL Remove the calculated field]** cross.\n\n![](assets/query_editor_nveau_58.png)\n\n## Build expressions {#building-expressions}\n\nThe expression editing tool lets you calculate aggregates, generate function, or edit a formula using an expression.\n\nThe following example shows you how to run a count on a primary key.\n\nApply the following steps:\n\n1. Click **[!UICONTROL Add]** in the **[!UICONTROL Data to extract]** window. In the **[!UICONTROL Formula type]** window, select a type of formula to enter the expression.\n\n   There are several types of formulas available: **[!UICONTROL Field only]**, **[!UICONTROL Aggregate]**, **[!UICONTROL Expression]**.\n\n   Select **[!UICONTROL Process on an aggregate function]**, and **[!UICONTROL Count]**. Click **[!UICONTROL Next]**.\n\n   ![](assets/query_editor_nveau_54.png)\n\n1. The primary key is calculated.\n\n   ![](assets/query_editor_nveau_88.png)\n\nHere is a detailed view of the choices available in the **[!UICONTROL Formula types]** window: \n\n![](assets/query_editor_nveau_05.png)\n\n1. **[!UICONTROL Field only]** lets you return to the **[!UICONTROL Field to select]** window.\n1. **[!UICONTROL Aggregate (Process on an aggregate function)]**. Here are some examples of aggregate use:\n\n    * **[!UICONTROL Count]** lets you run a primary key count.\n    * **[!UICONTROL Sum]** lets you add up all purchases made by a customer over one year.\n    * **[!UICONTROL Maximum value]** lets you find the customers having purchased the most \"n\" products.\n    * **[!UICONTROL Minimum value]** lets you sort through customers and find those having subscribed to an offer most recently.\n    * **[!UICONTROL Average]**. This function lets you calculate the average age of your recipients.\n\n      The **[!UICONTROL Distinct]** box lets you recover unique and non-zero values of a column. For example, you can recover all of a recipient's tracking logs and these tracking logs are changed to the value 1 since they all concern the same recipient.\n\n1. **[!UICONTROL Expression]** opens the **[!UICONTROL Edit the expression]** window. This lets you detect telephone numbers with too many figures, likely to be input errors.\n\n   ![](assets/query_editor_nveau_71.png)\n\n   For a list of all available functions, refer to [List of functions](#list-of-functions).\n\n## List of functions {#list-of-functions}\n\nIf an **[!UICONTROL Expression]** type formula is chosen, you will be taken to the \"edit the expression\" window. Various categories of functions can be associated to the available fields: **[!UICONTROL Aggregates]**, **[!UICONTROL String]**, **[!UICONTROL Date]**, **[!UICONTROL Numerical]**, **[!UICONTROL Currency]**, **[!UICONTROL Geomarketing]**, **[!UICONTROL Windowing function]** and **[!UICONTROL Others]**.\n\nThe expression editor looks like this:\n\n![](assets/s_ncs_user_filter_define_expression.png)\n\nIt lets you select fields in the database tables and add advanced functions to them. The following functions are available:\n\n**Aggregates**\n\n<table> \n <tbody> \n  <tr> \n   <td> <strong>Name</strong><br /> </td> \n   <td> <strong>Description</strong><br /> </td> \n   <td> <strong>Syntax</strong><br /> </td> \n  </tr> \n  <tr> \n   <td> <strong>Avg</strong><br /> </td> \n   <td> Returns the average of a number type column<br /> </td> \n   <td> Avg(&lt;value&gt;)<br /></td> \n  </tr> \n  <tr> \n   <td> <strong>Count</strong><br /> </td> \n   <td> Counts the non-null values of a column<br /> </td> \n   <td> Count(&lt;value&gt;)<br /></td>  \n  </tr> \n  <tr> \n   <td> <strong>CountAll</strong><br /> </td> \n   <td> Counts the values returned (all fields)<br /> </td> \n   <td> CountAll()<br /> </td> \n  </tr> \n  <tr> \n   <td> <strong>Countdistinct</strong><br /> </td> \n   <td> Counts the distinct non-null values of a column<br /> </td> \n   <td> Countdistinct(&lt;value&gt;)<br /></td> \n  </tr> \n  <tr> \n   <td> <strong>Max</strong><br /> </td> \n   <td> Returns the maximum value of a number, string, or date type column<br /> </td> \n   <td> Max(&lt;value&gt;)<br /></td>  \n  </tr> \n  <tr> \n   <td> <strong>Min</strong><br /> </td> \n   <td> Returns the minimum value of a number, string or date type column<br /> </td> \n   <td> Min(&lt;value&gt;)<br /></td> \n  </tr> \n  <tr> \n   <td> <strong>StdDev</strong><br /> </td> \n   <td> Returns the standard deviation of a number, string or date column<br /> </td> \n   <td> StdDev(&lt;value&gt;)<br /></td> \n  </tr> \n  <tr> \n   <td> <strong>Sum</strong><br /> </td> \n   <td> Returns the sum of the values of a number, string, or date type column<br /> </td> \n   <td> Sum(&lt;value&gt;)<br /></td> \n  </tr> \n </tbody> \n</table>\n\n**String**\n\n<table> \n <tbody> \n  <tr> \n   <td> <strong>Name</strong><br /> </td> \n   <td> <strong>Description</strong><br /> </td> \n   <td> <strong>Syntax</strong><br /> </td> \n  </tr> \n  <tr> \n   <td> <strong>AllNonNull2</strong><br /> </td> \n   <td> Indicates if all parameters are non-null and not empty<br /> </td> \n   <td> AllNonNull2(&lt;string&gt;, &lt;string&gt;)<br /></td> \n  </tr> \n  <tr> \n   <td> <strong>AllNonNull3</strong><br /> </td> \n   <td> Indicates if all parameters are non-null and not empty<br /> </td> \n   <td> AllNonNull3(&lt;string&gt;, &lt;string&gt;, &lt;string&gt;)<br /></td> \n  </tr> \n  <tr> \n   <td> <strong>Ascii</strong><br /> </td> \n   <td> Returns the ASCII value of the first character in the string.<br /> </td> \n   <td> Ascii(&lt;string&gt;)<br /></td> \n  </tr> \n  <tr> \n   <td> <strong>Char</strong><br /> </td> \n   <td> Returns the character corresponding to the 'n' ASCII code<br /> </td> \n   <td> Char(&lt;number&gt;)<br /></td>  \n  </tr> \n  <tr> \n   <td> <strong>Charindex</strong><br /> </td> \n   <td> Returns the position of string 2 in string 1.<br /> </td> \n   <td> Charindex(&lt;string&gt;, &lt;string&gt;)<br /></td> \n  </tr> \n  <tr> \n   <td> <strong>GetLine</strong><br /> </td> \n   <td> Returns the nth (from 1 to n) line of the string<br /> </td> \n   <td> GetLine(&lt;string&gt;)<br /></td> \n  </tr> \n  <tr> \n   <td> <strong>IfEquals</strong><br /> </td> \n   <td> Returns the third parameter if the first two parameters are equal. If not, returns the last parameter<br /> </td> \n   <td> IfEquals(&lt;string&gt;, &lt;string&gt;, &lt;string&gt;, &lt;string&gt;)<br /></td> \n  </tr> \n  <tr> \n   <td> <strong>IsMemoNull</strong><br /> </td> \n   <td> Indicates if the memo passed as a parameter is null<br /> </td> \n   <td> IsMemoNull(&lt;memo&gt;)<br /></td> \n  </tr> \n  <tr> \n   <td> <strong>JuxtWords</strong><br /> </td> \n   <td> Concatenates the strings passed as parameters. Adds spaces between the strings if necessary.<br /> </td> \n   <td> JuxtWords(&lt;string&gt;, &lt;string&gt;)<br /></td> \n  </tr> \n  <tr> \n   <td> <strong>JuxtWords3</strong><br /> </td> \n   <td> Concatenates the strings passed as parameters. Adds spaces between the strings if necessary<br /> </td> \n   <td> JuxtWords3(&lt;string&gt;, &lt;string&gt;, &lt;string&gt;)<br /></td>  \n  </tr> \n  <tr> \n   <td> <strong>LPad</strong><br /> </td> \n   <td> Returns the completed string on the left<br /> </td> \n   <td> LPad(&lt;string&gt;, &lt;number&gt;, &lt;character&gt;)<br /></td> \n  </tr> \n  <tr> \n   <td> <strong>Left</strong><br /> </td> \n   <td> Returns the first n characters of the string<br /> </td> \n   <td> Left(&lt;string&gt;, &lt;number&gt;)<br /></td> \n  </tr> \n  <tr> \n   <td> <strong>Length</strong><br /> </td> \n   <td> Returns the length of the string<br /> </td> \n   <td> Length(&lt;string&gt;)<br /></td> \n  </tr> \n  <tr> \n   <td> <strong>Lower</strong><br /> </td> \n   <td> Returns the string in lowercase<br /> </td> \n   <td> Lower(&lt;string&gt;)<br /></td> \n  </tr> \n  <tr> \n   <td> <strong>Ltrim</strong><br /> </td> \n   <td> Removes spaces to the left of the string<br /> </td> \n   <td> Ltrim(&lt;string&gt;)<br /></td> \n  </tr> \n  <tr> \n   <td> <strong>Md5Digest</strong><br /> </td> \n   <td> Returns an hexadecimal representation of the MD5 key of a string<br /> </td> \n   <td> Md5Digest(&lt;string&gt;)<br /></td> \n  </tr> \n  <tr> \n   <td> <strong>MemoContains</strong><br /> </td> \n   <td> Specifies whether the memo contains the string passed as a parameter<br /> </td> \n   <td> MemoContains(&lt;memo&gt;, &lt;string&gt;)<br /></td> \n  </tr> \n  <tr> \n   <td> <strong>RPad</strong><br /> </td> \n   <td> Returns the completed string on the right<br /> </td> \n   <td> RPad(&lt;string&gt;, &lt;number&gt;, &lt;character&gt;)<br /></td> \n  </tr> \n  <tr> \n   <td> <strong>Right</strong><br /> </td> \n   <td> Returns the last n characters of the string<br /> </td> \n   <td> Right(&lt;string&gt;)<br /> </td> \n  </tr> \n  <tr> \n   <td> <strong>Rtrim</strong><br /> </td> \n   <td> Removes spaces to the right of the string<br /> </td> \n   <td> Rtrim(&lt;string&gt;)<br /> </td> \n  </tr> \n  <tr> \n   <td> <strong>Smart</strong><br /> </td> \n   <td> Returns the string with the first letter of each word in capitals<br /> </td> \n   <td> Smart(&lt;string&gt;)<br /> </td> \n  </tr> \n  <tr> \n   <td> <strong>Substring</strong><br /> </td> \n   <td> Extracts the substring starting at character n1 of the string and of length n2<br /> </td> \n   <td> Substring(&lt;string&gt;, &lt;offset&gt;, &lt;length&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>ToString</strong><br /> </td> \n   <td> Converts the number to a string<br /> </td> \n   <td> ToString(&lt;number&gt;, &lt;number&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>Upper</strong><br /> </td> \n   <td> Returns the string in capitals<br /> </td> \n   <td> Upper(&lt;string&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>VirtualLink</strong><br /> </td> \n   <td> Returns the foreign key of a link passed as a parameter if the other two parameters are equal<br /> </td> \n   <td> VirtualLink(&lt;number&gt;, &lt;number&gt;, &lt;number&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>VirtualLinkStr</strong><br /> </td> \n   <td> Returns the foreign (text) key of a link passed as a parameter if the other two parameters are equal<br /> </td> \n   <td> VirtualLinkStr(&lt;string&gt;, &lt;number&gt;, &lt;number&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>dataLength</strong><br /> </td> \n   <td> Returns the string size<br /> </td> \n   <td> dataLength(&lt;string&gt;)<br /> </td>  \n  </tr> \n </tbody> \n</table>\n\n**Date**\n\n<table> \n <tbody> \n  <tr> \n   <td> <strong>Name</strong><br /> </td> \n   <td> <strong>Description</strong><br /> </td> \n   <td> <strong>Syntax</strong><br /> </td> \n  </tr> \n  <tr> \n   <td> <strong>AddDays</strong><br /> </td> \n   <td> Adds a number of days to a date<br /> </td> \n   <td> AddDays(&lt;date&gt;, &lt;number&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>AddHours</strong><br /> </td> \n   <td> Adds a number of hours to a date<br /> </td> \n   <td> AddHours(&lt;date&gt;, &lt;number&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>AddMinutes</strong><br /> </td> \n   <td> Adds a number of minutes to a date<br /> </td> \n   <td> AddMinutes(&lt;date&gt;, &lt;number&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>AddMonths</strong><br /> </td> \n   <td> Adds a number of months to a date<br /> </td> \n   <td> AddMonths(&lt;date&gt;, &lt;number&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>AddSeconds</strong><br /> </td> \n   <td> Adds a number of seconds to a date<br /> </td> \n   <td> AddSeconds(&lt;date&gt;, &lt;number&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>AddYears</strong><br /> </td> \n   <td> Adds a number of years to a date<br /> </td> \n   <td> AddYears(&lt;date&gt;, &lt;number&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>DateOnly</strong><br /> </td> \n   <td> Returns the date only (with time at 00:00)*<br /> </td> \n   <td> DateOnly(&lt;date&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>Day</strong><br /> </td> \n   <td> Returns the number representing the day of the date<br /> </td> \n   <td> Day(&lt;date&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>DayOfYear</strong><br /> </td> \n   <td> Returns the number of the day in the year of the date<br /> </td> \n   <td> DayOfYear(&lt;date&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>DaysAgo</strong><br /> </td> \n   <td> Returns the date corresponding to the current date minus n days<br /> </td> \n   <td> DaysAgo(&lt;number&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>DaysAgoInt</strong><br /> </td> \n   <td> Returns the date (integer yyyymmdd) corresponding to the current date minus n days<br /> </td> \n   <td> DaysAgoInt(&lt;number&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>DaysDiff</strong><br /> </td> \n   <td> Number of days between two dates<br /> </td> \n   <td> DaysDiff(&lt;end date&gt;, &lt;start date&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>DaysOld</strong><br /> </td> \n   <td> Returns the age in days of a date<br /> </td> \n   <td> DaysOld(&lt;date&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>GetDate</strong><br /> </td> \n   <td> Returns the current system date of the server<br /> </td> \n   <td> GetDate()<br /> </td> \n  </tr> \n  <tr> \n   <td> <strong>Hour</strong><br /> </td> \n   <td> Returns the hour of the date<br /> </td> \n   <td> Hour(&lt;date&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>HoursDiff</strong><br /> </td> \n   <td> Returns the number of hours between two dates<br /> </td> \n   <td> HoursDiff(&lt;end date&gt;, &lt;start date&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>Minute</strong><br /> </td> \n   <td> Returns the minutes of the date<br /> </td> \n   <td> Minute(&lt;date&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>MinutesDiff</strong><br /> </td> \n   <td> Returns the number of minutes between two dates<br /> </td> \n   <td> MinutesDiff(&lt;end date&gt;, &lt;start date&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>Month</strong><br /> </td> \n   <td> Returns the number representing the month of the date<br /> </td> \n   <td> Month(&lt;date&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>MonthsAgo</strong><br /> </td> \n   <td> Returns the date corresponding to the current date minus n months<br /> </td> \n   <td> MonthsAgo(&lt;number&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>MonthsDiff</strong><br /> </td> \n   <td> Returns the number of months between two dates<br /> </td> \n   <td> MonthsDiff(&lt;end date&gt;, &lt;start date&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>MonthsOld</strong><br /> </td> \n   <td> Returns the age in months of a date<br /> </td> \n   <td> MonthsOld(&lt;date&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>Second</strong><br /> </td> \n   <td> Returns the seconds of the date<br /> </td> \n   <td> Second(&lt;date&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>SecondsDiff</strong><br /> </td> \n   <td> Returns the number of seconds between two dates<br /> </td> \n   <td> SecondsDiff(&lt;end date&gt;, &lt;start date&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>SubDays</strong><br /> </td> \n   <td> Subtracts a number of days from a date<br /> </td> \n   <td> SubDays(&lt;date&gt;, &lt;number&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>SubHours</strong><br /> </td> \n   <td> Subtracts a number of hours from a date<br /> </td> \n   <td> SubHours(&lt;date&gt;, &lt;number&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>SubMinutes</strong><br /> </td> \n   <td> Subtracts a number of minutes from a date<br /> </td> \n   <td> SubMinutes(&lt;date&gt;, &lt;number&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>SubMonths</strong><br /> </td> \n   <td> Subtracts a number of months from a date<br /> </td> \n   <td> SubMonths(&lt;date&gt;, &lt;number&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>SubSeconds</strong><br /> </td> \n   <td> Subtracts a number of seconds from a date<br /> </td> \n   <td> SubSeconds(&lt;date&gt;, &lt;number&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>SubYears</strong><br /> </td> \n   <td> Subtracts a number of years from a date<br /> </td> \n   <td> SubYears(&lt;date&gt;, &lt;number&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>ToDate</strong><br /> </td> \n   <td> Converts a date + time as a date<br /> </td> \n   <td> ToDate(&lt;date + time&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>ToDateTime</strong><br /> </td> \n   <td> Converts a string to a date + time<br /> </td> \n   <td> ToDateTime(&lt;string&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>TruncDate</strong><br /> </td> \n   <td> Rounds a date+time to the nearest second<br /> </td> \n   <td> TruncDate(@lastModified, &lt;number of seconds&gt;)<br /> </td> \n  </tr> \n  <tr> \n   <td> <strong>TruncDateTZ</strong><br /> </td> \n   <td> Rounds a date + time to a given precision expressed in seconds<br /> </td> \n   <td> TruncDateTZ(&lt;date&gt;, &lt;number of seconds&gt;, &lt;time zone&gt;)<br /> </td> \n  </tr> \n  <tr> \n   <td> <strong>TruncQuarter</strong><br /> </td> \n   <td> Rounds a date off to the quarter<br /> </td> \n   <td> TruncQuarter(&lt;date&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>TruncTime</strong><br /> </td> \n   <td> Rounds the time part up to the nearest second<br /> </td> \n   <td> TruncTim(e&lt;date&gt;, &lt;number of seconds&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>TruncWeek</strong><br /> </td> \n   <td> Rounds a date off to the week<br /> </td> \n   <td> TruncWeek(&lt;date&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>TruncYear</strong><br /> </td> \n   <td> Rounds a date + time to January 1st of the year<br /> </td> \n   <td> TruncYear(&lt;date&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>TruncWeek</strong><br /> </td> \n   <td> Returns the number representing the day in the week of the date<br /> </td> \n   <td> WeekDay(&lt;date&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>Year</strong><br /> </td> \n   <td> Returns the number representing the year of the date<br /> </td> \n   <td> Year(&lt;date&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>YearAnd Month</strong><br /> </td> \n   <td> Returns the number representing the year and month of the date<br /> </td> \n   <td> YearAndMonth(&lt;date&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>YearsDiff</strong><br /> </td> \n   <td> Returns the number of years between the two dates<br /> </td> \n   <td> YearsDiff(&lt;end date&gt;, &lt;start date&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>YearsOld</strong><br /> </td> \n   <td> Returns the age in years of a date<br /> </td> \n   <td> YearsOld(&lt;date&gt;)<br /> </td>  \n  </tr> \n </tbody> \n</table>\n\n>[!NOTE]\n>\n>Note that the **Dateonly** function takes into account the server's timezone, not the operator's.\n\n**Numerical**\n\n<table> \n <tbody> \n  <tr> \n   <td> <strong>Name</strong><br /> </td> \n   <td> <strong>Description</strong><br /> </td> \n   <td> <strong>Syntax</strong><br /> </td> \n  </tr> \n  <tr> \n   <td> <strong>Abs</strong><br /> </td> \n   <td> Returns the absolute value of a number<br /> </td> \n   <td> Abs(&lt;number&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>Ceil</strong><br /> </td> \n   <td> Returns the lowest integer greater than or equal to a number<br /> </td> \n   <td> Ceil(&lt;number&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>Floor</strong><br /> </td> \n   <td> Returns the greatest integer greater than or equal to a number<br /> </td> \n   <td> Floor(&lt;number&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>Greatest</strong><br /> </td> \n   <td> Returns the greater of two numbers<br /> </td> \n   <td> Greatest(&lt;number 1&gt;, &lt;number 2&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>Least</strong><br /> </td> \n   <td> Returns the smaller of two numbers<br /> </td> \n   <td> Least(&lt;number 1&gt;, &lt;number 2&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>Mod</strong><br /> </td> \n   <td> Returns the remainder of the integer division of n1 by n2<br /> </td> \n   <td> Mod(&lt;number 1&gt;, &lt;number 2&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>Percent</strong><br /> </td> \n   <td> Returns the ratio of two numbers expressed as a percentage<br /> </td> \n   <td> Percent(&lt;number 1&gt;, &lt;number 2&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>Random</strong><br /> </td> \n   <td> Returns the random value<br /> </td> \n   <td> Random()<br /> </td> \n  </tr> \n  <tr> \n   <td> <strong>Round</strong><br /> </td> \n   <td> Rounds off a number to n decimals<br /> </td> \n   <td> Round(&lt;number&gt;, &lt;number of decimals&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>Sign</strong><br /> </td> \n   <td> Returns the sign of the number<br /> </td> \n   <td> Sign(&lt;number&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>ToDouble</strong><br /> </td> \n   <td> Converts an integer to a float<br /> </td> \n   <td> ToDouble(&lt;number&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>ToInt64</strong><br /> </td> \n   <td> Converts a float to a 64 bit integer<br /> </td> \n   <td> ToInt64(&lt;number&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>ToInteger</strong><br /> </td> \n   <td> Converts a float to an integer<br /> </td> \n   <td> ToInteger(&lt;number&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>Trunc</strong><br /> </td> \n   <td> Truncates n1 to n2 decimals<br /> </td> \n   <td> Trunc(&lt;n1&gt;, &lt;n2&gt;)<br /> </td>  \n  </tr> \n </tbody> \n</table>\n\n1. Currency\n\n<table> \n <tbody> \n  <tr> \n   <td> <strong>Name</strong><br /> </td> \n   <td> <strong>Description</strong><br /> </td> \n   <td> <strong>Syntax</strong><br /> </td> \n  </tr> \n  <tr> \n   <td> <strong>ConvertCurrency</strong><br /> </td> \n   <td> Converts an amount in a source currency to an amount in a target currency<br /> </td> \n   <td> ConvertCurrency(&lt;amount&gt;, &lt;source currency&gt;, &lt;target currency&gt;, &lt;conversion date&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>FormatCurrency</strong><br /> </td> \n   <td> Formats the amount displayed based on the selected currency settings<br /> </td> \n   <td> FormatCurrency(&lt;amount&gt;, &lt;currency&gt;)<br /> </td>  \n  </tr> \n </tbody> \n</table>\n\n**Geomarketing**\n\n<table> \n <tbody> \n  <tr> \n   <td> <strong>Name</strong><br /> </td> \n   <td> <strong>Description</strong><br /> </td> \n   <td> <strong>Syntax</strong><br /> </td> \n  </tr> \n  <tr> \n   <td> <strong>Distance</strong><br /> </td> \n   <td> Returns the distance between two points defined by their longitude and latitude, expressed in degrees.<br /> </td> \n   <td> Distance(&lt;Longitude A&gt;, &lt;Latitude A&gt;, &lt;Longitude B&gt;, &lt;Latitude B&gt;)<br /> </td>  \n  </tr> \n </tbody> \n</table>\n\n**Others**\n\n<table> \n <tbody> \n  <tr> \n   <td> <strong>Name</strong><br /> </td> \n   <td> <strong>Description</strong><br /> </td> \n   <td> <strong>Syntax</strong><br /> </td> \n  </tr> \n  <tr> \n   <td> <strong>Case</strong><br /> </td> \n   <td> Returns value 1 if the condition is true. If not, it returns value 2.<br /> </td> \n   <td> Case(When(&lt;condition&gt;, &lt;value 1&gt;), Else(&lt;value 2&gt;))<br /> </td> \n  </tr> \n  <tr> \n   <td> <strong>ClearBit</strong><br /> </td> \n   <td> Deletes the Flag in the value<br /> </td> \n   <td> ClearBit(&lt;identifier&gt;, &lt;flag&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>Coalesce</strong><br /> </td> \n   <td> Returns value 2 if value 1 is zero or null, otherwise returns value 1<br /> </td> \n   <td> Coalesce(&lt;value 1&gt;, &lt;value 2&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>Decode</strong><br /> </td> \n   <td> Returns value 3 if value 1 = value 2. If not returns value 4.<br /> </td> \n   <td> Decode(&lt;value 1&gt;, &lt;value 2&gt;, &lt;value 3&gt;, &lt;value 4&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>Else</strong><br /> </td> \n   <td> Returns value 1 (may only be used as a parameter of the case function)<br /> </td> \n   <td> Else(&lt;value 1&gt;, &lt;value 2&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>GetEmailDomain</strong><br /> </td> \n   <td> Extracts the domain from an email address<br /> </td> \n   <td> GetEmailDomain(&lt;value&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>GetMirrorURL</strong><br /> </td> \n   <td> Retrieves the URL of the mirror page server<br /> </td> \n   <td> GetMirrorURL(&lt;value&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>Iif</strong><br /> </td> \n   <td> Returns value 1 if the expression is true. If not, returns value 2<br /> </td> \n   <td> Iif(&lt;condition&gt;, &lt;value 1&gt;, &lt;value 2&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>IsBitSet</strong><br /> </td> \n   <td> Indicates whether the Flag is in the value<br /> </td> \n   <td> IsBitSet(&lt;identifier&gt;, &lt;flag&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>IsEmptyString</strong><br /> </td> \n   <td> Returns value 2 if string 1 is empty, otherwise returns value 3<br /> </td> \n   <td> IsEmptyString(&lt;value 1&gt;, &lt;value 2&gt;, &lt;value 3&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>NoNull</strong><br /> </td> \n   <td> Returns the empty string if the argument is NULL<br /> </td> \n   <td> NoNull(&lt;value&gt;)<br /> </td>   \n  </tr> \n  <tr> \n   <td> <strong>RowId</strong><br /> </td> \n   <td> Returns the line number<br /> </td> \n   <td> RowId<br /> </td> \n  </tr> \n  <tr> \n   <td> <strong>SetBit</strong><br /> </td> \n   <td> Forces the Flag in the value<br /> </td> \n   <td> SetBit(&lt;identifier&gt;, &lt;flag&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>ToBoolean</strong><br /> </td> \n   <td> Converts a number into a Boolean<br /> </td> \n   <td> ToBoolean(&lt;number&gt;)<br /> </td>   \n  </tr> \n  <tr> \n   <td> <strong>When</strong><br /> </td> \n   <td> Returns value 1 if the expression is true. If not, it returns value 2 (may only be used as a parameter of the case function)<br /> </td> \n   <td> When(&lt;condition&gt;, &lt;value 1&gt;)<br /> </td>  \n  </tr> \n </tbody> \n</table>\n\n**Windowing functions**\n\n<table> \n <tbody> \n  <tr> \n   <td> <strong>Name</strong><br /> </td> \n   <td> <strong>Description</strong><br /> </td> \n   <td> <strong>Syntax</strong><br /> </td> \n  </tr> \n  <tr> \n   <td> <strong>Desc</strong><br /> </td> \n   <td> Applies a descending sort<br /> </td> \n   <td> Desc(&lt;value 1&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>OrderBy</strong><br /> </td> \n   <td> Sorts the result within the partition<br /> </td> \n   <td> OrderBy(&lt;value 1&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>PartitionBy</strong><br /> </td> \n   <td> Partitions the result of a query on a table<br /> </td> \n   <td> PartitionBy(&lt;value 1&gt;)<br /> </td>  \n  </tr> \n  <tr> \n   <td> <strong>RowNum</strong><br /> </td> \n   <td> Generates a line number based on the table partition and on a sorting sequence.<br /> </td> \n   <td> RowNum(PartitionBy(&lt;value 1&gt;), OrderBy(&lt;value 1&gt;))<br /> </td> \n  </tr> \n </tbody> \n</table>\n","headers":[["title","Defining filter conditions"],["description","Defining filter conditions"],["feature","Query Editor"],["topic-tags","creating-queries"]],"sections":[{"section":"Define filter conditions","sectionId":"7449de83-bd57-4ca2-9796-940a67752557","paragraphs":[]},{"section":"Choose the operator","sectionId":"ba91dae7-162d-4479-b2c2-f401d7421cff","paragraphs":["Within filtering conditions, you need to link two values together using an operator.","Below is a list of the operators available:","TABLE: Operator Purpose Example Equal to Returns a result identical to the data entered in the second Value column. Last name (@lastName) equal to 'Jones', will return only recipients whose last name is Jones. Greater than Returns a value greater than the value entered. Age (@age) greater than 50, will return all values greater than '50', i.e. '51', '52', etc. Less than Returns a value smaller than the value entered. Creation date (@created) before 'DaysAgo(100)', will return all recipients created less than 100 days ago. Greater than or equal to Returns all values equal to or greater than the value entered. Age (@age) greater than or equal to '30', will return all recipients aged 30 or more. Less than or equal to Returns all values equal to or lower than the value entered. Age (@age) less than or equal to '60', will return all recipients aged 60 or less. Not equal to Returns all values not identical to the value entered. Language (@language) to equal to 'English'. Starts with Returns the results starting with the value entered. Account # (@account) starts with '32010'. Does not start with Returns the results not starting with the value entered Account # (@account) does not start with '20'. Contains Returns the results containing at least the value entered. Email domain (@domain) contains 'mail', will return all domain names that contain 'mail'. So the 'gmail.com' domain will also be returned. Does not contain Returns results not containing the value entered. Email domain (@domain) does not contain 'vo'. In this case, domain names which contain 'vo' will not be returned. The 'voila.fr' domain name will not appear in the results. Like Like is very similar to the Contains operator. It lets you insert a % wild card character in the value. Last name (@lastName) like 'Jon%s'. Here, the wild card character is used as a \"joker\" to find the name \"Jones\", should the operator have forgotten the missing letter between the 'n' and the 's'. Not like Is similar to Like . Lets you not recover the entered value. Here too, the entered value must contain the % wild card character. Last name (@lastName) not like 'Smi%h'. Here, the recipients whose last name is 'Smi%h' will not be returned. Is empty In this case, the result we are looking for matches an empty value in the second Value column. Mobile (@mobilePhone) is empty returns all recipients who do not have a mobile number. Is not empty Works in reverse to the Is empty operator. It is not necessary to enter data in the second Value column. Email (@email) is not empty. Is included in Returns results included in the values indicated. These values have to be separated by a comma. Birth date (@birthDate) is included in '12/10/1979,12/10/1984', will return the recipients born between these dates. Is not included in Works like the Is included in operator. Here, we want to exclude recipients based on the values entered. Birth date (@birthDate) is not included in '12/10/1979,12/10/1984'. Unlike in the previous example, recipients born within these dates will not be returned.","Use AND, OR, EXCEPT","For queries using several filtering conditions, you need to define links between the conditions. There are three possible links:","And lets you combine two filtering conditions,\nOr lets you offer an alternative,\nExcept lets you define an exception.","Click And (offered by default) and choose from the drop-down list.","And: adds a condition and enables overfiltering.","Or: adds a condition and enables overfiltering.","The following example lets you find recipients whose email domain contains \"orange.co.uk\" OR whose post code starts with \"NW\".","Except: if you have two filters and the first one does not return a value, this type of link creates an exception.","In the following example, we want to return recipients whose email domain contains \"orange.co.uk\" EXCEPT if the recipient's last name is \"Smith\".","This example shows a filter which lets you display: recipients who either speak Spanish, OR are women with mobile numbers, OR recipients without an account number and whose company name starts with the letter \"N\".","Prioritize conditions","This section explains how to prioritize conditions thanks to the blue arrows in the toolbar.","The arrow pointing to the right lets you add a level of parentheses to the filter.","The arrow pointing to the left lets you delete a selected parenthesis level from the filter.","The vertical arrows let you move a condition, thereby changing their execution sequence.","This example shows you how to use the arrow to delete a parenthesis level. Start from the following filtering condition: City equal to London OR gender equal to male and mobile not indicated OR account # starts with \"95\" and company name starts with \"A\".","Place your cursor on the Gender (@gender) equal to Male filtering condition and click the Remove a parenthesis level arrow.","The Gender (@gender) equal to Male condition has been taken out of its parenthesis. It has moved to the same level as the \"City equal to London\" condition. These conditions are linked together (And).","Select data to extract","The available fields vary from one table to another. All fields are stored in a main node known as the Main element. In the following example, the available fields are in the recipient table. Fields are always displayed alphabetically.","The detail the selected field is visible at the bottom of the window. For example, the Email domain field is a Calculated SQL field and its extension is (@domain).","NOTE","Use the Search tool to find an available field.","Double-click an available field to add it to the output columns. At the end of the query, each selected field creates a column in the Data preview window.","Advanced fields are not displayed by default. Click Display advanced fields in the bottom right-hand corner of the available fields to display everything. Click again to return to the former view.","For example, in the recipient table, the advanced fields are Boolean 1, Boolean 2, Boolean 3, Foreign key of \"Folder\" link, etc.","The following example shows the advanced fields of the recipient table.","The various categories of fields:","TABLE: Icon Description Examples  Simple field Email, gender, etc.  Primary key. This SQL field is a way of identifying a record in a table. Identifier recipients are primary keys and identifiers are unique by definition.  Foreign key. Used as a link to another table. Recipient foreign key, service foreign key, etc.  Calculated field. This type of field is calculated on request using the values in the database. Age, email domain, etc.  Field containing long texts. Comment, full address, etc.  Indexed SQL field. Full name, ISO code, etc.","Link to a table and collection element:","TABLE: Icon Description Example  Links to a table in particular. These coincide with 1-1 type associations. An occurrence of the source table can coincide with only one occurrence of the target table. For example, only one recipient can be linked to a country. Folder, State, Country, etc.  Collection element on a specific table. These coincide with 1-N type associations. One source table occurrence can coincide with several occurrences of the target table, but one occurrence of the target table can coincide with only one occurrence of the source table. For example, one recipient can subscribe to 'n' subscription letters. Subscriptions, lists, exclusion logs, etc.","NOTE","Use the Add button (above the side icon bar) to add an output column in which we wish to edit the expression. For more on editing an expression, refer to this section.\nDelete an output column by clicking the red 'x' (Delete).\nChange the order of the output columns using the arrows.\nThe Distribution of values serves as a way to view the distribution of the values of the field selected (for example, the distributions linked to recipient towns, recipient languages, etc.).","Create calculated fields","If necessary, add a column during data formatting. A calculated field adds a column to the data preview section. Click Add a calculated field.","There are four types of calculated fields:","Fixed string: lets you add a string of characters.","String with JavaScript tags: the value of the calculated field combines a string of characters and JavaScript directives.","JavaScript expression: the value of the calculated field is the result of a JavaScript function evaluation. The returned value can be typed (number, date, etc.).","Enumerations: This type of field lets you use/modify the content of one of the output columns in a new column.","It's possible to use the source value of a column and give it a destination value. This destination value will be displayed in the new output column.","An example of adding calculated field type Enumerations is available, refer to this section.","The Enumerations type calculated field can include 4 conditions:","Keep the source value restores the source value to the target without changing it.\nUse the following value lets you enter a default destination value for non-defined source values.\nGenerate a warning and continue warns the user that the source value cannot be changed.\nGenerate an error and reject the line prevents the line from being calculated and imported.","Click the Detail of calculated field to view the detail of the inserted field.","To remove this calculated field, click the Remove the calculated field cross.","Build expressions","The expression editing tool lets you calculate aggregates, generate function, or edit a formula using an expression.","The following example shows you how to run a count on a primary key.","Apply the following steps:","Click Add in the Data to extract window. In the Formula type window, select a type of formula to enter the expression.","There are several types of formulas available: Field only, Aggregate, Expression.","Select Process on an aggregate function, and Count. Click Next.","The primary key is calculated.","Here is a detailed view of the choices available in the Formula types window:","Field only lets you return to the Field to select window.","Aggregate (Process on an aggregate function). Here are some examples of aggregate use:","Count lets you run a primary key count.","Sum lets you add up all purchases made by a customer over one year.","Maximum value lets you find the customers having purchased the most \"n\" products.","Minimum value lets you sort through customers and find those having subscribed to an offer most recently.","Average. This function lets you calculate the average age of your recipients.","The Distinct box lets you recover unique and non-zero values of a column. For example, you can recover all of a recipient's tracking logs and these tracking logs are changed to the value 1 since they all concern the same recipient.","Expression opens the Edit the expression window. This lets you detect telephone numbers with too many figures, likely to be input errors.","For a list of all available functions, refer to List of functions.","List of functions","If an Expression type formula is chosen, you will be taken to the \"edit the expression\" window. Various categories of functions can be associated to the available fields: Aggregates, String, Date, Numerical, Currency, Geomarketing, Windowing function and Others.","The expression editor looks like this:","It lets you select fields in the database tables and add advanced functions to them. The following functions are available:","Aggregates","TABLE: Name Description Syntax Avg Returns the average of a number type column Avg() Count Counts the non-null values of a column Count() CountAll Counts the values returned (all fields) CountAll() Countdistinct Counts the distinct non-null values of a column Countdistinct() Max Returns the maximum value of a number, string, or date type column Max() Min Returns the minimum value of a number, string or date type column Min() StdDev Returns the standard deviation of a number, string or date column StdDev() Sum Returns the sum of the values of a number, string, or date type column Sum()","String","TABLE: Name Description Syntax AllNonNull2 Indicates if all parameters are non-null and not empty AllNonNull2(, ) AllNonNull3 Indicates if all parameters are non-null and not empty AllNonNull3(, , ) Ascii Returns the ASCII value of the first character in the string. Ascii() Char Returns the character corresponding to the 'n' ASCII code Char() Charindex Returns the position of string 2 in string 1. Charindex(, ) GetLine Returns the nth (from 1 to n) line of the string GetLine() IfEquals Returns the third parameter if the first two parameters are equal. If not, returns the last parameter IfEquals(, , , ) IsMemoNull Indicates if the memo passed as a parameter is null IsMemoNull() JuxtWords Concatenates the strings passed as parameters. Adds spaces between the strings if necessary. JuxtWords(, ) JuxtWords3 Concatenates the strings passed as parameters. Adds spaces between the strings if necessary JuxtWords3(, , ) LPad Returns the completed string on the left LPad(, , ) Left Returns the first n characters of the string Left(, ) Length Returns the length of the string Length() Lower Returns the string in lowercase Lower() Ltrim Removes spaces to the left of the string Ltrim() Md5Digest Returns an hexadecimal representation of the MD5 key of a string Md5Digest() MemoContains Specifies whether the memo contains the string passed as a parameter MemoContains(, ) RPad Returns the completed string on the right RPad(, , ) Right Returns the last n characters of the string Right() Rtrim Removes spaces to the right of the string Rtrim() Smart Returns the string with the first letter of each word in capitals Smart() Substring Extracts the substring starting at character n1 of the string and of length n2 Substring(, , ) ToString Converts the number to a string ToString(, ) Upper Returns the string in capitals Upper() VirtualLink Returns the foreign key of a link passed as a parameter if the other two parameters are equal VirtualLink(, , ) VirtualLinkStr Returns the foreign (text) key of a link passed as a parameter if the other two parameters are equal VirtualLinkStr(, , ) dataLength Returns the string size dataLength()","Date","TABLE: Name Description Syntax AddDays Adds a number of days to a date AddDays(, ) AddHours Adds a number of hours to a date AddHours(, ) AddMinutes Adds a number of minutes to a date AddMinutes(, ) AddMonths Adds a number of months to a date AddMonths(, ) AddSeconds Adds a number of seconds to a date AddSeconds(, ) AddYears Adds a number of years to a date AddYears(, ) DateOnly Returns the date only (with time at 00:00)* DateOnly() Day Returns the number representing the day of the date Day() DayOfYear Returns the number of the day in the year of the date DayOfYear() DaysAgo Returns the date corresponding to the current date minus n days DaysAgo() DaysAgoInt Returns the date (integer yyyymmdd) corresponding to the current date minus n days DaysAgoInt() DaysDiff Number of days between two dates DaysDiff(, ) DaysOld Returns the age in days of a date DaysOld() GetDate Returns the current system date of the server GetDate() Hour Returns the hour of the date Hour() HoursDiff Returns the number of hours between two dates HoursDiff(, ) Minute Returns the minutes of the date Minute() MinutesDiff Returns the number of minutes between two dates MinutesDiff(, ) Month Returns the number representing the month of the date Month() MonthsAgo Returns the date corresponding to the current date minus n months MonthsAgo() MonthsDiff Returns the number of months between two dates MonthsDiff(, ) MonthsOld Returns the age in months of a date MonthsOld() Second Returns the seconds of the date Second() SecondsDiff Returns the number of seconds between two dates SecondsDiff(, ) SubDays Subtracts a number of days from a date SubDays(, ) SubHours Subtracts a number of hours from a date SubHours(, ) SubMinutes Subtracts a number of minutes from a date SubMinutes(, ) SubMonths Subtracts a number of months from a date SubMonths(, ) SubSeconds Subtracts a number of seconds from a date SubSeconds(, ) SubYears Subtracts a number of years from a date SubYears(, ) ToDate Converts a date + time as a date ToDate(<date + time>) ToDateTime Converts a string to a date + time ToDateTime() TruncDate Rounds a date+time to the nearest second TruncDate(@lastModified, ) TruncDateTZ Rounds a date + time to a given precision expressed in seconds TruncDateTZ(, , ) TruncQuarter Rounds a date off to the quarter TruncQuarter() TruncTime Rounds the time part up to the nearest second TruncTim(e, ) TruncWeek Rounds a date off to the week TruncWeek() TruncYear Rounds a date + time to January 1st of the year TruncYear() TruncWeek Returns the number representing the day in the week of the date WeekDay() Year Returns the number representing the year of the date Year() YearAnd Month Returns the number representing the year and month of the date YearAndMonth() YearsDiff Returns the number of years between the two dates YearsDiff(, ) YearsOld Returns the age in years of a date YearsOld()","NOTE","Note that the Dateonly function takes into account the server's timezone, not the operator's.","Numerical","TABLE: Name Description Syntax Abs Returns the absolute value of a number Abs() Ceil Returns the lowest integer greater than or equal to a number Ceil() Floor Returns the greatest integer greater than or equal to a number Floor() Greatest Returns the greater of two numbers Greatest(<number 1>, <number 2>) Least Returns the smaller of two numbers Least(<number 1>, <number 2>) Mod Returns the remainder of the integer division of n1 by n2 Mod(<number 1>, <number 2>) Percent Returns the ratio of two numbers expressed as a percentage Percent(<number 1>, <number 2>) Random Returns the random value Random() Round Rounds off a number to n decimals Round(, ) Sign Returns the sign of the number Sign() ToDouble Converts an integer to a float ToDouble() ToInt64 Converts a float to a 64 bit integer ToInt64() ToInteger Converts a float to an integer ToInteger() Trunc Truncates n1 to n2 decimals Trunc(, )","Currency","TABLE: Name Description Syntax ConvertCurrency Converts an amount in a source currency to an amount in a target currency ConvertCurrency(, , , ) FormatCurrency Formats the amount displayed based on the selected currency settings FormatCurrency(, )","Geomarketing","TABLE: Name Description Syntax Distance Returns the distance between two points defined by their longitude and latitude, expressed in degrees. Distance(, , , )","Others","TABLE: Name Description Syntax Case Returns value 1 if the condition is true. If not, it returns value 2. Case(When(, <value 1>), Else(<value 2>)) ClearBit Deletes the Flag in the value ClearBit(, ) Coalesce Returns value 2 if value 1 is zero or null, otherwise returns value 1 Coalesce(<value 1>, <value 2>) Decode Returns value 3 if value 1 = value 2. If not returns value 4. Decode(<value 1>, <value 2>, <value 3>, <value 4>) Else Returns value 1 (may only be used as a parameter of the case function) Else(<value 1>, <value 2>) GetEmailDomain Extracts the domain from an email address GetEmailDomain() GetMirrorURL Retrieves the URL of the mirror page server GetMirrorURL() Iif Returns value 1 if the expression is true. If not, returns value 2 Iif(, <value 1>, <value 2>) IsBitSet Indicates whether the Flag is in the value IsBitSet(, ) IsEmptyString Returns value 2 if string 1 is empty, otherwise returns value 3 IsEmptyString(<value 1>, <value 2>, <value 3>) NoNull Returns the empty string if the argument is NULL NoNull() RowId Returns the line number RowId SetBit Forces the Flag in the value SetBit(, ) ToBoolean Converts a number into a Boolean ToBoolean() When Returns value 1 if the expression is true. If not, it returns value 2 (may only be used as a parameter of the case function) When(, <value 1>)","Windowing functions"]},{"section":"(@account) starts with '32010'.</strong><br /> </td>","sectionId":"3c26057c-97d3-4103-a65d-9a02ef914e6a","paragraphs":["Define filter conditions","Choose the operator","Within filtering conditions, you need to link two values together using an operator.","Below is a list of the operators available:","TABLE: Operator Purpose Example Equal to Returns a result identical to the data entered in the second Value column. Last name (@lastName) equal to 'Jones', will return only recipients whose last name is Jones. Greater than Returns a value greater than the value entered. Age (@age) greater than 50, will return all values greater than '50', i.e. '51', '52', etc. Less than Returns a value smaller than the value entered. Creation date (@created) before 'DaysAgo(100)', will return all recipients created less than 100 days ago. Greater than or equal to Returns all values equal to or greater than the value entered. Age (@age) greater than or equal to '30', will return all recipients aged 30 or more. Less than or equal to Returns all values equal to or lower than the value entered. Age (@age) less than or equal to '60', will return all recipients aged 60 or less. Not equal to Returns all values not identical to the value entered. Language (@language) to equal to 'English'. Starts with Returns the results starting with the value entered. Account # (@account) starts with '32010'. Does not start with Returns the results not starting with the value entered Account # (@account) does not start with '20'. Contains Returns the results containing at least the value entered. Email domain (@domain) contains 'mail', will return all domain names that contain 'mail'. So the 'gmail.com' domain will also be returned. Does not contain Returns results not containing the value entered. Email domain (@domain) does not contain 'vo'. In this case, domain names which contain 'vo' will not be returned. The 'voila.fr' domain name will not appear in the results. Like Like is very similar to the Contains operator. It lets you insert a % wild card character in the value. Last name (@lastName) like 'Jon%s'. Here, the wild card character is used as a \"joker\" to find the name \"Jones\", should the operator have forgotten the missing letter between the 'n' and the 's'. Not like Is similar to Like . Lets you not recover the entered value. Here too, the entered value must contain the % wild card character. Last name (@lastName) not like 'Smi%h'. Here, the recipients whose last name is 'Smi%h' will not be returned. Is empty In this case, the result we are looking for matches an empty value in the second Value column. Mobile (@mobilePhone) is empty returns all recipients who do not have a mobile number. Is not empty Works in reverse to the Is empty operator. It is not necessary to enter data in the second Value column. Email (@email) is not empty. Is included in Returns results included in the values indicated. These values have to be separated by a comma. Birth date (@birthDate) is included in '12/10/1979,12/10/1984', will return the recipients born between these dates. Is not included in Works like the Is included in operator. Here, we want to exclude recipients based on the values entered. Birth date (@birthDate) is not included in '12/10/1979,12/10/1984'. Unlike in the previous example, recipients born within these dates will not be returned.","Use AND, OR, EXCEPT","For queries using several filtering conditions, you need to define links between the conditions. There are three possible links:","And lets you combine two filtering conditions,\nOr lets you offer an alternative,\nExcept lets you define an exception.","Click And (offered by default) and choose from the drop-down list.","And: adds a condition and enables overfiltering.","Or: adds a condition and enables overfiltering.","The following example lets you find recipients whose email domain contains \"orange.co.uk\" OR whose post code starts with \"NW\".","Except: if you have two filters and the first one does not return a value, this type of link creates an exception.","In the following example, we want to return recipients whose email domain contains \"orange.co.uk\" EXCEPT if the recipient's last name is \"Smith\".","This example shows a filter which lets you display: recipients who either speak Spanish, OR are women with mobile numbers, OR recipients without an account number and whose company name starts with the letter \"N\".","Prioritize conditions","This section explains how to prioritize conditions thanks to the blue arrows in the toolbar.","The arrow pointing to the right lets you add a level of parentheses to the filter.","The arrow pointing to the left lets you delete a selected parenthesis level from the filter.","The vertical arrows let you move a condition, thereby changing their execution sequence.","This example shows you how to use the arrow to delete a parenthesis level. Start from the following filtering condition: City equal to London OR gender equal to male and mobile not indicated OR account # starts with \"95\" and company name starts with \"A\".","Place your cursor on the Gender (@gender) equal to Male filtering condition and click the Remove a parenthesis level arrow.","The Gender (@gender) equal to Male condition has been taken out of its parenthesis. It has moved to the same level as the \"City equal to London\" condition. These conditions are linked together (And).","Select data to extract","The available fields vary from one table to another. All fields are stored in a main node known as the Main element. In the following example, the available fields are in the recipient table. Fields are always displayed alphabetically.","The detail the selected field is visible at the bottom of the window. For example, the Email domain field is a Calculated SQL field and its extension is (@domain).","NOTE","Use the Search tool to find an available field.","Double-click an available field to add it to the output columns. At the end of the query, each selected field creates a column in the Data preview window.","Advanced fields are not displayed by default. Click Display advanced fields in the bottom right-hand corner of the available fields to display everything. Click again to return to the former view.","For example, in the recipient table, the advanced fields are Boolean 1, Boolean 2, Boolean 3, Foreign key of \"Folder\" link, etc.","The following example shows the advanced fields of the recipient table.","The various categories of fields:","TABLE: Icon Description Examples  Simple field Email, gender, etc.  Primary key. This SQL field is a way of identifying a record in a table. Identifier recipients are primary keys and identifiers are unique by definition.  Foreign key. Used as a link to another table. Recipient foreign key, service foreign key, etc.  Calculated field. This type of field is calculated on request using the values in the database. Age, email domain, etc.  Field containing long texts. Comment, full address, etc.  Indexed SQL field. Full name, ISO code, etc.","Link to a table and collection element:","TABLE: Icon Description Example  Links to a table in particular. These coincide with 1-1 type associations. An occurrence of the source table can coincide with only one occurrence of the target table. For example, only one recipient can be linked to a country. Folder, State, Country, etc.  Collection element on a specific table. These coincide with 1-N type associations. One source table occurrence can coincide with several occurrences of the target table, but one occurrence of the target table can coincide with only one occurrence of the source table. For example, one recipient can subscribe to 'n' subscription letters. Subscriptions, lists, exclusion logs, etc.","NOTE","Use the Add button (above the side icon bar) to add an output column in which we wish to edit the expression. For more on editing an expression, refer to this section.\nDelete an output column by clicking the red 'x' (Delete).\nChange the order of the output columns using the arrows.\nThe Distribution of values serves as a way to view the distribution of the values of the field selected (for example, the distributions linked to recipient towns, recipient languages, etc.).","Create calculated fields","If necessary, add a column during data formatting. A calculated field adds a column to the data preview section. Click Add a calculated field.","There are four types of calculated fields:","Fixed string: lets you add a string of characters.","String with JavaScript tags: the value of the calculated field combines a string of characters and JavaScript directives.","JavaScript expression: the value of the calculated field is the result of a JavaScript function evaluation. The returned value can be typed (number, date, etc.).","Enumerations: This type of field lets you use/modify the content of one of the output columns in a new column.","It's possible to use the source value of a column and give it a destination value. This destination value will be displayed in the new output column.","An example of adding calculated field type Enumerations is available, refer to this section.","The Enumerations type calculated field can include 4 conditions:","Keep the source value restores the source value to the target without changing it.\nUse the following value lets you enter a default destination value for non-defined source values.\nGenerate a warning and continue warns the user that the source value cannot be changed.\nGenerate an error and reject the line prevents the line from being calculated and imported.","Click the Detail of calculated field to view the detail of the inserted field.","To remove this calculated field, click the Remove the calculated field cross.","Build expressions","The expression editing tool lets you calculate aggregates, generate function, or edit a formula using an expression.","The following example shows you how to run a count on a primary key.","Apply the following steps:","Click Add in the Data to extract window. In the Formula type window, select a type of formula to enter the expression.","There are several types of formulas available: Field only, Aggregate, Expression.","Select Process on an aggregate function, and Count. Click Next.","The primary key is calculated.","Here is a detailed view of the choices available in the Formula types window:","Field only lets you return to the Field to select window.","Aggregate (Process on an aggregate function). Here are some examples of aggregate use:","Count lets you run a primary key count.","Sum lets you add up all purchases made by a customer over one year.","Maximum value lets you find the customers having purchased the most \"n\" products.","Minimum value lets you sort through customers and find those having subscribed to an offer most recently.","Average. This function lets you calculate the average age of your recipients.","The Distinct box lets you recover unique and non-zero values of a column. For example, you can recover all of a recipient's tracking logs and these tracking logs are changed to the value 1 since they all concern the same recipient.","Expression opens the Edit the expression window. This lets you detect telephone numbers with too many figures, likely to be input errors.","For a list of all available functions, refer to List of functions.","List of functions","If an Expression type formula is chosen, you will be taken to the \"edit the expression\" window. Various categories of functions can be associated to the available fields: Aggregates, String, Date, Numerical, Currency, Geomarketing, Windowing function and Others.","The expression editor looks like this:","It lets you select fields in the database tables and add advanced functions to them. The following functions are available:","Aggregates","TABLE: Name Description Syntax Avg Returns the average of a number type column Avg() Count Counts the non-null values of a column Count() CountAll Counts the values returned (all fields) CountAll() Countdistinct Counts the distinct non-null values of a column Countdistinct() Max Returns the maximum value of a number, string, or date type column Max() Min Returns the minimum value of a number, string or date type column Min() StdDev Returns the standard deviation of a number, string or date column StdDev() Sum Returns the sum of the values of a number, string, or date type column Sum()","String","TABLE: Name Description Syntax AllNonNull2 Indicates if all parameters are non-null and not empty AllNonNull2(, ) AllNonNull3 Indicates if all parameters are non-null and not empty AllNonNull3(, , ) Ascii Returns the ASCII value of the first character in the string. Ascii() Char Returns the character corresponding to the 'n' ASCII code Char() Charindex Returns the position of string 2 in string 1. Charindex(, ) GetLine Returns the nth (from 1 to n) line of the string GetLine() IfEquals Returns the third parameter if the first two parameters are equal. If not, returns the last parameter IfEquals(, , , ) IsMemoNull Indicates if the memo passed as a parameter is null IsMemoNull() JuxtWords Concatenates the strings passed as parameters. Adds spaces between the strings if necessary. JuxtWords(, ) JuxtWords3 Concatenates the strings passed as parameters. Adds spaces between the strings if necessary JuxtWords3(, , ) LPad Returns the completed string on the left LPad(, , ) Left Returns the first n characters of the string Left(, ) Length Returns the length of the string Length() Lower Returns the string in lowercase Lower() Ltrim Removes spaces to the left of the string Ltrim() Md5Digest Returns an hexadecimal representation of the MD5 key of a string Md5Digest() MemoContains Specifies whether the memo contains the string passed as a parameter MemoContains(, ) RPad Returns the completed string on the right RPad(, , ) Right Returns the last n characters of the string Right() Rtrim Removes spaces to the right of the string Rtrim() Smart Returns the string with the first letter of each word in capitals Smart() Substring Extracts the substring starting at character n1 of the string and of length n2 Substring(, , ) ToString Converts the number to a string ToString(, ) Upper Returns the string in capitals Upper() VirtualLink Returns the foreign key of a link passed as a parameter if the other two parameters are equal VirtualLink(, , ) VirtualLinkStr Returns the foreign (text) key of a link passed as a parameter if the other two parameters are equal VirtualLinkStr(, , ) dataLength Returns the string size dataLength()","Date","TABLE: Name Description Syntax AddDays Adds a number of days to a date AddDays(, ) AddHours Adds a number of hours to a date AddHours(, ) AddMinutes Adds a number of minutes to a date AddMinutes(, ) AddMonths Adds a number of months to a date AddMonths(, ) AddSeconds Adds a number of seconds to a date AddSeconds(, ) AddYears Adds a number of years to a date AddYears(, ) DateOnly Returns the date only (with time at 00:00)* DateOnly() Day Returns the number representing the day of the date Day() DayOfYear Returns the number of the day in the year of the date DayOfYear() DaysAgo Returns the date corresponding to the current date minus n days DaysAgo() DaysAgoInt Returns the date (integer yyyymmdd) corresponding to the current date minus n days DaysAgoInt() DaysDiff Number of days between two dates DaysDiff(, ) DaysOld Returns the age in days of a date DaysOld() GetDate Returns the current system date of the server GetDate() Hour Returns the hour of the date Hour() HoursDiff Returns the number of hours between two dates HoursDiff(, ) Minute Returns the minutes of the date Minute() MinutesDiff Returns the number of minutes between two dates MinutesDiff(, ) Month Returns the number representing the month of the date Month() MonthsAgo Returns the date corresponding to the current date minus n months MonthsAgo() MonthsDiff Returns the number of months between two dates MonthsDiff(, ) MonthsOld Returns the age in months of a date MonthsOld() Second Returns the seconds of the date Second() SecondsDiff Returns the number of seconds between two dates SecondsDiff(, ) SubDays Subtracts a number of days from a date SubDays(, ) SubHours Subtracts a number of hours from a date SubHours(, ) SubMinutes Subtracts a number of minutes from a date SubMinutes(, ) SubMonths Subtracts a number of months from a date SubMonths(, ) SubSeconds Subtracts a number of seconds from a date SubSeconds(, ) SubYears Subtracts a number of years from a date SubYears(, ) ToDate Converts a date + time as a date ToDate(<date + time>) ToDateTime Converts a string to a date + time ToDateTime() TruncDate Rounds a date+time to the nearest second TruncDate(@lastModified, ) TruncDateTZ Rounds a date + time to a given precision expressed in seconds TruncDateTZ(, , ) TruncQuarter Rounds a date off to the quarter TruncQuarter() TruncTime Rounds the time part up to the nearest second TruncTim(e, ) TruncWeek Rounds a date off to the week TruncWeek() TruncYear Rounds a date + time to January 1st of the year TruncYear() TruncWeek Returns the number representing the day in the week of the date WeekDay() Year Returns the number representing the year of the date Year() YearAnd Month Returns the number representing the year and month of the date YearAndMonth() YearsDiff Returns the number of years between the two dates YearsDiff(, ) YearsOld Returns the age in years of a date YearsOld()","NOTE","Note that the Dateonly function takes into account the server's timezone, not the operator's.","Numerical","TABLE: Name Description Syntax Abs Returns the absolute value of a number Abs() Ceil Returns the lowest integer greater than or equal to a number Ceil() Floor Returns the greatest integer greater than or equal to a number Floor() Greatest Returns the greater of two numbers Greatest(<number 1>, <number 2>) Least Returns the smaller of two numbers Least(<number 1>, <number 2>) Mod Returns the remainder of the integer division of n1 by n2 Mod(<number 1>, <number 2>) Percent Returns the ratio of two numbers expressed as a percentage Percent(<number 1>, <number 2>) Random Returns the random value Random() Round Rounds off a number to n decimals Round(, ) Sign Returns the sign of the number Sign() ToDouble Converts an integer to a float ToDouble() ToInt64 Converts a float to a 64 bit integer ToInt64() ToInteger Converts a float to an integer ToInteger() Trunc Truncates n1 to n2 decimals Trunc(, )","Currency","TABLE: Name Description Syntax ConvertCurrency Converts an amount in a source currency to an amount in a target currency ConvertCurrency(, , , ) FormatCurrency Formats the amount displayed based on the selected currency settings FormatCurrency(, )","Geomarketing","TABLE: Name Description Syntax Distance Returns the distance between two points defined by their longitude and latitude, expressed in degrees. Distance(, , , )","Others","TABLE: Name Description Syntax Case Returns value 1 if the condition is true. If not, it returns value 2. Case(When(, <value 1>), Else(<value 2>)) ClearBit Deletes the Flag in the value ClearBit(, ) Coalesce Returns value 2 if value 1 is zero or null, otherwise returns value 1 Coalesce(<value 1>, <value 2>) Decode Returns value 3 if value 1 = value 2. If not returns value 4. Decode(<value 1>, <value 2>, <value 3>, <value 4>) Else Returns value 1 (may only be used as a parameter of the case function) Else(<value 1>, <value 2>) GetEmailDomain Extracts the domain from an email address GetEmailDomain() GetMirrorURL Retrieves the URL of the mirror page server GetMirrorURL() Iif Returns value 1 if the expression is true. If not, returns value 2 Iif(, <value 1>, <value 2>) IsBitSet Indicates whether the Flag is in the value IsBitSet(, ) IsEmptyString Returns value 2 if string 1 is empty, otherwise returns value 3 IsEmptyString(<value 1>, <value 2>, <value 3>) NoNull Returns the empty string if the argument is NULL NoNull() RowId Returns the line number RowId SetBit Forces the Flag in the value SetBit(, ) ToBoolean Converts a number into a Boolean ToBoolean() When Returns value 1 if the expression is true. If not, it returns value 2 (may only be used as a parameter of the case function) When(, <value 1>)","Windowing functions"]},{"section":"(@account) does not start with '20'</strong>.<br /> </td>","sectionId":"9e9ba885-20b5-4f1e-8343-e923bbc35748","paragraphs":["Define filter conditions","Choose the operator","Within filtering conditions, you need to link two values together using an operator.","Below is a list of the operators available:","TABLE: Operator Purpose Example Equal to Returns a result identical to the data entered in the second Value column. Last name (@lastName) equal to 'Jones', will return only recipients whose last name is Jones. Greater than Returns a value greater than the value entered. Age (@age) greater than 50, will return all values greater than '50', i.e. '51', '52', etc. Less than Returns a value smaller than the value entered. Creation date (@created) before 'DaysAgo(100)', will return all recipients created less than 100 days ago. Greater than or equal to Returns all values equal to or greater than the value entered. Age (@age) greater than or equal to '30', will return all recipients aged 30 or more. Less than or equal to Returns all values equal to or lower than the value entered. Age (@age) less than or equal to '60', will return all recipients aged 60 or less. Not equal to Returns all values not identical to the value entered. Language (@language) to equal to 'English'. Starts with Returns the results starting with the value entered. Account # (@account) starts with '32010'. Does not start with Returns the results not starting with the value entered Account # (@account) does not start with '20'. Contains Returns the results containing at least the value entered. Email domain (@domain) contains 'mail', will return all domain names that contain 'mail'. So the 'gmail.com' domain will also be returned. Does not contain Returns results not containing the value entered. Email domain (@domain) does not contain 'vo'. In this case, domain names which contain 'vo' will not be returned. The 'voila.fr' domain name will not appear in the results. Like Like is very similar to the Contains operator. It lets you insert a % wild card character in the value. Last name (@lastName) like 'Jon%s'. Here, the wild card character is used as a \"joker\" to find the name \"Jones\", should the operator have forgotten the missing letter between the 'n' and the 's'. Not like Is similar to Like . Lets you not recover the entered value. Here too, the entered value must contain the % wild card character. Last name (@lastName) not like 'Smi%h'. Here, the recipients whose last name is 'Smi%h' will not be returned. Is empty In this case, the result we are looking for matches an empty value in the second Value column. Mobile (@mobilePhone) is empty returns all recipients who do not have a mobile number. Is not empty Works in reverse to the Is empty operator. It is not necessary to enter data in the second Value column. Email (@email) is not empty. Is included in Returns results included in the values indicated. These values have to be separated by a comma. Birth date (@birthDate) is included in '12/10/1979,12/10/1984', will return the recipients born between these dates. Is not included in Works like the Is included in operator. Here, we want to exclude recipients based on the values entered. Birth date (@birthDate) is not included in '12/10/1979,12/10/1984'. Unlike in the previous example, recipients born within these dates will not be returned."]},{"section":"Use AND, OR, EXCEPT","sectionId":"494dddff-a1d5-4cf9-8bae-e72729f505db","paragraphs":["For queries using several filtering conditions, you need to define links between the conditions. There are three possible links:","And lets you combine two filtering conditions,\nOr lets you offer an alternative,\nExcept lets you define an exception.","Click And (offered by default) and choose from the drop-down list.","And: adds a condition and enables overfiltering.","Or: adds a condition and enables overfiltering.","The following example lets you find recipients whose email domain contains \"orange.co.uk\" OR whose post code starts with \"NW\".","Except: if you have two filters and the first one does not return a value, this type of link creates an exception.","In the following example, we want to return recipients whose email domain contains \"orange.co.uk\" EXCEPT if the recipient's last name is \"Smith\".","This example shows a filter which lets you display: recipients who either speak Spanish, OR are women with mobile numbers, OR recipients without an account number and whose company name starts with the letter \"N\"."]},{"section":"Prioritize conditions","sectionId":"f65aeecb-df67-4c85-881b-ef0555b5ac22","paragraphs":["This section explains how to prioritize conditions thanks to the blue arrows in the toolbar.","The arrow pointing to the right lets you add a level of parentheses to the filter.","The arrow pointing to the left lets you delete a selected parenthesis level from the filter.","The vertical arrows let you move a condition, thereby changing their execution sequence.","This example shows you how to use the arrow to delete a parenthesis level. Start from the following filtering condition: City equal to London OR gender equal to male and mobile not indicated OR account # starts with \"95\" and company name starts with \"A\".","Place your cursor on the Gender (@gender) equal to Male filtering condition and click the Remove a parenthesis level arrow.","The Gender (@gender) equal to Male condition has been taken out of its parenthesis. It has moved to the same level as the \"City equal to London\" condition. These conditions are linked together (And).","Select data to extract","The available fields vary from one table to another. All fields are stored in a main node known as the Main element. In the following example, the available fields are in the recipient table. Fields are always displayed alphabetically.","The detail the selected field is visible at the bottom of the window. For example, the Email domain field is a Calculated SQL field and its extension is (@domain).","NOTE","Use the Search tool to find an available field.","Double-click an available field to add it to the output columns. At the end of the query, each selected field creates a column in the Data preview window.","Advanced fields are not displayed by default. Click Display advanced fields in the bottom right-hand corner of the available fields to display everything. Click again to return to the former view.","For example, in the recipient table, the advanced fields are Boolean 1, Boolean 2, Boolean 3, Foreign key of \"Folder\" link, etc.","The following example shows the advanced fields of the recipient table.","The various categories of fields:","TABLE: Icon Description Examples  Simple field Email, gender, etc.  Primary key. This SQL field is a way of identifying a record in a table. Identifier recipients are primary keys and identifiers are unique by definition.  Foreign key. Used as a link to another table. Recipient foreign key, service foreign key, etc.  Calculated field. This type of field is calculated on request using the values in the database. Age, email domain, etc.  Field containing long texts. Comment, full address, etc.  Indexed SQL field. Full name, ISO code, etc.","Link to a table and collection element:","TABLE: Icon Description Example  Links to a table in particular. These coincide with 1-1 type associations. An occurrence of the source table can coincide with only one occurrence of the target table. For example, only one recipient can be linked to a country. Folder, State, Country, etc.  Collection element on a specific table. These coincide with 1-N type associations. One source table occurrence can coincide with several occurrences of the target table, but one occurrence of the target table can coincide with only one occurrence of the source table. For example, one recipient can subscribe to 'n' subscription letters. Subscriptions, lists, exclusion logs, etc.","NOTE","Use the Add button (above the side icon bar) to add an output column in which we wish to edit the expression. For more on editing an expression, refer to this section.\nDelete an output column by clicking the red 'x' (Delete).\nChange the order of the output columns using the arrows.\nThe Distribution of values serves as a way to view the distribution of the values of the field selected (for example, the distributions linked to recipient towns, recipient languages, etc.).","Create calculated fields","If necessary, add a column during data formatting. A calculated field adds a column to the data preview section. Click Add a calculated field.","There are four types of calculated fields:","Fixed string: lets you add a string of characters.","String with JavaScript tags: the value of the calculated field combines a string of characters and JavaScript directives.","JavaScript expression: the value of the calculated field is the result of a JavaScript function evaluation. The returned value can be typed (number, date, etc.).","Enumerations: This type of field lets you use/modify the content of one of the output columns in a new column.","It's possible to use the source value of a column and give it a destination value. This destination value will be displayed in the new output column.","An example of adding calculated field type Enumerations is available, refer to this section.","The Enumerations type calculated field can include 4 conditions:","Keep the source value restores the source value to the target without changing it.\nUse the following value lets you enter a default destination value for non-defined source values.\nGenerate a warning and continue warns the user that the source value cannot be changed.\nGenerate an error and reject the line prevents the line from being calculated and imported.","Click the Detail of calculated field to view the detail of the inserted field.","To remove this calculated field, click the Remove the calculated field cross.","Build expressions","The expression editing tool lets you calculate aggregates, generate function, or edit a formula using an expression.","The following example shows you how to run a count on a primary key.","Apply the following steps:","Click Add in the Data to extract window. In the Formula type window, select a type of formula to enter the expression.","There are several types of formulas available: Field only, Aggregate, Expression.","Select Process on an aggregate function, and Count. Click Next.","The primary key is calculated.","Here is a detailed view of the choices available in the Formula types window:","Field only lets you return to the Field to select window.","Aggregate (Process on an aggregate function). Here are some examples of aggregate use:","Count lets you run a primary key count.","Sum lets you add up all purchases made by a customer over one year.","Maximum value lets you find the customers having purchased the most \"n\" products.","Minimum value lets you sort through customers and find those having subscribed to an offer most recently.","Average. This function lets you calculate the average age of your recipients.","The Distinct box lets you recover unique and non-zero values of a column. For example, you can recover all of a recipient's tracking logs and these tracking logs are changed to the value 1 since they all concern the same recipient.","Expression opens the Edit the expression window. This lets you detect telephone numbers with too many figures, likely to be input errors.","For a list of all available functions, refer to List of functions.","List of functions","If an Expression type formula is chosen, you will be taken to the \"edit the expression\" window. Various categories of functions can be associated to the available fields: Aggregates, String, Date, Numerical, Currency, Geomarketing, Windowing function and Others.","The expression editor looks like this:","It lets you select fields in the database tables and add advanced functions to them. The following functions are available:","Aggregates","TABLE: Name Description Syntax Avg Returns the average of a number type column Avg() Count Counts the non-null values of a column Count() CountAll Counts the values returned (all fields) CountAll() Countdistinct Counts the distinct non-null values of a column Countdistinct() Max Returns the maximum value of a number, string, or date type column Max() Min Returns the minimum value of a number, string or date type column Min() StdDev Returns the standard deviation of a number, string or date column StdDev() Sum Returns the sum of the values of a number, string, or date type column Sum()","String","TABLE: Name Description Syntax AllNonNull2 Indicates if all parameters are non-null and not empty AllNonNull2(, ) AllNonNull3 Indicates if all parameters are non-null and not empty AllNonNull3(, , ) Ascii Returns the ASCII value of the first character in the string. Ascii() Char Returns the character corresponding to the 'n' ASCII code Char() Charindex Returns the position of string 2 in string 1. Charindex(, ) GetLine Returns the nth (from 1 to n) line of the string GetLine() IfEquals Returns the third parameter if the first two parameters are equal. If not, returns the last parameter IfEquals(, , , ) IsMemoNull Indicates if the memo passed as a parameter is null IsMemoNull() JuxtWords Concatenates the strings passed as parameters. Adds spaces between the strings if necessary. JuxtWords(, ) JuxtWords3 Concatenates the strings passed as parameters. Adds spaces between the strings if necessary JuxtWords3(, , ) LPad Returns the completed string on the left LPad(, , ) Left Returns the first n characters of the string Left(, ) Length Returns the length of the string Length() Lower Returns the string in lowercase Lower() Ltrim Removes spaces to the left of the string Ltrim() Md5Digest Returns an hexadecimal representation of the MD5 key of a string Md5Digest() MemoContains Specifies whether the memo contains the string passed as a parameter MemoContains(, ) RPad Returns the completed string on the right RPad(, , ) Right Returns the last n characters of the string Right() Rtrim Removes spaces to the right of the string Rtrim() Smart Returns the string with the first letter of each word in capitals Smart() Substring Extracts the substring starting at character n1 of the string and of length n2 Substring(, , ) ToString Converts the number to a string ToString(, ) Upper Returns the string in capitals Upper() VirtualLink Returns the foreign key of a link passed as a parameter if the other two parameters are equal VirtualLink(, , ) VirtualLinkStr Returns the foreign (text) key of a link passed as a parameter if the other two parameters are equal VirtualLinkStr(, , ) dataLength Returns the string size dataLength()","Date","TABLE: Name Description Syntax AddDays Adds a number of days to a date AddDays(, ) AddHours Adds a number of hours to a date AddHours(, ) AddMinutes Adds a number of minutes to a date AddMinutes(, ) AddMonths Adds a number of months to a date AddMonths(, ) AddSeconds Adds a number of seconds to a date AddSeconds(, ) AddYears Adds a number of years to a date AddYears(, ) DateOnly Returns the date only (with time at 00:00)* DateOnly() Day Returns the number representing the day of the date Day() DayOfYear Returns the number of the day in the year of the date DayOfYear() DaysAgo Returns the date corresponding to the current date minus n days DaysAgo() DaysAgoInt Returns the date (integer yyyymmdd) corresponding to the current date minus n days DaysAgoInt() DaysDiff Number of days between two dates DaysDiff(, ) DaysOld Returns the age in days of a date DaysOld() GetDate Returns the current system date of the server GetDate() Hour Returns the hour of the date Hour() HoursDiff Returns the number of hours between two dates HoursDiff(, ) Minute Returns the minutes of the date Minute() MinutesDiff Returns the number of minutes between two dates MinutesDiff(, ) Month Returns the number representing the month of the date Month() MonthsAgo Returns the date corresponding to the current date minus n months MonthsAgo() MonthsDiff Returns the number of months between two dates MonthsDiff(, ) MonthsOld Returns the age in months of a date MonthsOld() Second Returns the seconds of the date Second() SecondsDiff Returns the number of seconds between two dates SecondsDiff(, ) SubDays Subtracts a number of days from a date SubDays(, ) SubHours Subtracts a number of hours from a date SubHours(, ) SubMinutes Subtracts a number of minutes from a date SubMinutes(, ) SubMonths Subtracts a number of months from a date SubMonths(, ) SubSeconds Subtracts a number of seconds from a date SubSeconds(, ) SubYears Subtracts a number of years from a date SubYears(, ) ToDate Converts a date + time as a date ToDate(<date + time>) ToDateTime Converts a string to a date + time ToDateTime() TruncDate Rounds a date+time to the nearest second TruncDate(@lastModified, ) TruncDateTZ Rounds a date + time to a given precision expressed in seconds TruncDateTZ(, , ) TruncQuarter Rounds a date off to the quarter TruncQuarter() TruncTime Rounds the time part up to the nearest second TruncTim(e, ) TruncWeek Rounds a date off to the week TruncWeek() TruncYear Rounds a date + time to January 1st of the year TruncYear() TruncWeek Returns the number representing the day in the week of the date WeekDay() Year Returns the number representing the year of the date Year() YearAnd Month Returns the number representing the year and month of the date YearAndMonth() YearsDiff Returns the number of years between the two dates YearsDiff(, ) YearsOld Returns the age in years of a date YearsOld()","NOTE","Note that the Dateonly function takes into account the server's timezone, not the operator's.","Numerical","TABLE: Name Description Syntax Abs Returns the absolute value of a number Abs() Ceil Returns the lowest integer greater than or equal to a number Ceil() Floor Returns the greatest integer greater than or equal to a number Floor() Greatest Returns the greater of two numbers Greatest(<number 1>, <number 2>) Least Returns the smaller of two numbers Least(<number 1>, <number 2>) Mod Returns the remainder of the integer division of n1 by n2 Mod(<number 1>, <number 2>) Percent Returns the ratio of two numbers expressed as a percentage Percent(<number 1>, <number 2>) Random Returns the random value Random() Round Rounds off a number to n decimals Round(, ) Sign Returns the sign of the number Sign() ToDouble Converts an integer to a float ToDouble() ToInt64 Converts a float to a 64 bit integer ToInt64() ToInteger Converts a float to an integer ToInteger() Trunc Truncates n1 to n2 decimals Trunc(, )","Currency","TABLE: Name Description Syntax ConvertCurrency Converts an amount in a source currency to an amount in a target currency ConvertCurrency(, , , ) FormatCurrency Formats the amount displayed based on the selected currency settings FormatCurrency(, )","Geomarketing","TABLE: Name Description Syntax Distance Returns the distance between two points defined by their longitude and latitude, expressed in degrees. Distance(, , , )","Others","TABLE: Name Description Syntax Case Returns value 1 if the condition is true. If not, it returns value 2. Case(When(, <value 1>), Else(<value 2>)) ClearBit Deletes the Flag in the value ClearBit(, ) Coalesce Returns value 2 if value 1 is zero or null, otherwise returns value 1 Coalesce(<value 1>, <value 2>) Decode Returns value 3 if value 1 = value 2. If not returns value 4. Decode(<value 1>, <value 2>, <value 3>, <value 4>) Else Returns value 1 (may only be used as a parameter of the case function) Else(<value 1>, <value 2>) GetEmailDomain Extracts the domain from an email address GetEmailDomain() GetMirrorURL Retrieves the URL of the mirror page server GetMirrorURL() Iif Returns value 1 if the expression is true. If not, returns value 2 Iif(, <value 1>, <value 2>) IsBitSet Indicates whether the Flag is in the value IsBitSet(, ) IsEmptyString Returns value 2 if string 1 is empty, otherwise returns value 3 IsEmptyString(<value 1>, <value 2>, <value 3>) NoNull Returns the empty string if the argument is NULL NoNull() RowId Returns the line number RowId SetBit Forces the Flag in the value SetBit(, ) ToBoolean Converts a number into a Boolean ToBoolean() When Returns value 1 if the expression is true. If not, it returns value 2 (may only be used as a parameter of the case function) When(, <value 1>)","Windowing functions"]},{"section":"starts with \"95\" and company name starts with \"A\"]**.","sectionId":"8235497b-b660-4eb2-a658-1df334b13593","paragraphs":["Define filter conditions","Choose the operator","Within filtering conditions, you need to link two values together using an operator.","Below is a list of the operators available:","TABLE: Operator Purpose Example Equal to Returns a result identical to the data entered in the second Value column. Last name (@lastName) equal to 'Jones', will return only recipients whose last name is Jones. Greater than Returns a value greater than the value entered. Age (@age) greater than 50, will return all values greater than '50', i.e. '51', '52', etc. Less than Returns a value smaller than the value entered. Creation date (@created) before 'DaysAgo(100)', will return all recipients created less than 100 days ago. Greater than or equal to Returns all values equal to or greater than the value entered. Age (@age) greater than or equal to '30', will return all recipients aged 30 or more. Less than or equal to Returns all values equal to or lower than the value entered. Age (@age) less than or equal to '60', will return all recipients aged 60 or less. Not equal to Returns all values not identical to the value entered. Language (@language) to equal to 'English'. Starts with Returns the results starting with the value entered. Account # (@account) starts with '32010'. Does not start with Returns the results not starting with the value entered Account # (@account) does not start with '20'. Contains Returns the results containing at least the value entered. Email domain (@domain) contains 'mail', will return all domain names that contain 'mail'. So the 'gmail.com' domain will also be returned. Does not contain Returns results not containing the value entered. Email domain (@domain) does not contain 'vo'. In this case, domain names which contain 'vo' will not be returned. The 'voila.fr' domain name will not appear in the results. Like Like is very similar to the Contains operator. It lets you insert a % wild card character in the value. Last name (@lastName) like 'Jon%s'. Here, the wild card character is used as a \"joker\" to find the name \"Jones\", should the operator have forgotten the missing letter between the 'n' and the 's'. Not like Is similar to Like . Lets you not recover the entered value. Here too, the entered value must contain the % wild card character. Last name (@lastName) not like 'Smi%h'. Here, the recipients whose last name is 'Smi%h' will not be returned. Is empty In this case, the result we are looking for matches an empty value in the second Value column. Mobile (@mobilePhone) is empty returns all recipients who do not have a mobile number. Is not empty Works in reverse to the Is empty operator. It is not necessary to enter data in the second Value column. Email (@email) is not empty. Is included in Returns results included in the values indicated. These values have to be separated by a comma. Birth date (@birthDate) is included in '12/10/1979,12/10/1984', will return the recipients born between these dates. Is not included in Works like the Is included in operator. Here, we want to exclude recipients based on the values entered. Birth date (@birthDate) is not included in '12/10/1979,12/10/1984'. Unlike in the previous example, recipients born within these dates will not be returned.","Use AND, OR, EXCEPT","For queries using several filtering conditions, you need to define links between the conditions. There are three possible links:","And lets you combine two filtering conditions,\nOr lets you offer an alternative,\nExcept lets you define an exception.","Click And (offered by default) and choose from the drop-down list.","And: adds a condition and enables overfiltering.","Or: adds a condition and enables overfiltering.","The following example lets you find recipients whose email domain contains \"orange.co.uk\" OR whose post code starts with \"NW\".","Except: if you have two filters and the first one does not return a value, this type of link creates an exception.","In the following example, we want to return recipients whose email domain contains \"orange.co.uk\" EXCEPT if the recipient's last name is \"Smith\".","This example shows a filter which lets you display: recipients who either speak Spanish, OR are women with mobile numbers, OR recipients without an account number and whose company name starts with the letter \"N\".","Prioritize conditions","This section explains how to prioritize conditions thanks to the blue arrows in the toolbar.","The arrow pointing to the right lets you add a level of parentheses to the filter.","The arrow pointing to the left lets you delete a selected parenthesis level from the filter.","The vertical arrows let you move a condition, thereby changing their execution sequence.","This example shows you how to use the arrow to delete a parenthesis level. Start from the following filtering condition: City equal to London OR gender equal to male and mobile not indicated OR account # starts with \"95\" and company name starts with \"A\".","Place your cursor on the Gender (@gender) equal to Male filtering condition and click the Remove a parenthesis level arrow.","The Gender (@gender) equal to Male condition has been taken out of its parenthesis. It has moved to the same level as the \"City equal to London\" condition. These conditions are linked together (And)."]},{"section":"Select data to extract","sectionId":"f63e617d-78eb-4e7e-84e7-9bc59dab24b9","paragraphs":["The available fields vary from one table to another. All fields are stored in a main node known as the Main element. In the following example, the available fields are in the recipient table. Fields are always displayed alphabetically.","The detail the selected field is visible at the bottom of the window. For example, the Email domain field is a Calculated SQL field and its extension is (@domain).","NOTE","Use the Search tool to find an available field.","Double-click an available field to add it to the output columns. At the end of the query, each selected field creates a column in the Data preview window.","Advanced fields are not displayed by default. Click Display advanced fields in the bottom right-hand corner of the available fields to display everything. Click again to return to the former view.","For example, in the recipient table, the advanced fields are Boolean 1, Boolean 2, Boolean 3, Foreign key of \"Folder\" link, etc.","The following example shows the advanced fields of the recipient table.","The various categories of fields:","TABLE: Icon Description Examples  Simple field Email, gender, etc.  Primary key. This SQL field is a way of identifying a record in a table. Identifier recipients are primary keys and identifiers are unique by definition.  Foreign key. Used as a link to another table. Recipient foreign key, service foreign key, etc.  Calculated field. This type of field is calculated on request using the values in the database. Age, email domain, etc.  Field containing long texts. Comment, full address, etc.  Indexed SQL field. Full name, ISO code, etc.","Link to a table and collection element:","TABLE: Icon Description Example  Links to a table in particular. These coincide with 1-1 type associations. An occurrence of the source table can coincide with only one occurrence of the target table. For example, only one recipient can be linked to a country. Folder, State, Country, etc.  Collection element on a specific table. These coincide with 1-N type associations. One source table occurrence can coincide with several occurrences of the target table, but one occurrence of the target table can coincide with only one occurrence of the source table. For example, one recipient can subscribe to 'n' subscription letters. Subscriptions, lists, exclusion logs, etc.","NOTE","Use the Add button (above the side icon bar) to add an output column in which we wish to edit the expression. For more on editing an expression, refer to this section.\nDelete an output column by clicking the red 'x' (Delete).\nChange the order of the output columns using the arrows.\nThe Distribution of values serves as a way to view the distribution of the values of the field selected (for example, the distributions linked to recipient towns, recipient languages, etc.)."]},{"section":"Create calculated fields","sectionId":"4cd95331-54b0-4d86-aee3-9377e38c9446","paragraphs":["If necessary, add a column during data formatting. A calculated field adds a column to the data preview section. Click Add a calculated field.","There are four types of calculated fields:","Fixed string: lets you add a string of characters.","String with JavaScript tags: the value of the calculated field combines a string of characters and JavaScript directives.","JavaScript expression: the value of the calculated field is the result of a JavaScript function evaluation. The returned value can be typed (number, date, etc.).","Enumerations: This type of field lets you use/modify the content of one of the output columns in a new column.","It's possible to use the source value of a column and give it a destination value. This destination value will be displayed in the new output column.","An example of adding calculated field type Enumerations is available, refer to this section.","The Enumerations type calculated field can include 4 conditions:","Keep the source value restores the source value to the target without changing it.\nUse the following value lets you enter a default destination value for non-defined source values.\nGenerate a warning and continue warns the user that the source value cannot be changed.\nGenerate an error and reject the line prevents the line from being calculated and imported.","Click the Detail of calculated field to view the detail of the inserted field.","To remove this calculated field, click the Remove the calculated field cross."]},{"section":"Build expressions","sectionId":"11981e85-bb73-48ba-9961-ddc45cb88153","paragraphs":["The expression editing tool lets you calculate aggregates, generate function, or edit a formula using an expression.","The following example shows you how to run a count on a primary key.","Apply the following steps:","Click Add in the Data to extract window. In the Formula type window, select a type of formula to enter the expression.","There are several types of formulas available: Field only, Aggregate, Expression.","Select Process on an aggregate function, and Count. Click Next.","The primary key is calculated.","Here is a detailed view of the choices available in the Formula types window:","Field only lets you return to the Field to select window.","Aggregate (Process on an aggregate function). Here are some examples of aggregate use:","Count lets you run a primary key count.","Sum lets you add up all purchases made by a customer over one year.","Maximum value lets you find the customers having purchased the most \"n\" products.","Minimum value lets you sort through customers and find those having subscribed to an offer most recently.","Average. This function lets you calculate the average age of your recipients.","The Distinct box lets you recover unique and non-zero values of a column. For example, you can recover all of a recipient's tracking logs and these tracking logs are changed to the value 1 since they all concern the same recipient.","Expression opens the Edit the expression window. This lets you detect telephone numbers with too many figures, likely to be input errors.","For a list of all available functions, refer to List of functions."]},{"section":"List of functions","sectionId":"79c882ba-cc78-4502-820b-057f1e5e9573","paragraphs":["If an Expression type formula is chosen, you will be taken to the \"edit the expression\" window. Various categories of functions can be associated to the available fields: Aggregates, String, Date, Numerical, Currency, Geomarketing, Windowing function and Others.","The expression editor looks like this:","It lets you select fields in the database tables and add advanced functions to them. The following functions are available:","Aggregates","TABLE: Name Description Syntax Avg Returns the average of a number type column Avg() Count Counts the non-null values of a column Count() CountAll Counts the values returned (all fields) CountAll() Countdistinct Counts the distinct non-null values of a column Countdistinct() Max Returns the maximum value of a number, string, or date type column Max() Min Returns the minimum value of a number, string or date type column Min() StdDev Returns the standard deviation of a number, string or date column StdDev() Sum Returns the sum of the values of a number, string, or date type column Sum()","String","TABLE: Name Description Syntax AllNonNull2 Indicates if all parameters are non-null and not empty AllNonNull2(, ) AllNonNull3 Indicates if all parameters are non-null and not empty AllNonNull3(, , ) Ascii Returns the ASCII value of the first character in the string. Ascii() Char Returns the character corresponding to the 'n' ASCII code Char() Charindex Returns the position of string 2 in string 1. Charindex(, ) GetLine Returns the nth (from 1 to n) line of the string GetLine() IfEquals Returns the third parameter if the first two parameters are equal. If not, returns the last parameter IfEquals(, , , ) IsMemoNull Indicates if the memo passed as a parameter is null IsMemoNull() JuxtWords Concatenates the strings passed as parameters. Adds spaces between the strings if necessary. JuxtWords(, ) JuxtWords3 Concatenates the strings passed as parameters. Adds spaces between the strings if necessary JuxtWords3(, , ) LPad Returns the completed string on the left LPad(, , ) Left Returns the first n characters of the string Left(, ) Length Returns the length of the string Length() Lower Returns the string in lowercase Lower() Ltrim Removes spaces to the left of the string Ltrim() Md5Digest Returns an hexadecimal representation of the MD5 key of a string Md5Digest() MemoContains Specifies whether the memo contains the string passed as a parameter MemoContains(, ) RPad Returns the completed string on the right RPad(, , ) Right Returns the last n characters of the string Right() Rtrim Removes spaces to the right of the string Rtrim() Smart Returns the string with the first letter of each word in capitals Smart() Substring Extracts the substring starting at character n1 of the string and of length n2 Substring(, , ) ToString Converts the number to a string ToString(, ) Upper Returns the string in capitals Upper() VirtualLink Returns the foreign key of a link passed as a parameter if the other two parameters are equal VirtualLink(, , ) VirtualLinkStr Returns the foreign (text) key of a link passed as a parameter if the other two parameters are equal VirtualLinkStr(, , ) dataLength Returns the string size dataLength()","Date","TABLE: Name Description Syntax AddDays Adds a number of days to a date AddDays(, ) AddHours Adds a number of hours to a date AddHours(, ) AddMinutes Adds a number of minutes to a date AddMinutes(, ) AddMonths Adds a number of months to a date AddMonths(, ) AddSeconds Adds a number of seconds to a date AddSeconds(, ) AddYears Adds a number of years to a date AddYears(, ) DateOnly Returns the date only (with time at 00:00)* DateOnly() Day Returns the number representing the day of the date Day() DayOfYear Returns the number of the day in the year of the date DayOfYear() DaysAgo Returns the date corresponding to the current date minus n days DaysAgo() DaysAgoInt Returns the date (integer yyyymmdd) corresponding to the current date minus n days DaysAgoInt() DaysDiff Number of days between two dates DaysDiff(, ) DaysOld Returns the age in days of a date DaysOld() GetDate Returns the current system date of the server GetDate() Hour Returns the hour of the date Hour() HoursDiff Returns the number of hours between two dates HoursDiff(, ) Minute Returns the minutes of the date Minute() MinutesDiff Returns the number of minutes between two dates MinutesDiff(, ) Month Returns the number representing the month of the date Month() MonthsAgo Returns the date corresponding to the current date minus n months MonthsAgo() MonthsDiff Returns the number of months between two dates MonthsDiff(, ) MonthsOld Returns the age in months of a date MonthsOld() Second Returns the seconds of the date Second() SecondsDiff Returns the number of seconds between two dates SecondsDiff(, ) SubDays Subtracts a number of days from a date SubDays(, ) SubHours Subtracts a number of hours from a date SubHours(, ) SubMinutes Subtracts a number of minutes from a date SubMinutes(, ) SubMonths Subtracts a number of months from a date SubMonths(, ) SubSeconds Subtracts a number of seconds from a date SubSeconds(, ) SubYears Subtracts a number of years from a date SubYears(, ) ToDate Converts a date + time as a date ToDate(<date + time>) ToDateTime Converts a string to a date + time ToDateTime() TruncDate Rounds a date+time to the nearest second TruncDate(@lastModified, ) TruncDateTZ Rounds a date + time to a given precision expressed in seconds TruncDateTZ(, , ) TruncQuarter Rounds a date off to the quarter TruncQuarter() TruncTime Rounds the time part up to the nearest second TruncTim(e, ) TruncWeek Rounds a date off to the week TruncWeek() TruncYear Rounds a date + time to January 1st of the year TruncYear() TruncWeek Returns the number representing the day in the week of the date WeekDay() Year Returns the number representing the year of the date Year() YearAnd Month Returns the number representing the year and month of the date YearAndMonth() YearsDiff Returns the number of years between the two dates YearsDiff(, ) YearsOld Returns the age in years of a date YearsOld()","NOTE","Note that the Dateonly function takes into account the server's timezone, not the operator's.","Numerical","TABLE: Name Description Syntax Abs Returns the absolute value of a number Abs() Ceil Returns the lowest integer greater than or equal to a number Ceil() Floor Returns the greatest integer greater than or equal to a number Floor() Greatest Returns the greater of two numbers Greatest(<number 1>, <number 2>) Least Returns the smaller of two numbers Least(<number 1>, <number 2>) Mod Returns the remainder of the integer division of n1 by n2 Mod(<number 1>, <number 2>) Percent Returns the ratio of two numbers expressed as a percentage Percent(<number 1>, <number 2>) Random Returns the random value Random() Round Rounds off a number to n decimals Round(, ) Sign Returns the sign of the number Sign() ToDouble Converts an integer to a float ToDouble() ToInt64 Converts a float to a 64 bit integer ToInt64() ToInteger Converts a float to an integer ToInteger() Trunc Truncates n1 to n2 decimals Trunc(, )","Currency","TABLE: Name Description Syntax ConvertCurrency Converts an amount in a source currency to an amount in a target currency ConvertCurrency(, , , ) FormatCurrency Formats the amount displayed based on the selected currency settings FormatCurrency(, )","Geomarketing","TABLE: Name Description Syntax Distance Returns the distance between two points defined by their longitude and latitude, expressed in degrees. Distance(, , , )","Others","TABLE: Name Description Syntax Case Returns value 1 if the condition is true. If not, it returns value 2. Case(When(, <value 1>), Else(<value 2>)) ClearBit Deletes the Flag in the value ClearBit(, ) Coalesce Returns value 2 if value 1 is zero or null, otherwise returns value 1 Coalesce(<value 1>, <value 2>) Decode Returns value 3 if value 1 = value 2. If not returns value 4. Decode(<value 1>, <value 2>, <value 3>, <value 4>) Else Returns value 1 (may only be used as a parameter of the case function) Else(<value 1>, <value 2>) GetEmailDomain Extracts the domain from an email address GetEmailDomain() GetMirrorURL Retrieves the URL of the mirror page server GetMirrorURL() Iif Returns value 1 if the expression is true. If not, returns value 2 Iif(, <value 1>, <value 2>) IsBitSet Indicates whether the Flag is in the value IsBitSet(, ) IsEmptyString Returns value 2 if string 1 is empty, otherwise returns value 3 IsEmptyString(<value 1>, <value 2>, <value 3>) NoNull Returns the empty string if the argument is NULL NoNull() RowId Returns the line number RowId SetBit Forces the Flag in the value SetBit(, ) ToBoolean Converts a number into a Boolean ToBoolean() When Returns value 1 if the expression is true. If not, it returns value 2 (may only be used as a parameter of the case function) When(, <value 1>)","Windowing functions","TABLE: Name Description Syntax Desc Applies a descending sort Desc(<value 1>) OrderBy Sorts the result within the partition OrderBy(<value 1>) PartitionBy Partitions the result of a query on a table PartitionBy(<value 1>) RowNum Generates a line number based on the table partition and on a sorting sequence. RowNum(PartitionBy(<value 1>), OrderBy(<value 1>))"]}]}