{"guid":"8d5d06c7-46fc-426e-a690-b2d21f643420","title":"Log precision","path":"help\\production\\using\\log-precision.md","fullText":"---\nproduct: campaign\ntitle: Log precision\ndescription: Log precision\nfeature: Monitoring\nbadge-v7-prem: label=\"On-premise/hybrid only\" type=\"Caution\" url=\"https://experienceleague.adobe.com/docs/campaign-classic/using/installing-campaign-classic/architecture-and-hosting-models/hosting-models-lp/hosting-models.html\" tooltip=\"Applies to on-premise and hybrid deployments only\"\naudience: production\ncontent-type: reference\ntopic-tags: troubleshooting\nexl-id: c2470098-62f3-4fee-b1c5-800ed0e91f75\n---\n# Log precision{#log-precision}\n\n\n\nYou can apply this process to all Adobe Campaign modules to increase log precision.\n\nIt involves relaunching the processes with a higher level of logs.\n\n>[!IMPORTANT]\n>\n>This procedure cancels the services in progress on this module.\n\nAdobe Campaign can operate with two levels of log:\n\n1. The **Verbose** mode is the first level after the standard level. The following command activates it:\n\n   ```\n   nlserver restart <MODULE_NAME> -verbose \n   ```\n\n   Check that the error actually occurred, and then restart the process in the normal way:\n\n   ```\n   nlserver restart <MODULE_NAME> -noconsole\n   ```\n\n1. The **TraceFilter** mode, which lets you save the greatest number of logs. It is activated by the following command:\n\n   ```\n   nlserver stop <MODULE_NAME>; nlserver <MODULE_NAME> -verbose -tracefilter:*\n   ```\n\n   >[!NOTE]\n   >\n   >If you use **tracefilter:&#42;**, all log types are activated: ncm, rdr, nms, jst, timing, wdbc, ldap, soap, xtk, xtkquery, session, xtkwriter, network, pop3, inmail  \n   >The most useful log types are: **wdbc** (displays all SQL queries), **soap** (displays all SOAP calls), **ldap** (displays all LDAP queries after authentication), **xtkquery** (displays the list of all the querydef).  \n   >You can use them individually (**tracefilter:soap,wdbc** for example). You can also activate them all and choose to exclude certain others: **-tracefilter:&#42;,!soap**\n\n   Check that the error actually occurred, and then restart the process in the normal way:\n\n   ```\n   nlserver restart <MODULE_NAME> -noconsole\n   ```\n\n>[!IMPORTANT]\n>\n>The logs of these commands are stored in the log file of the module.\n\nHere is an example specific to the Web module. The other modules operate as indicated above.\n\nBefore sending this command, check that no job in progress will be affected:\n\n```\nnlserver pdump -who\n```\n\nNext, shut down and restart the module in **TraceFilter** mode:\n\n```\nnlserver stop web; LD_PRELOAD=libjsig.so nlserver web -tomcat -verbose -tracefilter:* -tracefile:web_debug@default\n```\n\nAnother example:\n\n```\nnlserver stop mta@<INSTANCE_NAME>; nlserver mta -instance:<INSTANCE_NAME> -tracefilter:* -tracefile:mta_debug@<INSTANCE_NAME>\n```\n\n>[!NOTE]\n>\n>The **Tracefile** mode lets you save the logs. In the examples above, the logs are saved in the **var/`<instance-name>`/mta_debug.log** and **var/default/web_debug.log** files.\n\n>[!IMPORTANT]\n>\n>In Windows, do not add the LD_PRELOAD option. The following command suffices:   \n>nlserver web -tomcat -verbose -tracefilter:&#42;\n\nCheck that the problem occurs again, and then restart the module:\n\n```\nnlserver restart web -tomcat -noconsole\n```\n\nAll information is available in the file **/usr/local/neolane/nl6/var/default/log/web.log**.\n","headers":[["title","Log precision"],["description","Log precision"],["feature","Monitoring"],["topic-tags","troubleshooting"]],"sections":[{"section":"Log precision","sectionId":"5cc2903a-ead0-4238-926e-0a80344f64fa","paragraphs":["You can apply this process to all Adobe Campaign modules to increase log precision.","It involves relaunching the processes with a higher level of logs.","IMPORTANT","This procedure cancels the services in progress on this module.","Adobe Campaign can operate with two levels of log:","The Verbose mode is the first level after the standard level. The following command activates it:","nlserver restart <MODULE_NAME> -verbose","Check that the error actually occurred, and then restart the process in the normal way:","nlserver restart <MODULE_NAME> -noconsole","The TraceFilter mode, which lets you save the greatest number of logs. It is activated by the following command:","nlserver stop <MODULE_NAME>; nlserver <MODULE_NAME> -verbose -tracefilter:*","NOTE","If you use tracefilter:&#42;, all log types are activated: ncm, rdr, nms, jst, timing, wdbc, ldap, soap, xtk, xtkquery, session, xtkwriter, network, pop3, inmail\nThe most useful log types are: wdbc (displays all SQL queries), soap (displays all SOAP calls), ldap (displays all LDAP queries after authentication), xtkquery (displays the list of all the querydef).\nYou can use them individually (tracefilter:soap,wdbc for example). You can also activate them all and choose to exclude certain others: -tracefilter:&#42;,!soap","Check that the error actually occurred, and then restart the process in the normal way:","nlserver restart <MODULE_NAME> -noconsole","IMPORTANT","The logs of these commands are stored in the log file of the module.","Here is an example specific to the Web module. The other modules operate as indicated above.","Before sending this command, check that no job in progress will be affected:","nlserver pdump -who","Next, shut down and restart the module in TraceFilter mode:","nlserver stop web; LD_PRELOAD=libjsig.so nlserver web -tomcat -verbose -tracefilter:* -tracefile:web_debug@default","Another example:","nlserver stop mta@<INSTANCE_NAME>; nlserver mta -instance:<INSTANCE_NAME> -tracefilter:* -tracefile:mta_debug@<INSTANCE_NAME>","NOTE","The Tracefile mode lets you save the logs. In the examples above, the logs are saved in the var/<instance-name>/mta_debug.log and var/default/web_debug.log files.","IMPORTANT","In Windows, do not add the LD_PRELOAD option. The following command suffices:\nnlserver web -tomcat -verbose -tracefilter:&#42;","Check that the problem occurs again, and then restart the module:","nlserver restart web -tomcat -noconsole","All information is available in the file /usr/local/neolane/nl6/var/default/log/web.log."]}]}