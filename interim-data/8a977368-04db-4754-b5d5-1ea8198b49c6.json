{"guid":"8a977368-04db-4754-b5d5-1ea8198b49c6","title":"Build personalized content","path":"help\\delivery\\using\\design-and-personalize.md","fullText":"---\nproduct: campaign\ntitle: Build personalized content\ndescription: Learn how to build personalized content in Adobe Campaign deliveries\nbadge-v8: label=\"Also applies to v8\" type=\"Positive\" tooltip=\"Also applies to Campaign v8\"\nfeature: Email Design, Personalization\nrole: User\nexl-id: 5bf727d2-83b1-4a99-be25-041eee8d234c\n---\n# Build personalized content {#build-personalized-content}\n\nWhen designing your message content, try to avoid common issues that could prevent you from executing your delivery. Most of the time, possible errors are related to [personalization](about-personalization.md), [formatting](defining-the-email-content.md#message-content) and [images](defining-the-email-content.md#adding-images).\n\n## Optimize personalization {#optimize-personalization}\n\nTo avoid common issues that could prevent you from executing your delivery and to improve your recipients' experience, Adobe Campaign enables you to personalize your messages.\n\nYou can use recipients' data stored in the Adobe Campaign database, or collected through tracking, landing pages, subscriptions, etc.\nPersonalization basics are presented in [this section](personalization-fields.md).\n\nMake sure your message content is properly designed to avoid any errors, which are generally related to personalization.\n\n**Tips**: In personalization fields coming from external files provided by third-party vendors, external HTML content can be wrong. To avoid this, check syntax, use of tags, characters, etc. For example, an Adobe Campaign personalization tag always has the following form: <%=table.field%>. For more on this, see [this section](about-personalization.md).\n\nThe incorrect use of parameters in personalization blocks can be an issue. For example, variables in JavaScript should be used as follows:\n\n    <%\n\n    var brand = \"xxx\"\n\n    %>\n\nFor more on personalization blocks, refer to the [this section](personalization-blocks.md).\n\nYou can prepare personalization data in a workflow to improve delivery preparation analysis. This should be used specially if the personalization data come from an external table through Federated Data Access (FDA). This option is described in this [this section](personalization-fields.md#optimizing-personalization)\n\n## Build optimized content {#optimize-content}\n\nWhen building your emails, keep the general best practices below in mind.\n\n* Keep design simple\n\n* Keep mobile users in mind\n\n* Avoid entirely image-based emails\n\n* Use email-safe fonts\n\n* Encode special characters\n\n### Subject line\n\nWork on the [subject line](defining-the-email-content.md#message-content) to improve open rates:\n\n* Avoid subjects that are too long. Use 50 characters maximum\n\n* Avoid using repetitively words like \"free\" or \"offer\", that could be considered as spam\n\n* Avoid capital letters, and special characters like \"!\", \"£\", \"&euro;\", \"$\"\n\n### Mirror page\n\nAlways include a mirror page link. Preferred position is a the top of the email. [Learn more](sending-messages.md#generating-the-mirror-page) \n\n### Unsubscription link\n\nThe unsubscription link is essential. It must be visible and valid, and the form must be functional. By default, when the message is analyzed, a [typology rule](steps-validating-the-delivery.md#validation-process-with-typologies) checks whether an opt-out link has been included and generates a warning if it is missing.\n\n**Tip**: Because human error is always possible, check that the opt-out link works correctly before each time you send. For example, when sending the proof, make sure the link is valid, that the form is on-line and that the No longer contact this recipient field is changed to Yes.\n\nLearn how to insert an opt-out link [in this section](personalization-blocks.md#personalization-blocks-example).\n\n### Email size\n\nTo avoid performance or deliverability issues, the recommended maximum size of an email is about **35KB**. To check the message size, go the **[!UICONTROL Preview]** tab and choose a test profile. Once generated, the message size will be displayed in the top right corner.\n\nTo keep your email under the limit, consider the following:\n\n* Remove redundant or unused styles\n\n* Move some of the email content to a landing page\n\n* Minify your code\n\nMake sure to test any changes before the final sending\n\n### SMS length\n\nBy default, the number of characters in an SMS meets the GSM (Global System for Mobile Communications) standards. SMS messages using GSM encoding are limited to 160 characters, or 153 characters per SMS for messages sent in multiple parts.\n\nTransliteration consists of replacing one character of an SMS by another when that character is not taken into account by the GSM standard. Note that inserting personalization fields into the content of your SMS message may introduce characters that are not taken into account by the GSM encoding. You can authorize character transliteration by checking the corresponding box in the SMPP channel settings tab of the corresponding **[!UICONTROL External account]**. \nLearn more [in this section](sms-set-up.md#creating-an-smpp-external-account).\n\n**Tips**:\n\n* To keep all of the characters in your SMS messages as they are, to not alter proper names for example, do not enable transliteration.\n\n* However, if your SMS messages contain a lot of characters that are not taken into account by the GSM standard, enable transliteration to limit the costs of sending your messages.\n\nLearn more [in this section](sms-set-up.md#about-character-transliteration).\n\n## Work on formatting {#formatting}\n\nTo avoid common formatting errors, check the following elements:\n\n* Correct **date formatting**: Adobe Campaign provides date formatting functions for the JavaScript templates and XSL stylesheets. [Learn more](formatting.md#date-display)\n\n* Usage of **authorized characters** in emails: the list of valid characters for email addresses is defined in the \"XtkEmail_Characters\" option. Learn how to access Campaign options [in this section](../../installation/using/configuring-campaign-options.md). To correctly handle special characters, Adobe Campaign needs to be installed in Unicode. \n\n* Configuration of **Email Authentication**: make sure that the email headers contain the DKIM signature. DKIM (Domain Keys Identified Mail) authentication allows the receiving email server to verify that a message was indeed sent by the person or entity it claims it was sent by, and whether the message content was altered in between the time it was originally sent (and DKIM \"signed\") and the time it was received. This standard typically uses the domain in the From or Sender header. For more on this, refer to the [Adobe Deliverability Best Practice Guide](https://experienceleague.adobe.com/docs/deliverability-learn/deliverability-best-practice-guide/transition-process/infrastructure.html#authentication).\n\n### Responsive email design\n\nResponsive design ensures that an email renders optimally for the device on which it is opened. \n\n* Use responsive email HTML rather than web HTML\n\n* Use the preview mode and send proofs to test the rendering on as much devices as possible\n\n* The Adobe Campaign Classic Digital Content Editor (DCE) module includes some responsive design formatted templates for mobile available via **[!UICONTROL Resources]** > **[!UICONTROL Templates]** > **[!UICONTROL Content templates]**. Learn more [in this article](https://theblog.adobe.com/responsive-email-design-101/)\n\n## Manage images {#manage-images}\n\nFollow the guidelines below when it comes to using images.\n\n### Prevent images blocking\n\nSome email clients block images by default, and some users change their settings to block images for saving on data usage. Therefore, if images are not downloaded, the whole message can be lost. To avoid this:\n\n* Balance your content with image and text. Avoid entirely image-based emails.\n\n* If text must be contained in an image, use alt and title text to make sure your message gets across. Style your alt/title text to improve its appearance.\n\n* Avoid the use of background images as they are not supported by some email clients.\n\n### Make images responsive\n\nTry to make images responsive and resizable. Note that this can have a cost impact as it takes longer to build.\n\n### Use absolute image references\n\nTo be accessible from the outside, the images used in emails and public resources linked to campaigns must be present on an externally accessible server.\n\n* You can check if the instance configuration enables public resource management. [Learn more](../../installation/using/deploying-an-instance.md#managing-public-resources)\n    \n* From the delivery wizard, you can import an HTML page containing images or insert images directly using the HTML editor via the **[!UICONTROL Image]** icon. [Learn more](defining-the-email-content.md#adding-images)\n\n* If images are not displayed, check that the images are available on the server. To do this, click the Source tab from your delivery. Find your images and copy-paste each image's URL in a web browser. If the images are not displayed, contact your IT administrator or the third-party vendor providing your delivery content.\n\n## Preview your message {#preview-msg}\n\nAdobe recommends previewing your message to check its personalization and how your recipients will see your delivery. \n\n* In the delivery wizard, the **[!UICONTROL Preview]** sub-tab lets you view the rendering of each content for a recipient. The personalization fields and the conditional elements of content are replaced with the corresponding information for the selected profile. [Learn more](defining-the-email-content.md#message-content)\n\n*  An automatic anti-spam checking is performed during each preview. In the **[!UICONTROL Preview]** sub-tab, check [SpamAssassin](spamassassin.md) spam scoring.  Click **[!UICONTROL More...]** to find out more about the warning.  Before doing so, make sure SpamAssassin is correctly installed and configured on the Adobe Campaign application server. [Learn more](../../installation/using/configuring-spamassassin.md)\n","headers":[["title","Build personalized content"],["description","Learn how to build personalized content in Adobe Campaign deliveries"],["feature","Email Design, Personalization"]],"sections":[{"section":"Build personalized content","sectionId":"93f955c7-f228-4207-97e1-b00af5000e9b","paragraphs":["When designing your message content, try to avoid common issues that could prevent you from executing your delivery. Most of the time, possible errors are related to personalization, formatting and images."]},{"section":"Optimize personalization","sectionId":"559bea2c-bae1-45b9-a639-86ec392cb537","paragraphs":["To avoid common issues that could prevent you from executing your delivery and to improve your recipients' experience, Adobe Campaign enables you to personalize your messages.","You can use recipients' data stored in the Adobe Campaign database, or collected through tracking, landing pages, subscriptions, etc.\nPersonalization basics are presented in this section.","Make sure your message content is properly designed to avoid any errors, which are generally related to personalization.","Tips: In personalization fields coming from external files provided by third-party vendors, external HTML content can be wrong. To avoid this, check syntax, use of tags, characters, etc. For example, an Adobe Campaign personalization tag always has the following form: <%=table.field%>. For more on this, see this section.","The incorrect use of parameters in personalization blocks can be an issue. For example, variables in JavaScript should be used as follows:","<%","var brand = \"xxx\"","%>","For more on personalization blocks, refer to the this section.","You can prepare personalization data in a workflow to improve delivery preparation analysis. This should be used specially if the personalization data come from an external table through Federated Data Access (FDA). This option is described in this this section"]},{"section":"Build optimized content","sectionId":"32b325c8-ff0f-48c6-8b85-5271796e7f71","paragraphs":["When building your emails, keep the general best practices below in mind.","Keep design simple","Keep mobile users in mind","Avoid entirely image-based emails","Use email-safe fonts","Encode special characters"]},{"section":"Subject line","sectionId":"36ba6b6c-a6ee-41ae-b16b-7d005b65f64b","paragraphs":["Work on the subject line to improve open rates:","Avoid subjects that are too long. Use 50 characters maximum","Avoid using repetitively words like \"free\" or \"offer\", that could be considered as spam","Avoid capital letters, and special characters like \"!\", \"£\", \"&euro;\", \"$\""]},{"section":"Mirror page","sectionId":"619de8b0-b047-4d1f-9984-0219c30c1bee","paragraphs":["Always include a mirror page link. Preferred position is a the top of the email. Learn more"]},{"section":"Unsubscription link","sectionId":"ee261f85-de33-4460-9dc4-b2692aecb0a4","paragraphs":["The unsubscription link is essential. It must be visible and valid, and the form must be functional. By default, when the message is analyzed, a typology rule checks whether an opt-out link has been included and generates a warning if it is missing.","Tip: Because human error is always possible, check that the opt-out link works correctly before each time you send. For example, when sending the proof, make sure the link is valid, that the form is on-line and that the No longer contact this recipient field is changed to Yes.","Learn how to insert an opt-out link in this section."]},{"section":"Email size","sectionId":"0bc27b8f-ba3a-4b14-9a86-57317638c224","paragraphs":["To avoid performance or deliverability issues, the recommended maximum size of an email is about 35KB. To check the message size, go the Preview tab and choose a test profile. Once generated, the message size will be displayed in the top right corner.","To keep your email under the limit, consider the following:","Remove redundant or unused styles","Move some of the email content to a landing page","Minify your code","Make sure to test any changes before the final sending"]},{"section":"SMS length","sectionId":"3311eff1-7c7d-44d1-a5de-9ca204b3889c","paragraphs":["By default, the number of characters in an SMS meets the GSM (Global System for Mobile Communications) standards. SMS messages using GSM encoding are limited to 160 characters, or 153 characters per SMS for messages sent in multiple parts.","Transliteration consists of replacing one character of an SMS by another when that character is not taken into account by the GSM standard. Note that inserting personalization fields into the content of your SMS message may introduce characters that are not taken into account by the GSM encoding. You can authorize character transliteration by checking the corresponding box in the SMPP channel settings tab of the corresponding External account. \nLearn more in this section.","Tips:","To keep all of the characters in your SMS messages as they are, to not alter proper names for example, do not enable transliteration.","However, if your SMS messages contain a lot of characters that are not taken into account by the GSM standard, enable transliteration to limit the costs of sending your messages.","Learn more in this section."]},{"section":"Work on formatting","sectionId":"c367e4b9-d4fc-4c6b-a811-89d01ad24037","paragraphs":["To avoid common formatting errors, check the following elements:","Correct date formatting: Adobe Campaign provides date formatting functions for the JavaScript templates and XSL stylesheets. Learn more","Usage of authorized characters in emails: the list of valid characters for email addresses is defined in the \"XtkEmail_Characters\" option. Learn how to access Campaign options in this section. To correctly handle special characters, Adobe Campaign needs to be installed in Unicode.","Configuration of Email Authentication: make sure that the email headers contain the DKIM signature. DKIM (Domain Keys Identified Mail) authentication allows the receiving email server to verify that a message was indeed sent by the person or entity it claims it was sent by, and whether the message content was altered in between the time it was originally sent (and DKIM \"signed\") and the time it was received. This standard typically uses the domain in the From or Sender header. For more on this, refer to the Adobe Deliverability Best Practice Guide."]},{"section":"Responsive email design","sectionId":"270c9f2d-de22-42ed-acd8-93b06190f212","paragraphs":["Responsive design ensures that an email renders optimally for the device on which it is opened.","Use responsive email HTML rather than web HTML","Use the preview mode and send proofs to test the rendering on as much devices as possible","The Adobe Campaign Classic Digital Content Editor (DCE) module includes some responsive design formatted templates for mobile available via Resources > Templates > Content templates. Learn more in this article"]},{"section":"Manage images","sectionId":"b5a82df8-2486-4790-9744-8f69e843ac84","paragraphs":["Follow the guidelines below when it comes to using images."]},{"section":"Prevent images blocking","sectionId":"9a159eb2-47be-42ac-902c-8dc3bb866ac1","paragraphs":["Some email clients block images by default, and some users change their settings to block images for saving on data usage. Therefore, if images are not downloaded, the whole message can be lost. To avoid this:","Balance your content with image and text. Avoid entirely image-based emails.","If text must be contained in an image, use alt and title text to make sure your message gets across. Style your alt/title text to improve its appearance.","Avoid the use of background images as they are not supported by some email clients."]},{"section":"Make images responsive","sectionId":"71be02cc-8bea-477b-8242-aa4893800e60","paragraphs":["Try to make images responsive and resizable. Note that this can have a cost impact as it takes longer to build."]},{"section":"Use absolute image references","sectionId":"27b206dc-4c7e-431e-810a-29d9c1f07174","paragraphs":["To be accessible from the outside, the images used in emails and public resources linked to campaigns must be present on an externally accessible server.","You can check if the instance configuration enables public resource management. Learn more","From the delivery wizard, you can import an HTML page containing images or insert images directly using the HTML editor via the Image icon. Learn more","If images are not displayed, check that the images are available on the server. To do this, click the Source tab from your delivery. Find your images and copy-paste each image's URL in a web browser. If the images are not displayed, contact your IT administrator or the third-party vendor providing your delivery content."]},{"section":"Preview your message","sectionId":"c584005a-4d7e-4398-92b7-884529335a4b","paragraphs":["Adobe recommends previewing your message to check its personalization and how your recipients will see your delivery.","In the delivery wizard, the Preview sub-tab lets you view the rendering of each content for a recipient. The personalization fields and the conditional elements of content are replaced with the corresponding information for the selected profile. Learn more","An automatic anti-spam checking is performed during each preview. In the Preview sub-tab, check SpamAssassin spam scoring.  Click More... to find out more about the warning.  Before doing so, make sure SpamAssassin is correctly installed and configured on the Adobe Campaign application server. Learn more"]}]}