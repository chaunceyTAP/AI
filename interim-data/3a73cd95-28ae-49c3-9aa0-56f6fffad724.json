{"guid":"3a73cd95-28ae-49c3-9aa0-56f6fffad724","title":"Targeting data","path":"help\\workflow\\using\\targeting-data.md","fullText":"---\nproduct: campaign\ntitle: Targeting data\ndescription: Learn more about Targeting data in a workflow\nfeature: Query Editor, Data Management, Workflows\nexl-id: 74b82019-bdab-4442-84cf-5ad18d0db788\n---\n# Target data{#targeting-data}\n\n\n\n## Create queries {#creating-queries}\n\n### Select data {#selecting-data}\n\nA **[!UICONTROL Query]** activity lets you select basic data to build the target population. For more on this, refer to [Creating a query](query.md#creating-a-query).\n\nYou can also use the following activities to query and refine data from the database: [Incremental query](incremental-query.md), [Read list](read-list.md).\n\nIt is possible to collect additional data to be forwarded and processed throughout the workflow's life cycle. For more on this, refer to [Adding data](query.md#adding-data) and [Editing additional data](#editing-additional-data).\n\n### Edit additional data {#editing-additional-data}\n\nOnce additional data has been added, you can edit it or use it to refine the target defined in the query activity.\n\nThe **[!UICONTROL Edit additional data...]** link lets you view the added data and modify it or add to it.\n\n![](assets/wf_add_data_edit_link.png)\n\nTo add data to the previously defined output columns, select it in the list of available fields. To create a new output column, click the **[!UICONTROL Add]** icon, then select the field and click **[!UICONTROL Edit expression]**.\n\n![](assets/query_add_an_output_column.png)\n\nDefine a calculation mode for the field to be added, such as an aggregate for example.\n\n![](assets/query_add_an_output_column_formula.png)\n\nThe **[!UICONTROL Add a sub-item]** option lets you attach computed data to the collection. This lets you select the additional data from the collection or define aggregate calculations on collection elements. \n\n![](assets/query_add_columns_subscription_sub-element.png)\n\nThe sub-elements will be represented in the sub-tree of the collection they are mapped to.\n\nCollections are shown in the **[!UICONTROL Collections]** sub-tab. You can filter the collected elements by clicking the **[!UICONTROL Detail]** icon of the selected collection. The filter wizard lets you select the collected data and specify the filtering conditions to be applied to the data in the collection.\n\n![](assets/query_add_columns_collection.png)\n\n### Refine the target using additional data {#refining-the-target-using-additional-data}\n\nThe additional data collected can enable you to refine data filtering in the database. To do this, click the **[!UICONTROL Refine the target using additional data...]** link: this lets you over-filter on the added data.\n\n![](assets/wf_add_data_use_additional_data.png)\n\n### Homogenize data {#homogenizing-data}\n\nIn **[!UICONTROL Union]** or **[!UICONTROL Intersection]** type activities, you can choose to keep only shared additional data to keep the data consistent. In this case, the temporary output worktable of this activity will contain only the additional data found in all inbound sets.\n\n![](assets/option-common_additionnal_col_only.png)\n\n### Reconciliation with additional data {#reconciliation-with-additional-data}\n\nDuring the data reconciliation phases (**[!UICONTROL Union]**, **[!UICONTROL Intersection]**, etc. activities), you can select the columns to be used for data reconciliation from the additional columns. To do this, configure a reconciliation on a selection of columns and specify the main set. Then select the columns in the lower column of the window, as shown in the following example:\n\n![](assets/select-column-and-join.png)\n\n### Create subsets {#creating-subsets}\n\nThe **[!UICONTROL Split]** activity lets you create subsets on criteria defined via extraction queries. For each subset, when you edit a filter condition on the population, you will then access the standard query activity which lets you define the target segmentation conditions.\n\nYou can split a target into several subsets using only additional data as filtering conditions, or in addition to target data. You can also use external data if you have purchased the **Federated Data Access** option.\n\nFor more on this, refer to [Creating subsets using the Split activity](#creating-subsets-using-the-split-activity).\n\n## Segment data {#segmenting-data}\n\n### Combine several targets (Union) {#combining-several-targets--union-}\n\nThe union activity lets you combine the result of several activities within one transition. Sets do not necessarily have to be homogeneous.\n\n![](assets/join_reconciliation_options.png)\n\nThe following data reconciliation options are available:\n\n* **[!UICONTROL Keys only]**\n\n  This option can be used if input populations are homogeneous.\n\n* **[!UICONTROL All columns in common]**\n\n  This option lets you reconcile data based on all the columns common to the target's various populations.\n\n  Adobe Campaign identifies columns based on their name. A tolerance threshold is accepted: for example, an 'Email' column can be recognized as identical to an '@email' column.\n\n* **[!UICONTROL A selection of columns]**\n\n  Select this option to define the list of columns which data reconciliation will be applied to.\n\n  Start by selecting the main set (the one which contains the source data), then the columns to be used for the join.\n\n  ![](assets/join_reconciliation_options_01.png)\n\n  >[!CAUTION]\n  >\n  >During data reconciliation, populations are not deduplicated.\n\n  You can restrict the population size to a given number of records. To do this, click the appropriate option and specify the number of records to be kept.\n\n  Also, specify the priority of inbound populations: the lower section of the window lists the inbound transitions of the union activity and lets you sort them using the blue arrows to the right of the window.\n\n  The records will be taken first from the population of the first inbound transition in the list, then, if the maximum hasn't been reached, they will be taken from the population of the second inbound transition, etc.\n\n  ![](assets/join_limit_nb_priority.png)\n\n### Extract joint data (Intersection) {#extracting-joint-data--intersection-}\n\n![](assets/traitements.png)\n\nThe intersection lets you recover only the lines shared by the populations of inbound transitions. This activity shall be configured like the union activity.\n\nFurthermore, it is possible to keep only a selection of columns, or only the columns shared by the inbound population.\n\nThe intersection activity is detailed in the [Intersection](intersection.md) section.\n\n### Exclude a population (Exclusion) {#excluding-a-population--exclusion-}\n\nThe exclusion activity lets you exclude the elements of a target from a different target population. The output targeting dimension of this activity will be that of the main set.\n\nWhen necessary, it is possible to manipulate inbound tables. Indeed, to exclude a target from another dimension, this target has to be returned to the same targeting dimension as the main target. To do this click the **[!UICONTROL Add]** button and specify the dimension change conditions.\n\nData reconciliation is carried out either via an identifier, changing axis, or a join. An example is available in [Using data from a list: Read list](../../platform/using/import-export-workflows.md#using-data-from-a-list--read-list).\n\n![](assets/exclusion_edit_add_rule_01.png)\n\n### Create subsets using the Split activity {#creating-subsets-using-the-split-activity}\n\nThe **[!UICONTROL Split]** activity is a standard activity which lets you create as many sets as necessary via one or several filtering dimensions, as well as generating either one output transition per subset or a unique transition.\n\nThe additional data conveyed by the inbound transition can be used in the filtering criteria.\n\nTo configure it, you first need to select criteria:\n\n1. In your workflow, drag and drop a **[!UICONTROL Split]** activity.\n1. In the **[!UICONTROL General]** tab, select the desired option: **[!UICONTROL Use data from the target and additional data]**, **[!UICONTROL Use the additional data only]** or **[!UICONTROL Use external data]**.\n1. If the **[!UICONTROL Use data from the target and additional data]** option is selected, the targeting dimension lets you use all the data conveyed by the inbound transition.\n\n   ![](assets/split-general-tab-options.png)\n\n   When subsets are created, the aforementioned filtering parameters are used.\n\n   To define filtering conditions, choose the **[!UICONTROL Add a filtering condition on the inbound population]** option and click the **[!UICONTROL Edit...]** link. Then specify the filtering conditions for creating this subset.\n\n   ![](assets/split-subset-config-all-data.png)\n\n   An example showing how to use filtering conditions in the **[!UICONTROL Split]** activity to segment the target into different populations is described in [this section](cross-channel-delivery-workflow.md).\n\n   The **[!UICONTROL Label]** field lets you give the newly created subset a name, which will match the outbound transition.\n\n   You can also assign a segment code to the subset to identify it and use it to target its population.\n\n   If necessary, you can change the targeting and filtering dimensions individually for each subset you want to create. To do this, edit the subset's filtering condition and check the **[!UICONTROL Use a specific filtering dimension]** option.\n\n   ![](assets/split-subset-config-specific-filtering.png)\n\n1. If the **[!UICONTROL Use the additional data only]** option is selected, only additional data is offered for subset filtering.\n\n   ![](assets/split-subset-config-additional-data-only.png)\n\n1. If the **Federated Data Access** option is enabled, the **[!UICONTROL Use external data]** lets you process data in an external database which is already configured, or create a new connection to a database.\n\n   ![](assets/split-subset-config-add_external_data.png)\n\n   For more on this, depending on your Campaign version, refer to these sections:\n   \n    ![](assets/do-not-localize/v7.jpeg)[  Campaign v7 documentation](../../installation/using/about-fda.md)\n\n    ![](assets/do-not-localize/v8.png)[  Campaign v8 documentation](https://experienceleague.adobe.com/docs/campaign/campaign-v8/connect/fda.html)\n\nThen, we need to add new subsets:\n\n1. Click the **[!UICONTROL Add]** button and define the filtering conditions. \n\n   ![](assets/wf_split_add_a_tab.png)\n\n1. Define the filtering dimension in the **[!UICONTROL General]** tab of the activity (see above).It applies to all subsets by default. \n\n   ![](assets/wf_split_edit_filtering.png)\n\n1. If necessary, you can change the filtering dimension for each subset individually. This lets you build a set for all Gold card holders, one for all recipients who clicked in the latest newsletter and a third for people aged 18 to 25 who made an in-store purchase within the last 30 days, all using the same split activity. To do this, select the **[!UICONTROL Use a specific filtering dimension]** option and select the data filtering context.\n\n   ![](assets/wf_split_change_dimension.png)\n\n   >[!NOTE]\n   >\n   >If you have acquired the **Federated Data Access** option, you can create subsets based on the information in an external base. To do this, select the schema of the external table in the **[!UICONTROL Targeting dimension]** field. For more on this, refer to [Accessing an external database (FDA)](accessing-an-external-database-fda.md).\n\nOnce subsets have been created, by default the split activity shows as many output transitions as there are subsets:\n\n![](assets/wf_split_multi_outputs.png)\n\nYou can group all these subsets into a single output transition. In this case, the link to the respective subsets will be visible in the segment code, for example. To do this, select the **[!UICONTROL Generate all subsets in the same table]** option.\n\n![](assets/wf_split_select_option_single_output.png)\n\nFor example, you can place a single delivery activity and personalize the delivery content based on the segment code of each recipient set: \n\n![](assets/wf_split_single_output.png)\n\nSubsets can also be created using the **[!UICONTROL Cells]** activity. For more on this, refer to the [Cells](cells.md) section.\n\n### Use targeted data {#using-targeted-data}\n\nOnce the data has been identified and prepared, it can be used in the following contexts:\n\n* You can update the data in the database following data manipulation in the various workflow stages.\n\n  For more on this, [Update data](update-data.md).\n\n* You can also refresh the content of existing lists.\n\n  For more on this, refer to [List update](list-update.md).\n\n* You can prepare or start deliveries in the workflow directly.\n\n  For more on this, refer to [Delivery](delivery.md), [Delivery control](delivery-control.md) and [Continuous delivery](continuous-delivery.md).\n\n## Data Management {#data-management}\n\nIn Adobe Campaign, the Data Management combines a set of activities for solving complex targeting issues by offering more efficient and flexible tools. This lets you implement consistent management of all communications with a contact using information related to their contracts, subscriptions, reactivity to deliveries, etc. Data Management lets you track the data life cycle during segmentation operations, in particular:\n\n* Simplifying and optimizing targeting processes, by including data that is not modeled in the datamart (creating new tables: local extension to each targeting workflow depending on configuration).\n* Keeping and conveying buffer calculations, especially during target construction phases or for database administration.\n* Accessing external bases (optional): heterogeneous databases taken into account during the targeting process.\n\nIn order to implement these operations, Adobe Campaign offers:\n\n* Data collection activities: [File transfer](file-transfer.md), [Data loading (file)](data-loading-file.md), [Data loading (RDBMS)](data-loading-rdbms.md), [Update data](update-data.md). This first step of collecting data prepares the data to allow it to be processed in other activities. Several parameters need to be monitored in order to ensure that the workflow executes correctly and gives the expected results. For example, when you import data, the primary key (Pkey) for this data must be unique for each record.\n* Targeting activities having been enriched with Data Management options: [Query](query.md), [Union](union.md), [Intersection](intersection.md), [Split](split.md). This lets you configure a union or an intersection between data from several different targeting dimensions, as long as data reconciliation is possible.\n* Data transformation activities: [Enrichment](enrichment.md), [Change dimension](change-dimension.md).\n\n>[!CAUTION]\n>\n>When two workflows are linked, deleting a source table element does not mean that all the data linked to it is deleted.\n>  \n>For example, deleting a recipient via a workflow will not result in all of the recipient's delivery history being deleted. However, deleting a recipient directly in the 'Recipients' folder will indeed result in all data linked with this recipient being deleted.\n\n### Enrich and modify data {#enriching-and-modifying-data}\n\nIn addition to the targeting dimension, the filtering dimension lets you specify the nature of the collected data. Refer to [Targeting and filtering dimensions](building-a-workflow.md#targeting-and-filtering-dimensions).\n\nThe identified and collected data can be enriched, aggregated and manipulated to optimize target construction. To do this, in addition to the data manipulation activities detailed in the [Segmenting data](#segmenting-data) section, use the following:\n\n* The **[!UICONTROL Enrichment]** activity lets you momentarily add columns to a schema, as well as add information to certain elements. It is detailed in the [Enrichment](enrichment.md) section of the repository of activities.\n* The **[!UICONTROL Edit schema]** activity lets you modify the structure of a schema. It is detailed in the [Edit schema](edit-schema.md) section of the repository of activities.\n* The **[!UICONTROL Change dimension]** activity lets you change the targeting dimension during the target construction cycle. It is detailed in the [Change dimension](change-dimension.md) section.\n","headers":[["title","Targeting data"],["description","Learn more about Targeting data in a workflow"],["feature","Query Editor, Data Management, Workflows"]],"sections":[{"section":"Target data","sectionId":"8b15c7e2-ff17-4aa9-a41b-d7d214f23a5b","paragraphs":[]},{"section":"Create queries","sectionId":"a8c2fcc6-27f4-4475-ae03-a3928fe4dda4","paragraphs":[]},{"section":"Select data","sectionId":"74d772b4-45b8-4d14-abc9-c40d6d5d0b78","paragraphs":["A Query activity lets you select basic data to build the target population. For more on this, refer to Creating a query.","You can also use the following activities to query and refine data from the database: Incremental query, Read list.","It is possible to collect additional data to be forwarded and processed throughout the workflow's life cycle. For more on this, refer to Adding data and Editing additional data."]},{"section":"Edit additional data","sectionId":"776891ad-c927-4b57-8c56-4fec77d04997","paragraphs":["Once additional data has been added, you can edit it or use it to refine the target defined in the query activity.","The Edit additional data... link lets you view the added data and modify it or add to it.","To add data to the previously defined output columns, select it in the list of available fields. To create a new output column, click the Add icon, then select the field and click Edit expression.","Define a calculation mode for the field to be added, such as an aggregate for example.","The Add a sub-item option lets you attach computed data to the collection. This lets you select the additional data from the collection or define aggregate calculations on collection elements.","The sub-elements will be represented in the sub-tree of the collection they are mapped to.","Collections are shown in the Collections sub-tab. You can filter the collected elements by clicking the Detail icon of the selected collection. The filter wizard lets you select the collected data and specify the filtering conditions to be applied to the data in the collection."]},{"section":"Refine the target using additional data","sectionId":"99f234b9-530f-4c51-86a3-d294ccd0a79c","paragraphs":["The additional data collected can enable you to refine data filtering in the database. To do this, click the Refine the target using additional data... link: this lets you over-filter on the added data."]},{"section":"Homogenize data","sectionId":"9bc7c322-aa62-4e18-a952-6c744807665b","paragraphs":["In Union or Intersection type activities, you can choose to keep only shared additional data to keep the data consistent. In this case, the temporary output worktable of this activity will contain only the additional data found in all inbound sets."]},{"section":"Reconciliation with additional data","sectionId":"e1cf04be-dab3-4ef7-a438-01d92c3b9ed5","paragraphs":["During the data reconciliation phases (Union, Intersection, etc. activities), you can select the columns to be used for data reconciliation from the additional columns. To do this, configure a reconciliation on a selection of columns and specify the main set. Then select the columns in the lower column of the window, as shown in the following example:"]},{"section":"Create subsets","sectionId":"2a5d9f9d-09f0-4d13-a521-fc9eb78b70db","paragraphs":["The Split activity lets you create subsets on criteria defined via extraction queries. For each subset, when you edit a filter condition on the population, you will then access the standard query activity which lets you define the target segmentation conditions.","You can split a target into several subsets using only additional data as filtering conditions, or in addition to target data. You can also use external data if you have purchased the Federated Data Access option.","For more on this, refer to Creating subsets using the Split activity."]},{"section":"Segment data","sectionId":"a018ba6a-79ce-4a79-8029-4f32028693fe","paragraphs":[]},{"section":"Combine several targets (Union)","sectionId":"d58b10a4-6054-4695-b95b-85e9953eb40b","paragraphs":["The union activity lets you combine the result of several activities within one transition. Sets do not necessarily have to be homogeneous.","The following data reconciliation options are available:","Keys only","This option can be used if input populations are homogeneous.","All columns in common","This option lets you reconcile data based on all the columns common to the target's various populations.","Adobe Campaign identifies columns based on their name. A tolerance threshold is accepted: for example, an 'Email' column can be recognized as identical to an '@email' column.","A selection of columns","Select this option to define the list of columns which data reconciliation will be applied to.","Start by selecting the main set (the one which contains the source data), then the columns to be used for the join.","CAUTION","During data reconciliation, populations are not deduplicated.","You can restrict the population size to a given number of records. To do this, click the appropriate option and specify the number of records to be kept.","Also, specify the priority of inbound populations: the lower section of the window lists the inbound transitions of the union activity and lets you sort them using the blue arrows to the right of the window.","The records will be taken first from the population of the first inbound transition in the list, then, if the maximum hasn't been reached, they will be taken from the population of the second inbound transition, etc."]},{"section":"Extract joint data (Intersection)","sectionId":"a843b01b-cc46-4dd5-a5c3-a41cd85879f7","paragraphs":["The intersection lets you recover only the lines shared by the populations of inbound transitions. This activity shall be configured like the union activity.","Furthermore, it is possible to keep only a selection of columns, or only the columns shared by the inbound population.","The intersection activity is detailed in the Intersection section."]},{"section":"Exclude a population (Exclusion)","sectionId":"527be387-31d2-4d45-89dd-7748225dda90","paragraphs":["The exclusion activity lets you exclude the elements of a target from a different target population. The output targeting dimension of this activity will be that of the main set.","When necessary, it is possible to manipulate inbound tables. Indeed, to exclude a target from another dimension, this target has to be returned to the same targeting dimension as the main target. To do this click the Add button and specify the dimension change conditions.","Data reconciliation is carried out either via an identifier, changing axis, or a join. An example is available in Using data from a list: Read list."]},{"section":"Create subsets using the Split activity","sectionId":"09727c6d-5562-4444-a44b-193ad5b0c1cc","paragraphs":["The Split activity is a standard activity which lets you create as many sets as necessary via one or several filtering dimensions, as well as generating either one output transition per subset or a unique transition.","The additional data conveyed by the inbound transition can be used in the filtering criteria.","To configure it, you first need to select criteria:","In your workflow, drag and drop a Split activity.","In the General tab, select the desired option: Use data from the target and additional data, Use the additional data only or Use external data.","If the Use data from the target and additional data option is selected, the targeting dimension lets you use all the data conveyed by the inbound transition.","When subsets are created, the aforementioned filtering parameters are used.","To define filtering conditions, choose the Add a filtering condition on the inbound population option and click the Edit... link. Then specify the filtering conditions for creating this subset.","An example showing how to use filtering conditions in the Split activity to segment the target into different populations is described in this section.","The Label field lets you give the newly created subset a name, which will match the outbound transition.","You can also assign a segment code to the subset to identify it and use it to target its population.","If necessary, you can change the targeting and filtering dimensions individually for each subset you want to create. To do this, edit the subset's filtering condition and check the Use a specific filtering dimension option.","If the Use the additional data only option is selected, only additional data is offered for subset filtering.","If the Federated Data Access option is enabled, the Use external data lets you process data in an external database which is already configured, or create a new connection to a database.","For more on this, depending on your Campaign version, refer to these sections:","Campaign v7 documentation","Campaign v8 documentation","Then, we need to add new subsets:","Click the Add button and define the filtering conditions.","Define the filtering dimension in the General tab of the activity (see above).It applies to all subsets by default.","If necessary, you can change the filtering dimension for each subset individually. This lets you build a set for all Gold card holders, one for all recipients who clicked in the latest newsletter and a third for people aged 18 to 25 who made an in-store purchase within the last 30 days, all using the same split activity. To do this, select the Use a specific filtering dimension option and select the data filtering context.","NOTE","If you have acquired the Federated Data Access option, you can create subsets based on the information in an external base. To do this, select the schema of the external table in the Targeting dimension field. For more on this, refer to Accessing an external database (FDA).","Once subsets have been created, by default the split activity shows as many output transitions as there are subsets:","You can group all these subsets into a single output transition. In this case, the link to the respective subsets will be visible in the segment code, for example. To do this, select the Generate all subsets in the same table option.","For example, you can place a single delivery activity and personalize the delivery content based on the segment code of each recipient set:","Subsets can also be created using the Cells activity. For more on this, refer to the Cells section."]},{"section":"Use targeted data","sectionId":"31710819-4cfc-47de-8760-e99cc2dda91b","paragraphs":["Once the data has been identified and prepared, it can be used in the following contexts:","You can update the data in the database following data manipulation in the various workflow stages.","For more on this, Update data.","You can also refresh the content of existing lists.","For more on this, refer to List update.","You can prepare or start deliveries in the workflow directly.","For more on this, refer to Delivery, Delivery control and Continuous delivery."]},{"section":"Data Management","sectionId":"07842b0b-0177-48ec-8887-817158cf5149","paragraphs":["In Adobe Campaign, the Data Management combines a set of activities for solving complex targeting issues by offering more efficient and flexible tools. This lets you implement consistent management of all communications with a contact using information related to their contracts, subscriptions, reactivity to deliveries, etc. Data Management lets you track the data life cycle during segmentation operations, in particular:","Simplifying and optimizing targeting processes, by including data that is not modeled in the datamart (creating new tables: local extension to each targeting workflow depending on configuration).\nKeeping and conveying buffer calculations, especially during target construction phases or for database administration.\nAccessing external bases (optional): heterogeneous databases taken into account during the targeting process.","In order to implement these operations, Adobe Campaign offers:","Data collection activities: File transfer, Data loading (file), Data loading (RDBMS), Update data. This first step of collecting data prepares the data to allow it to be processed in other activities. Several parameters need to be monitored in order to ensure that the workflow executes correctly and gives the expected results. For example, when you import data, the primary key (Pkey) for this data must be unique for each record.\nTargeting activities having been enriched with Data Management options: Query, Union, Intersection, Split. This lets you configure a union or an intersection between data from several different targeting dimensions, as long as data reconciliation is possible.\nData transformation activities: Enrichment, Change dimension.","CAUTION","When two workflows are linked, deleting a source table element does not mean that all the data linked to it is deleted.","For example, deleting a recipient via a workflow will not result in all of the recipient's delivery history being deleted. However, deleting a recipient directly in the 'Recipients' folder will indeed result in all data linked with this recipient being deleted."]},{"section":"Enrich and modify data","sectionId":"6a2c5a18-439d-4a78-a5f6-3eb9adc84124","paragraphs":["In addition to the targeting dimension, the filtering dimension lets you specify the nature of the collected data. Refer to Targeting and filtering dimensions.","The identified and collected data can be enriched, aggregated and manipulated to optimize target construction. To do this, in addition to the data manipulation activities detailed in the Segmenting data section, use the following:","The Enrichment activity lets you momentarily add columns to a schema, as well as add information to certain elements. It is detailed in the Enrichment section of the repository of activities.\nThe Edit schema activity lets you modify the structure of a schema. It is detailed in the Edit schema section of the repository of activities.\nThe Change dimension activity lets you change the targeting dimension during the target construction cycle. It is detailed in the Change dimension section."]}]}