{"guid":"5005dc7f-109d-4c48-9fa8-14c116633e8f","title":"Configure access to Synapse","path":"help\\installation\\using\\configure-fda-synapse.md","fullText":"---\nproduct: campaign\ntitle: Configure access to Synapse\ndescription: Learn how to configure access to Synapse in FDA\nfeature: Installation, Federated Data Access\naudience: platform\ncontent-type: reference\ntopic-tags: connectors\nexl-id: 59d0277a-7588-4504-94e3-50f87b60da8a\n---\n# Configure access to Azure Synapse {#configure-access-to-azure-synapse}\n\n\n\nUse Campaign [Federated Data Access](../../installation/using/about-fda.md) (FDA) option to process information stored in an external databases. Follow the steps below to configure access to **Microsoft Azure Synapse Analytics**.\n\n1. Configure Azure Synapse on [CentOS](#azure-centos), [Windows](#azure-windows) or [Debian](#azure-debian)\n1. Configure the Azure Synapse [external account](#azure-external) in Campaign\n\n## Azure Synapse on CentOS {#azure-centos}\n\n>[!CAUTION]\n>\n>* You will need root privileges to install an ODBC driver.\n>* Red Hat Enterprise ODBC drivers provided by Microsoft can also be used with CentOS to connect to SQL Server.\n>* Version 13.0 will work with Red Hat 6 and 7.\n\nTo configure Azure Synapse on CentOS, follow the steps below:\n\n1. First, install the ODBC Driver. You can find it in this [page](https://www.microsoft.com/en-us/download/details.aspx?id=50420).\n\n    >[!NOTE]\n    >\n    >This is exclusive to version 13 of the ODBC Driver.\n\n    ```\n    sudo su\n    curl https://packages.microsoft.com/config/rhel/6/prod.repo > /etc/yum.repos.d/mssql-release.repo\n    exit\n    # Uninstall if already installed Unix ODBC driver\n    sudo yum remove unixODBC-utf16 unixODBC-utf16-devel #to avoid conflicts\n\n    sudo ACCEPT_EULA=Y yum install msodbcsql\n  \n    sudo ACCEPT_EULA=Y yum install mssql-tools\n    echo 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bash_profile\n    echo 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bashrc\n    source ~/.bashrc\n  \n    # the Microsoft driver expects unixODBC to be here /usr/lib64/libodbc.so.1, so add soft links to the '.so.2' files\n    cd /usr/lib64\n    sudo ln -s libodbccr.so.2   libodbccr.so.1\n    sudo ln -s libodbcinst.so.2 libodbcinst.so.1\n    sudo ln -s libodbc.so.2     libodbc.so.1\n  \n    # Set the path for unixODBC\n    export ODBCINI=/usr/local/etc/odbc.ini\n    export ODBCSYSINI=/usr/local/etc\n    source ~/.bashrc\n  \n    #Add a DSN information to /etc/odbc.ini\n    sudo vi /etc/odbc.ini\n  \n    #Add the following:\n    [Azure Synapse Analytics]\n    Driver      = ODBC Driver 13 for SQL Server\n    Description = Azure Synapse Analytics DSN\n    Trace       = No\n    Server      = [insert your server here]\n    ```\n\n1. If needed, you can install unixODBC development headers by running the following command:\n\n    ```\n    sudo yum install unixODBC-devel\n    ```\n\n1. After installing the drivers, you can test and verify your ODBC Driver and query your database if needed. Run the following command:\n\n    ```\n    /opt/mssql-tools/bin/sqlcmd -S yourServer -U yourUserName -P yourPassword -q \"your query\" # for example -q \"select 1\"\n    ```\n\n1. In Campaign, you can then configure your [!DNL Azure Synapse] external account. For more on how to configure your external account, refer to [this section](#azure-external).\n\n1. Since Azure Synapse Analytics communicates through the TCP 1433 port, you need to open up this port on your firewall. Use the following command:\n\n    ```\n    firewall-cmd --permanent --add-rich-rule='rule family=\"ipv4\" source address=\"[server_ip_here]/32\" port port=\"1433\" protocol=\"tcp\" accept'\n    # you can ping your hostname and the ping command will translate the hostname to IP address which you can use here\n    ```\n\n   >[!NOTE]\n   >\n   >To allow communication from Azure Synapse Analytics' side you might need to add your public IP to the allowlist. To do so, refer to [Azure documentation](https://docs.microsoft.com/en-us/azure/sql-database/sql-database-firewall-configure#use-the-azure-portal-to-manage-server-level-ip-firewall-rules).\n\n1. In case of iptables, run the following command:\n\n    ```\n    iptables -A OUTPUT -p tcp -d [server_hostname_here] --dport 1433 -j ACCEPT\n    ```\n\n## Azure Synapse on Windows {#azure-windows}\n\n   >[!NOTE]\n   >\n   >This is exclusive to version 13 of the ODBC Driver but Adobe Campaign Classic can also use SQL Server Native Client drivers 11.0 and 10.0.\n\nTo configure Azure Synapse on Windows:\n\n1. First, install the Microsoft ODBC driver. You can find it in [this page](https://www.microsoft.com/en-us/download/details.aspx?id=50420).\n\n1. Choose the following files to install:\n\n    ```\n    your_language\\your_architecture\\msodbcsql.msi (i.e: English\\X64\\msodbcsql.msi)\n    ```\n\n1. Once your ODBC driver is installed, you can test it if needed. For more on this, refer to this [page](https://docs.microsoft.com/en-us/sql/connect/odbc/windows/system-requirements-installation-and-driver-files?view=sql-server-ver15#installing-microsoft-odbc-driver-for-sql-server).\n\n1. In Campaign Classic, you can then configure your [!DNL Azure Synapse] external account. For more on how to configure your external account, refer to [this section](#azure-external).\n\n1. Since Azure Synapse Analytics communicates through the TCP 1433 port, you need to open up this port on the Windows Defender Firewall. For more on this, refer to [Windows documentation](https://docs.microsoft.com/en-us/windows/security/threat-protection/windows-firewall/create-an-outbound-program-or-service-rule).\n\n## Azure Synapse on Debian {#azure-debian}\n\n**Prerequisites:**\n\n* You will need root privileges to install a ODBC driver.\n* Curl is needed to install the msodbcsql package. If you don't have it installed, run the following command:\n  \n    ```\n    sudo apt-get install curl\n    ```\n\nTo configure Azure Synapse on Debian:\n\n1. First, install the Microsoft ODBC driver for SQL Server. Use the following commands to install the ODBC Driver 13.1 for SQL Server:\n\n    ```\n    sudo su\n    curl https://packages.microsoft.com/keys/microsoft.asc | apt-key add -\n    curl https://packages.microsoft.com/config/debian/8/prod.list > /etc/apt/sources.list.d/mssql-release.list\n    exit\n    sudo apt-get update\n    sudo ACCEPT_EULA=Y apt-get install msodbcsql\n    ```\n\n1. If you get the following an error **\"The method driver /usr/lib/apt/methods/https could not be found\"** when calling **sudo apt-get update**, you should run the command:\n\n   ```\n   sudo apt-get install apt-transport-https ca-certificates\n   ```\n\n1. You now need to install mssql-tools with the following commands. Mssq-tools are needed to use the bulk copy program (or BCP) utility and to run queries.\n\n    ```\n    sudo ACCEPT_EULA=Y apt-get install mssql-tools\n    echo 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bash_profile\n    echo 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bashrc\n    source ~/.bashrc\n    ```\n\n1. If needed, you can install unixODBC development headers by running the following command:\n\n    ```\n    sudo yum install unixODBC-devel\n    ```\n\n1. After installing the drivers, you can test and verify your ODBC Driver and query your database if needed. Run the following command:\n\n    ```\n    /opt/mssql-tools/bin/sqlcmd -S yourServer -U yourUserName -P yourPassword -q \"your query\" # for example -q \"select 1\"\n    ```\n\n1. In Campaign Classic, you can now configure your [!DNL Azure Synapse] external account. For more on how to configure your external account, refer to [this section](#azure-external).\n\n1. To configure iptables on Debian to ensure the connection with Azure Synapse Analytics, enable the outbound TCP 1433 port for your hostname with the following command:\n\n    ```\n    iptables -A OUTPUT -p tcp -d [server_hostname_here] --dport 1433 -j ACCEPT\n    ```\n\n   >[!NOTE]\n   >\n   >To allow communication from Azure Synapse Analytics' side you might need to add your public IP to the allowlist. To do so, refer to [Azure documentation](https://docs.microsoft.com/en-us/azure/sql-database/sql-database-firewall-configure#use-the-azure-portal-to-manage-server-level-ip-firewall-rules).\n\n## Azure Synapse external account {#azure-external}\n\nThe [!DNL Azure Synapse] external account allows you to connect your Campaign instance to your Azure Synapse external database.\n\nTo create your [!DNL Azure Synapse] external account follow the steps below:\n\n1. From Campaign **[!UICONTROL Explorer]**, click **[!UICONTROL Administration]** '>' **[!UICONTROL Platform]** '>' **[!UICONTROL External accounts]**.\n\n1. Click **[!UICONTROL New]**.\n\n1. Select **[!UICONTROL External database]** as your external account's **[!UICONTROL Type]**.\n\n    ![](assets/azure_1.png)\n\n1. Under **[!UICONTROL Configuration]**, select **[!UICONTROL Azure Synapse Analytics]** from the **[!UICONTROL Type]** drop-down.\n\n    ![](assets/azure_2.png)\n\n1. Configure the [!DNL Azure Synapse] external account:\n\n    * For standard authentication, you must specify:\n\n        * **[!UICONTROL Server]**: URL of the Azure Synapse server\n\n        * **[!UICONTROL Account]**: Name of the user\n\n        * **[!UICONTROL Password]**: User account password\n\n        * **[!UICONTROL Database]**: Name of the database\n\n        ![](assets/azure_3.png)\n\n    * For System-assigned managed identity authentication, you must specify:\n\n        * **[!UICONTROL Server]**: URL of the Azure Synapse server\n\n        * **[!UICONTROL Database]**: Name of the database\n\n        * **[!UICONTROL Options]**: Add the following syntax `Authentication=ActiveDirectoryMsi`\n\n        ![](assets/azure_4.png)\n\n1. Click **[!UICONTROL Save]**.\n\nThe connector supports the following options:\n\n| Option   |  Description |\n|---|---|\n|  Authentication | Type of authentication supported by the connector. Current supported value: ActiveDirectoryMSI. </br>For more information, refer to [SQL doc](https://docs.microsoft.com/en-us/sql/connect/odbc/using-azure-active-directory?view=sql-server-ver15#example-connection-strings) (Example connection strings n°8). |\n","headers":[["title","Configure access to Synapse"],["description","Learn how to configure access to Synapse in FDA"],["feature","Installation, Federated Data Access"],["topic-tags","connectors"]],"sections":[{"section":"Configure access to Azure Synapse","sectionId":"46f46704-da5d-4ad7-8496-f45a259f4330","paragraphs":["Use Campaign Federated Data Access (FDA) option to process information stored in an external databases. Follow the steps below to configure access to Microsoft Azure Synapse Analytics.","Configure Azure Synapse on CentOS, Windows or Debian\nConfigure the Azure Synapse external account in Campaign"]},{"section":"Azure Synapse on CentOS","sectionId":"aa7e6e05-270b-40f2-b1aa-27ebb4713dfa","paragraphs":["CAUTION","You will need root privileges to install an ODBC driver.\nRed Hat Enterprise ODBC drivers provided by Microsoft can also be used with CentOS to connect to SQL Server.\nVersion 13.0 will work with Red Hat 6 and 7.","To configure Azure Synapse on CentOS, follow the steps below:","First, install the ODBC Driver. You can find it in this page.","NOTE","This is exclusive to version 13 of the ODBC Driver.","sudo su\ncurl https://packages.microsoft.com/config/rhel/6/prod.repo > /etc/yum.repos.d/mssql-release.repo\nexit\n# Uninstall if already installed Unix ODBC driver\nsudo yum remove unixODBC-utf16 unixODBC-utf16-devel #to avoid conflicts","sudo ACCEPT_EULA=Y yum install msodbcsql","sudo ACCEPT_EULA=Y yum install mssql-tools\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bash_profile\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bashrc\nsource ~/.bashrc","# the Microsoft driver expects unixODBC to be here /usr/lib64/libodbc.so.1, so add soft links to the '.so.2' files\ncd /usr/lib64\nsudo ln -s libodbccr.so.2   libodbccr.so.1\nsudo ln -s libodbcinst.so.2 libodbcinst.so.1\nsudo ln -s libodbc.so.2     libodbc.so.1","# Set the path for unixODBC\nexport ODBCINI=/usr/local/etc/odbc.ini\nexport ODBCSYSINI=/usr/local/etc\nsource ~/.bashrc","#Add a DSN information to /etc/odbc.ini\nsudo vi /etc/odbc.ini","#Add the following:\n[Azure Synapse Analytics]\nDriver      = ODBC Driver 13 for SQL Server\nDescription = Azure Synapse Analytics DSN\nTrace       = No\nServer      = [insert your server here]","If needed, you can install unixODBC development headers by running the following command:","sudo yum install unixODBC-devel","After installing the drivers, you can test and verify your ODBC Driver and query your database if needed. Run the following command:","/opt/mssql-tools/bin/sqlcmd -S yourServer -U yourUserName -P yourPassword -q \"your query\" # for example -q \"select 1\"","In Campaign, you can then configure your DNL Azure Synapse external account. For more on how to configure your external account, refer to this section.","Since Azure Synapse Analytics communicates through the TCP 1433 port, you need to open up this port on your firewall. Use the following command:","firewall-cmd --permanent --add-rich-rule='rule family=\"ipv4\" source address=\"[server_ip_here]/32\" port port=\"1433\" protocol=\"tcp\" accept'\n# you can ping your hostname and the ping command will translate the hostname to IP address which you can use here","NOTE","To allow communication from Azure Synapse Analytics' side you might need to add your public IP to the allowlist. To do so, refer to Azure documentation.","In case of iptables, run the following command:","iptables -A OUTPUT -p tcp -d [server_hostname_here] --dport 1433 -j ACCEPT","Azure Synapse on Windows","NOTE","This is exclusive to version 13 of the ODBC Driver but Adobe Campaign Classic can also use SQL Server Native Client drivers 11.0 and 10.0.","To configure Azure Synapse on Windows:","First, install the Microsoft ODBC driver. You can find it in this page.","Choose the following files to install:","your_language\\your_architecture\\msodbcsql.msi (i.e: English\\X64\\msodbcsql.msi)","Once your ODBC driver is installed, you can test it if needed. For more on this, refer to this page.","In Campaign Classic, you can then configure your DNL Azure Synapse external account. For more on how to configure your external account, refer to this section.","Since Azure Synapse Analytics communicates through the TCP 1433 port, you need to open up this port on the Windows Defender Firewall. For more on this, refer to Windows documentation.","Azure Synapse on Debian","Prerequisites:","You will need root privileges to install a ODBC driver.","Curl is needed to install the msodbcsql package. If you don't have it installed, run the following command:","sudo apt-get install curl","To configure Azure Synapse on Debian:","First, install the Microsoft ODBC driver for SQL Server. Use the following commands to install the ODBC Driver 13.1 for SQL Server:","sudo su\ncurl https://packages.microsoft.com/keys/microsoft.asc | apt-key add -\ncurl https://packages.microsoft.com/config/debian/8/prod.list > /etc/apt/sources.list.d/mssql-release.list\nexit\nsudo apt-get update\nsudo ACCEPT_EULA=Y apt-get install msodbcsql","If you get the following an error \"The method driver /usr/lib/apt/methods/https could not be found\" when calling sudo apt-get update, you should run the command:","sudo apt-get install apt-transport-https ca-certificates","You now need to install mssql-tools with the following commands. Mssq-tools are needed to use the bulk copy program (or BCP) utility and to run queries.","sudo ACCEPT_EULA=Y apt-get install mssql-tools\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bash_profile\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bashrc\nsource ~/.bashrc","If needed, you can install unixODBC development headers by running the following command:","sudo yum install unixODBC-devel","After installing the drivers, you can test and verify your ODBC Driver and query your database if needed. Run the following command:","/opt/mssql-tools/bin/sqlcmd -S yourServer -U yourUserName -P yourPassword -q \"your query\" # for example -q \"select 1\"","In Campaign Classic, you can now configure your DNL Azure Synapse external account. For more on how to configure your external account, refer to this section.","To configure iptables on Debian to ensure the connection with Azure Synapse Analytics, enable the outbound TCP 1433 port for your hostname with the following command:","iptables -A OUTPUT -p tcp -d [server_hostname_here] --dport 1433 -j ACCEPT","NOTE","To allow communication from Azure Synapse Analytics' side you might need to add your public IP to the allowlist. To do so, refer to Azure documentation.","Azure Synapse external account","The DNL Azure Synapse external account allows you to connect your Campaign instance to your Azure Synapse external database.","To create your DNL Azure Synapse external account follow the steps below:","From Campaign Explorer, click Administration '>' Platform '>' External accounts.","Click New.","Select External database as your external account's Type.","","Under Configuration, select Azure Synapse Analytics from the Type drop-down.","","Configure the DNL Azure Synapse external account:","For standard authentication, you must specify:","Server: URL of the Azure Synapse server","Account: Name of the user","Password: User account password","Database: Name of the database","","For System-assigned managed identity authentication, you must specify:","Server: URL of the Azure Synapse server","Database: Name of the database","Options: Add the following syntax Authentication=ActiveDirectoryMsi","Click Save.","The connector supports the following options:"]},{"section":"Uninstall if already installed Unix ODBC driver","sectionId":"1922a6d9-7b93-42bc-bc99-9648b9aca1dd","paragraphs":["Configure access to Azure Synapse","Use Campaign Federated Data Access (FDA) option to process information stored in an external databases. Follow the steps below to configure access to Microsoft Azure Synapse Analytics.","Configure Azure Synapse on CentOS, Windows or Debian\nConfigure the Azure Synapse external account in Campaign","Azure Synapse on CentOS","CAUTION","You will need root privileges to install an ODBC driver.\nRed Hat Enterprise ODBC drivers provided by Microsoft can also be used with CentOS to connect to SQL Server.\nVersion 13.0 will work with Red Hat 6 and 7.","To configure Azure Synapse on CentOS, follow the steps below:","First, install the ODBC Driver. You can find it in this page.","NOTE","This is exclusive to version 13 of the ODBC Driver.","sudo su\ncurl https://packages.microsoft.com/config/rhel/6/prod.repo > /etc/yum.repos.d/mssql-release.repo\nexit\n# Uninstall if already installed Unix ODBC driver\nsudo yum remove unixODBC-utf16 unixODBC-utf16-devel #to avoid conflicts","sudo ACCEPT_EULA=Y yum install msodbcsql","sudo ACCEPT_EULA=Y yum install mssql-tools\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bash_profile\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bashrc\nsource ~/.bashrc","# the Microsoft driver expects unixODBC to be here /usr/lib64/libodbc.so.1, so add soft links to the '.so.2' files\ncd /usr/lib64\nsudo ln -s libodbccr.so.2   libodbccr.so.1\nsudo ln -s libodbcinst.so.2 libodbcinst.so.1\nsudo ln -s libodbc.so.2     libodbc.so.1","# Set the path for unixODBC\nexport ODBCINI=/usr/local/etc/odbc.ini\nexport ODBCSYSINI=/usr/local/etc\nsource ~/.bashrc","#Add a DSN information to /etc/odbc.ini\nsudo vi /etc/odbc.ini","#Add the following:\n[Azure Synapse Analytics]\nDriver      = ODBC Driver 13 for SQL Server\nDescription = Azure Synapse Analytics DSN\nTrace       = No\nServer      = [insert your server here]","If needed, you can install unixODBC development headers by running the following command:","sudo yum install unixODBC-devel","After installing the drivers, you can test and verify your ODBC Driver and query your database if needed. Run the following command:","/opt/mssql-tools/bin/sqlcmd -S yourServer -U yourUserName -P yourPassword -q \"your query\" # for example -q \"select 1\"","In Campaign, you can then configure your DNL Azure Synapse external account. For more on how to configure your external account, refer to this section.","Since Azure Synapse Analytics communicates through the TCP 1433 port, you need to open up this port on your firewall. Use the following command:","firewall-cmd --permanent --add-rich-rule='rule family=\"ipv4\" source address=\"[server_ip_here]/32\" port port=\"1433\" protocol=\"tcp\" accept'\n# you can ping your hostname and the ping command will translate the hostname to IP address which you can use here","NOTE","To allow communication from Azure Synapse Analytics' side you might need to add your public IP to the allowlist. To do so, refer to Azure documentation.","In case of iptables, run the following command:","iptables -A OUTPUT -p tcp -d [server_hostname_here] --dport 1433 -j ACCEPT","Azure Synapse on Windows","NOTE","This is exclusive to version 13 of the ODBC Driver but Adobe Campaign Classic can also use SQL Server Native Client drivers 11.0 and 10.0.","To configure Azure Synapse on Windows:","First, install the Microsoft ODBC driver. You can find it in this page.","Choose the following files to install:","your_language\\your_architecture\\msodbcsql.msi (i.e: English\\X64\\msodbcsql.msi)","Once your ODBC driver is installed, you can test it if needed. For more on this, refer to this page.","In Campaign Classic, you can then configure your DNL Azure Synapse external account. For more on how to configure your external account, refer to this section.","Since Azure Synapse Analytics communicates through the TCP 1433 port, you need to open up this port on the Windows Defender Firewall. For more on this, refer to Windows documentation.","Azure Synapse on Debian","Prerequisites:","You will need root privileges to install a ODBC driver.","Curl is needed to install the msodbcsql package. If you don't have it installed, run the following command:","sudo apt-get install curl","To configure Azure Synapse on Debian:","First, install the Microsoft ODBC driver for SQL Server. Use the following commands to install the ODBC Driver 13.1 for SQL Server:","sudo su\ncurl https://packages.microsoft.com/keys/microsoft.asc | apt-key add -\ncurl https://packages.microsoft.com/config/debian/8/prod.list > /etc/apt/sources.list.d/mssql-release.list\nexit\nsudo apt-get update\nsudo ACCEPT_EULA=Y apt-get install msodbcsql","If you get the following an error \"The method driver /usr/lib/apt/methods/https could not be found\" when calling sudo apt-get update, you should run the command:","sudo apt-get install apt-transport-https ca-certificates","You now need to install mssql-tools with the following commands. Mssq-tools are needed to use the bulk copy program (or BCP) utility and to run queries.","sudo ACCEPT_EULA=Y apt-get install mssql-tools\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bash_profile\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bashrc\nsource ~/.bashrc","If needed, you can install unixODBC development headers by running the following command:","sudo yum install unixODBC-devel","After installing the drivers, you can test and verify your ODBC Driver and query your database if needed. Run the following command:","/opt/mssql-tools/bin/sqlcmd -S yourServer -U yourUserName -P yourPassword -q \"your query\" # for example -q \"select 1\"","In Campaign Classic, you can now configure your DNL Azure Synapse external account. For more on how to configure your external account, refer to this section.","To configure iptables on Debian to ensure the connection with Azure Synapse Analytics, enable the outbound TCP 1433 port for your hostname with the following command:","iptables -A OUTPUT -p tcp -d [server_hostname_here] --dport 1433 -j ACCEPT","NOTE","To allow communication from Azure Synapse Analytics' side you might need to add your public IP to the allowlist. To do so, refer to Azure documentation.","Azure Synapse external account","The DNL Azure Synapse external account allows you to connect your Campaign instance to your Azure Synapse external database.","To create your DNL Azure Synapse external account follow the steps below:","From Campaign Explorer, click Administration '>' Platform '>' External accounts.","Click New.","Select External database as your external account's Type.","","Under Configuration, select Azure Synapse Analytics from the Type drop-down.","","Configure the DNL Azure Synapse external account:","For standard authentication, you must specify:","Server: URL of the Azure Synapse server","Account: Name of the user","Password: User account password","Database: Name of the database","","For System-assigned managed identity authentication, you must specify:","Server: URL of the Azure Synapse server","Database: Name of the database","Options: Add the following syntax Authentication=ActiveDirectoryMsi","Click Save.","The connector supports the following options:"]},{"section":"the Microsoft driver expects unixODBC to be here /usr/lib64/libodbc.so.1, so add soft links to the '.so.2' files","sectionId":"8755a717-c8ba-4ba5-9399-34dd0196407d","paragraphs":["Configure access to Azure Synapse","Use Campaign Federated Data Access (FDA) option to process information stored in an external databases. Follow the steps below to configure access to Microsoft Azure Synapse Analytics.","Configure Azure Synapse on CentOS, Windows or Debian\nConfigure the Azure Synapse external account in Campaign","Azure Synapse on CentOS","CAUTION","You will need root privileges to install an ODBC driver.\nRed Hat Enterprise ODBC drivers provided by Microsoft can also be used with CentOS to connect to SQL Server.\nVersion 13.0 will work with Red Hat 6 and 7.","To configure Azure Synapse on CentOS, follow the steps below:","First, install the ODBC Driver. You can find it in this page.","NOTE","This is exclusive to version 13 of the ODBC Driver.","sudo su\ncurl https://packages.microsoft.com/config/rhel/6/prod.repo > /etc/yum.repos.d/mssql-release.repo\nexit\n# Uninstall if already installed Unix ODBC driver\nsudo yum remove unixODBC-utf16 unixODBC-utf16-devel #to avoid conflicts","sudo ACCEPT_EULA=Y yum install msodbcsql","sudo ACCEPT_EULA=Y yum install mssql-tools\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bash_profile\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bashrc\nsource ~/.bashrc","# the Microsoft driver expects unixODBC to be here /usr/lib64/libodbc.so.1, so add soft links to the '.so.2' files\ncd /usr/lib64\nsudo ln -s libodbccr.so.2   libodbccr.so.1\nsudo ln -s libodbcinst.so.2 libodbcinst.so.1\nsudo ln -s libodbc.so.2     libodbc.so.1","# Set the path for unixODBC\nexport ODBCINI=/usr/local/etc/odbc.ini\nexport ODBCSYSINI=/usr/local/etc\nsource ~/.bashrc","#Add a DSN information to /etc/odbc.ini\nsudo vi /etc/odbc.ini","#Add the following:\n[Azure Synapse Analytics]\nDriver      = ODBC Driver 13 for SQL Server\nDescription = Azure Synapse Analytics DSN\nTrace       = No\nServer      = [insert your server here]","If needed, you can install unixODBC development headers by running the following command:","sudo yum install unixODBC-devel","After installing the drivers, you can test and verify your ODBC Driver and query your database if needed. Run the following command:","/opt/mssql-tools/bin/sqlcmd -S yourServer -U yourUserName -P yourPassword -q \"your query\" # for example -q \"select 1\"","In Campaign, you can then configure your DNL Azure Synapse external account. For more on how to configure your external account, refer to this section.","Since Azure Synapse Analytics communicates through the TCP 1433 port, you need to open up this port on your firewall. Use the following command:","firewall-cmd --permanent --add-rich-rule='rule family=\"ipv4\" source address=\"[server_ip_here]/32\" port port=\"1433\" protocol=\"tcp\" accept'\n# you can ping your hostname and the ping command will translate the hostname to IP address which you can use here","NOTE","To allow communication from Azure Synapse Analytics' side you might need to add your public IP to the allowlist. To do so, refer to Azure documentation.","In case of iptables, run the following command:","iptables -A OUTPUT -p tcp -d [server_hostname_here] --dport 1433 -j ACCEPT","Azure Synapse on Windows","NOTE","This is exclusive to version 13 of the ODBC Driver but Adobe Campaign Classic can also use SQL Server Native Client drivers 11.0 and 10.0.","To configure Azure Synapse on Windows:","First, install the Microsoft ODBC driver. You can find it in this page.","Choose the following files to install:","your_language\\your_architecture\\msodbcsql.msi (i.e: English\\X64\\msodbcsql.msi)","Once your ODBC driver is installed, you can test it if needed. For more on this, refer to this page.","In Campaign Classic, you can then configure your DNL Azure Synapse external account. For more on how to configure your external account, refer to this section.","Since Azure Synapse Analytics communicates through the TCP 1433 port, you need to open up this port on the Windows Defender Firewall. For more on this, refer to Windows documentation.","Azure Synapse on Debian","Prerequisites:","You will need root privileges to install a ODBC driver.","Curl is needed to install the msodbcsql package. If you don't have it installed, run the following command:","sudo apt-get install curl","To configure Azure Synapse on Debian:","First, install the Microsoft ODBC driver for SQL Server. Use the following commands to install the ODBC Driver 13.1 for SQL Server:","sudo su\ncurl https://packages.microsoft.com/keys/microsoft.asc | apt-key add -\ncurl https://packages.microsoft.com/config/debian/8/prod.list > /etc/apt/sources.list.d/mssql-release.list\nexit\nsudo apt-get update\nsudo ACCEPT_EULA=Y apt-get install msodbcsql","If you get the following an error \"The method driver /usr/lib/apt/methods/https could not be found\" when calling sudo apt-get update, you should run the command:","sudo apt-get install apt-transport-https ca-certificates","You now need to install mssql-tools with the following commands. Mssq-tools are needed to use the bulk copy program (or BCP) utility and to run queries.","sudo ACCEPT_EULA=Y apt-get install mssql-tools\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bash_profile\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bashrc\nsource ~/.bashrc","If needed, you can install unixODBC development headers by running the following command:","sudo yum install unixODBC-devel","After installing the drivers, you can test and verify your ODBC Driver and query your database if needed. Run the following command:","/opt/mssql-tools/bin/sqlcmd -S yourServer -U yourUserName -P yourPassword -q \"your query\" # for example -q \"select 1\"","In Campaign Classic, you can now configure your DNL Azure Synapse external account. For more on how to configure your external account, refer to this section.","To configure iptables on Debian to ensure the connection with Azure Synapse Analytics, enable the outbound TCP 1433 port for your hostname with the following command:","iptables -A OUTPUT -p tcp -d [server_hostname_here] --dport 1433 -j ACCEPT","NOTE","To allow communication from Azure Synapse Analytics' side you might need to add your public IP to the allowlist. To do so, refer to Azure documentation.","Azure Synapse external account","The DNL Azure Synapse external account allows you to connect your Campaign instance to your Azure Synapse external database.","To create your DNL Azure Synapse external account follow the steps below:","From Campaign Explorer, click Administration '>' Platform '>' External accounts.","Click New.","Select External database as your external account's Type.","","Under Configuration, select Azure Synapse Analytics from the Type drop-down.","","Configure the DNL Azure Synapse external account:","For standard authentication, you must specify:","Server: URL of the Azure Synapse server","Account: Name of the user","Password: User account password","Database: Name of the database","","For System-assigned managed identity authentication, you must specify:","Server: URL of the Azure Synapse server","Database: Name of the database","Options: Add the following syntax Authentication=ActiveDirectoryMsi","Click Save.","The connector supports the following options:"]},{"section":"Set the path for unixODBC","sectionId":"e2aad2e5-a2b6-4af9-8194-aecdec222ef7","paragraphs":["Configure access to Azure Synapse","Use Campaign Federated Data Access (FDA) option to process information stored in an external databases. Follow the steps below to configure access to Microsoft Azure Synapse Analytics.","Configure Azure Synapse on CentOS, Windows or Debian\nConfigure the Azure Synapse external account in Campaign","Azure Synapse on CentOS","CAUTION","You will need root privileges to install an ODBC driver.\nRed Hat Enterprise ODBC drivers provided by Microsoft can also be used with CentOS to connect to SQL Server.\nVersion 13.0 will work with Red Hat 6 and 7.","To configure Azure Synapse on CentOS, follow the steps below:","First, install the ODBC Driver. You can find it in this page.","NOTE","This is exclusive to version 13 of the ODBC Driver.","sudo su\ncurl https://packages.microsoft.com/config/rhel/6/prod.repo > /etc/yum.repos.d/mssql-release.repo\nexit\n# Uninstall if already installed Unix ODBC driver\nsudo yum remove unixODBC-utf16 unixODBC-utf16-devel #to avoid conflicts","sudo ACCEPT_EULA=Y yum install msodbcsql","sudo ACCEPT_EULA=Y yum install mssql-tools\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bash_profile\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bashrc\nsource ~/.bashrc","# the Microsoft driver expects unixODBC to be here /usr/lib64/libodbc.so.1, so add soft links to the '.so.2' files\ncd /usr/lib64\nsudo ln -s libodbccr.so.2   libodbccr.so.1\nsudo ln -s libodbcinst.so.2 libodbcinst.so.1\nsudo ln -s libodbc.so.2     libodbc.so.1","# Set the path for unixODBC\nexport ODBCINI=/usr/local/etc/odbc.ini\nexport ODBCSYSINI=/usr/local/etc\nsource ~/.bashrc","#Add a DSN information to /etc/odbc.ini\nsudo vi /etc/odbc.ini","#Add the following:\n[Azure Synapse Analytics]\nDriver      = ODBC Driver 13 for SQL Server\nDescription = Azure Synapse Analytics DSN\nTrace       = No\nServer      = [insert your server here]","If needed, you can install unixODBC development headers by running the following command:","sudo yum install unixODBC-devel","After installing the drivers, you can test and verify your ODBC Driver and query your database if needed. Run the following command:","/opt/mssql-tools/bin/sqlcmd -S yourServer -U yourUserName -P yourPassword -q \"your query\" # for example -q \"select 1\"","In Campaign, you can then configure your DNL Azure Synapse external account. For more on how to configure your external account, refer to this section.","Since Azure Synapse Analytics communicates through the TCP 1433 port, you need to open up this port on your firewall. Use the following command:","firewall-cmd --permanent --add-rich-rule='rule family=\"ipv4\" source address=\"[server_ip_here]/32\" port port=\"1433\" protocol=\"tcp\" accept'\n# you can ping your hostname and the ping command will translate the hostname to IP address which you can use here","NOTE","To allow communication from Azure Synapse Analytics' side you might need to add your public IP to the allowlist. To do so, refer to Azure documentation.","In case of iptables, run the following command:","iptables -A OUTPUT -p tcp -d [server_hostname_here] --dport 1433 -j ACCEPT","Azure Synapse on Windows","NOTE","This is exclusive to version 13 of the ODBC Driver but Adobe Campaign Classic can also use SQL Server Native Client drivers 11.0 and 10.0.","To configure Azure Synapse on Windows:","First, install the Microsoft ODBC driver. You can find it in this page.","Choose the following files to install:","your_language\\your_architecture\\msodbcsql.msi (i.e: English\\X64\\msodbcsql.msi)","Once your ODBC driver is installed, you can test it if needed. For more on this, refer to this page.","In Campaign Classic, you can then configure your DNL Azure Synapse external account. For more on how to configure your external account, refer to this section.","Since Azure Synapse Analytics communicates through the TCP 1433 port, you need to open up this port on the Windows Defender Firewall. For more on this, refer to Windows documentation.","Azure Synapse on Debian","Prerequisites:","You will need root privileges to install a ODBC driver.","Curl is needed to install the msodbcsql package. If you don't have it installed, run the following command:","sudo apt-get install curl","To configure Azure Synapse on Debian:","First, install the Microsoft ODBC driver for SQL Server. Use the following commands to install the ODBC Driver 13.1 for SQL Server:","sudo su\ncurl https://packages.microsoft.com/keys/microsoft.asc | apt-key add -\ncurl https://packages.microsoft.com/config/debian/8/prod.list > /etc/apt/sources.list.d/mssql-release.list\nexit\nsudo apt-get update\nsudo ACCEPT_EULA=Y apt-get install msodbcsql","If you get the following an error \"The method driver /usr/lib/apt/methods/https could not be found\" when calling sudo apt-get update, you should run the command:","sudo apt-get install apt-transport-https ca-certificates","You now need to install mssql-tools with the following commands. Mssq-tools are needed to use the bulk copy program (or BCP) utility and to run queries.","sudo ACCEPT_EULA=Y apt-get install mssql-tools\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bash_profile\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bashrc\nsource ~/.bashrc","If needed, you can install unixODBC development headers by running the following command:","sudo yum install unixODBC-devel","After installing the drivers, you can test and verify your ODBC Driver and query your database if needed. Run the following command:","/opt/mssql-tools/bin/sqlcmd -S yourServer -U yourUserName -P yourPassword -q \"your query\" # for example -q \"select 1\"","In Campaign Classic, you can now configure your DNL Azure Synapse external account. For more on how to configure your external account, refer to this section.","To configure iptables on Debian to ensure the connection with Azure Synapse Analytics, enable the outbound TCP 1433 port for your hostname with the following command:","iptables -A OUTPUT -p tcp -d [server_hostname_here] --dport 1433 -j ACCEPT","NOTE","To allow communication from Azure Synapse Analytics' side you might need to add your public IP to the allowlist. To do so, refer to Azure documentation.","Azure Synapse external account","The DNL Azure Synapse external account allows you to connect your Campaign instance to your Azure Synapse external database.","To create your DNL Azure Synapse external account follow the steps below:","From Campaign Explorer, click Administration '>' Platform '>' External accounts.","Click New.","Select External database as your external account's Type.","","Under Configuration, select Azure Synapse Analytics from the Type drop-down.","","Configure the DNL Azure Synapse external account:","For standard authentication, you must specify:","Server: URL of the Azure Synapse server","Account: Name of the user","Password: User account password","Database: Name of the database","","For System-assigned managed identity authentication, you must specify:","Server: URL of the Azure Synapse server","Database: Name of the database","Options: Add the following syntax Authentication=ActiveDirectoryMsi","Click Save.","The connector supports the following options:"]},{"section":"for example -q \"select 1\"","sectionId":"b3e597e0-c2fd-4d74-9ae5-43249f27c73b","paragraphs":["Configure access to Azure Synapse","Use Campaign Federated Data Access (FDA) option to process information stored in an external databases. Follow the steps below to configure access to Microsoft Azure Synapse Analytics.","Configure Azure Synapse on CentOS, Windows or Debian\nConfigure the Azure Synapse external account in Campaign","Azure Synapse on CentOS","CAUTION","You will need root privileges to install an ODBC driver.\nRed Hat Enterprise ODBC drivers provided by Microsoft can also be used with CentOS to connect to SQL Server.\nVersion 13.0 will work with Red Hat 6 and 7.","To configure Azure Synapse on CentOS, follow the steps below:","First, install the ODBC Driver. You can find it in this page.","NOTE","This is exclusive to version 13 of the ODBC Driver.","sudo su\ncurl https://packages.microsoft.com/config/rhel/6/prod.repo > /etc/yum.repos.d/mssql-release.repo\nexit\n# Uninstall if already installed Unix ODBC driver\nsudo yum remove unixODBC-utf16 unixODBC-utf16-devel #to avoid conflicts","sudo ACCEPT_EULA=Y yum install msodbcsql","sudo ACCEPT_EULA=Y yum install mssql-tools\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bash_profile\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bashrc\nsource ~/.bashrc","# the Microsoft driver expects unixODBC to be here /usr/lib64/libodbc.so.1, so add soft links to the '.so.2' files\ncd /usr/lib64\nsudo ln -s libodbccr.so.2   libodbccr.so.1\nsudo ln -s libodbcinst.so.2 libodbcinst.so.1\nsudo ln -s libodbc.so.2     libodbc.so.1","# Set the path for unixODBC\nexport ODBCINI=/usr/local/etc/odbc.ini\nexport ODBCSYSINI=/usr/local/etc\nsource ~/.bashrc","#Add a DSN information to /etc/odbc.ini\nsudo vi /etc/odbc.ini","#Add the following:\n[Azure Synapse Analytics]\nDriver      = ODBC Driver 13 for SQL Server\nDescription = Azure Synapse Analytics DSN\nTrace       = No\nServer      = [insert your server here]","If needed, you can install unixODBC development headers by running the following command:","sudo yum install unixODBC-devel","After installing the drivers, you can test and verify your ODBC Driver and query your database if needed. Run the following command:","/opt/mssql-tools/bin/sqlcmd -S yourServer -U yourUserName -P yourPassword -q \"your query\" # for example -q \"select 1\"","In Campaign, you can then configure your DNL Azure Synapse external account. For more on how to configure your external account, refer to this section.","Since Azure Synapse Analytics communicates through the TCP 1433 port, you need to open up this port on your firewall. Use the following command:","firewall-cmd --permanent --add-rich-rule='rule family=\"ipv4\" source address=\"[server_ip_here]/32\" port port=\"1433\" protocol=\"tcp\" accept'\n# you can ping your hostname and the ping command will translate the hostname to IP address which you can use here","NOTE","To allow communication from Azure Synapse Analytics' side you might need to add your public IP to the allowlist. To do so, refer to Azure documentation.","In case of iptables, run the following command:","iptables -A OUTPUT -p tcp -d [server_hostname_here] --dport 1433 -j ACCEPT","Azure Synapse on Windows","NOTE","This is exclusive to version 13 of the ODBC Driver but Adobe Campaign Classic can also use SQL Server Native Client drivers 11.0 and 10.0.","To configure Azure Synapse on Windows:","First, install the Microsoft ODBC driver. You can find it in this page.","Choose the following files to install:","your_language\\your_architecture\\msodbcsql.msi (i.e: English\\X64\\msodbcsql.msi)","Once your ODBC driver is installed, you can test it if needed. For more on this, refer to this page.","In Campaign Classic, you can then configure your DNL Azure Synapse external account. For more on how to configure your external account, refer to this section.","Since Azure Synapse Analytics communicates through the TCP 1433 port, you need to open up this port on the Windows Defender Firewall. For more on this, refer to Windows documentation.","Azure Synapse on Debian","Prerequisites:","You will need root privileges to install a ODBC driver.","Curl is needed to install the msodbcsql package. If you don't have it installed, run the following command:","sudo apt-get install curl","To configure Azure Synapse on Debian:","First, install the Microsoft ODBC driver for SQL Server. Use the following commands to install the ODBC Driver 13.1 for SQL Server:","sudo su\ncurl https://packages.microsoft.com/keys/microsoft.asc | apt-key add -\ncurl https://packages.microsoft.com/config/debian/8/prod.list > /etc/apt/sources.list.d/mssql-release.list\nexit\nsudo apt-get update\nsudo ACCEPT_EULA=Y apt-get install msodbcsql","If you get the following an error \"The method driver /usr/lib/apt/methods/https could not be found\" when calling sudo apt-get update, you should run the command:","sudo apt-get install apt-transport-https ca-certificates","You now need to install mssql-tools with the following commands. Mssq-tools are needed to use the bulk copy program (or BCP) utility and to run queries.","sudo ACCEPT_EULA=Y apt-get install mssql-tools\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bash_profile\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bashrc\nsource ~/.bashrc","If needed, you can install unixODBC development headers by running the following command:","sudo yum install unixODBC-devel","After installing the drivers, you can test and verify your ODBC Driver and query your database if needed. Run the following command:","/opt/mssql-tools/bin/sqlcmd -S yourServer -U yourUserName -P yourPassword -q \"your query\" # for example -q \"select 1\"","In Campaign Classic, you can now configure your DNL Azure Synapse external account. For more on how to configure your external account, refer to this section.","To configure iptables on Debian to ensure the connection with Azure Synapse Analytics, enable the outbound TCP 1433 port for your hostname with the following command:","iptables -A OUTPUT -p tcp -d [server_hostname_here] --dport 1433 -j ACCEPT","NOTE","To allow communication from Azure Synapse Analytics' side you might need to add your public IP to the allowlist. To do so, refer to Azure documentation.","Azure Synapse external account","The DNL Azure Synapse external account allows you to connect your Campaign instance to your Azure Synapse external database.","To create your DNL Azure Synapse external account follow the steps below:","From Campaign Explorer, click Administration '>' Platform '>' External accounts.","Click New.","Select External database as your external account's Type.","","Under Configuration, select Azure Synapse Analytics from the Type drop-down.","","Configure the DNL Azure Synapse external account:","For standard authentication, you must specify:","Server: URL of the Azure Synapse server","Account: Name of the user","Password: User account password","Database: Name of the database","","For System-assigned managed identity authentication, you must specify:","Server: URL of the Azure Synapse server","Database: Name of the database","Options: Add the following syntax Authentication=ActiveDirectoryMsi","Click Save.","The connector supports the following options:"]},{"section":"you can ping your hostname and the ping command will translate the hostname to IP address which you can use here","sectionId":"fb5d3c46-694d-499a-ba90-dad664e768d5","paragraphs":["Configure access to Azure Synapse","Use Campaign Federated Data Access (FDA) option to process information stored in an external databases. Follow the steps below to configure access to Microsoft Azure Synapse Analytics.","Configure Azure Synapse on CentOS, Windows or Debian\nConfigure the Azure Synapse external account in Campaign","Azure Synapse on CentOS","CAUTION","You will need root privileges to install an ODBC driver.\nRed Hat Enterprise ODBC drivers provided by Microsoft can also be used with CentOS to connect to SQL Server.\nVersion 13.0 will work with Red Hat 6 and 7.","To configure Azure Synapse on CentOS, follow the steps below:","First, install the ODBC Driver. You can find it in this page.","NOTE","This is exclusive to version 13 of the ODBC Driver.","sudo su\ncurl https://packages.microsoft.com/config/rhel/6/prod.repo > /etc/yum.repos.d/mssql-release.repo\nexit\n# Uninstall if already installed Unix ODBC driver\nsudo yum remove unixODBC-utf16 unixODBC-utf16-devel #to avoid conflicts","sudo ACCEPT_EULA=Y yum install msodbcsql","sudo ACCEPT_EULA=Y yum install mssql-tools\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bash_profile\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bashrc\nsource ~/.bashrc","# the Microsoft driver expects unixODBC to be here /usr/lib64/libodbc.so.1, so add soft links to the '.so.2' files\ncd /usr/lib64\nsudo ln -s libodbccr.so.2   libodbccr.so.1\nsudo ln -s libodbcinst.so.2 libodbcinst.so.1\nsudo ln -s libodbc.so.2     libodbc.so.1","# Set the path for unixODBC\nexport ODBCINI=/usr/local/etc/odbc.ini\nexport ODBCSYSINI=/usr/local/etc\nsource ~/.bashrc","#Add a DSN information to /etc/odbc.ini\nsudo vi /etc/odbc.ini","#Add the following:\n[Azure Synapse Analytics]\nDriver      = ODBC Driver 13 for SQL Server\nDescription = Azure Synapse Analytics DSN\nTrace       = No\nServer      = [insert your server here]","If needed, you can install unixODBC development headers by running the following command:","sudo yum install unixODBC-devel","After installing the drivers, you can test and verify your ODBC Driver and query your database if needed. Run the following command:","/opt/mssql-tools/bin/sqlcmd -S yourServer -U yourUserName -P yourPassword -q \"your query\" # for example -q \"select 1\"","In Campaign, you can then configure your DNL Azure Synapse external account. For more on how to configure your external account, refer to this section.","Since Azure Synapse Analytics communicates through the TCP 1433 port, you need to open up this port on your firewall. Use the following command:","firewall-cmd --permanent --add-rich-rule='rule family=\"ipv4\" source address=\"[server_ip_here]/32\" port port=\"1433\" protocol=\"tcp\" accept'\n# you can ping your hostname and the ping command will translate the hostname to IP address which you can use here","NOTE","To allow communication from Azure Synapse Analytics' side you might need to add your public IP to the allowlist. To do so, refer to Azure documentation.","In case of iptables, run the following command:","iptables -A OUTPUT -p tcp -d [server_hostname_here] --dport 1433 -j ACCEPT"]},{"section":"Azure Synapse on Windows","sectionId":"2bd14c56-b294-4da8-bc66-8640793fc09c","paragraphs":["NOTE","This is exclusive to version 13 of the ODBC Driver but Adobe Campaign Classic can also use SQL Server Native Client drivers 11.0 and 10.0.","To configure Azure Synapse on Windows:","First, install the Microsoft ODBC driver. You can find it in this page.","Choose the following files to install:","your_language\\your_architecture\\msodbcsql.msi (i.e: English\\X64\\msodbcsql.msi)","Once your ODBC driver is installed, you can test it if needed. For more on this, refer to this page.","In Campaign Classic, you can then configure your DNL Azure Synapse external account. For more on how to configure your external account, refer to this section.","Since Azure Synapse Analytics communicates through the TCP 1433 port, you need to open up this port on the Windows Defender Firewall. For more on this, refer to Windows documentation."]},{"section":"Azure Synapse on Debian","sectionId":"430490b1-9d01-4161-953f-f922655093e5","paragraphs":["Prerequisites:","You will need root privileges to install a ODBC driver.","Curl is needed to install the msodbcsql package. If you don't have it installed, run the following command:","sudo apt-get install curl","To configure Azure Synapse on Debian:","First, install the Microsoft ODBC driver for SQL Server. Use the following commands to install the ODBC Driver 13.1 for SQL Server:","sudo su\ncurl https://packages.microsoft.com/keys/microsoft.asc | apt-key add -\ncurl https://packages.microsoft.com/config/debian/8/prod.list > /etc/apt/sources.list.d/mssql-release.list\nexit\nsudo apt-get update\nsudo ACCEPT_EULA=Y apt-get install msodbcsql","If you get the following an error \"The method driver /usr/lib/apt/methods/https could not be found\" when calling sudo apt-get update, you should run the command:","sudo apt-get install apt-transport-https ca-certificates","You now need to install mssql-tools with the following commands. Mssq-tools are needed to use the bulk copy program (or BCP) utility and to run queries.","sudo ACCEPT_EULA=Y apt-get install mssql-tools\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bash_profile\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bashrc\nsource ~/.bashrc","If needed, you can install unixODBC development headers by running the following command:","sudo yum install unixODBC-devel","After installing the drivers, you can test and verify your ODBC Driver and query your database if needed. Run the following command:","/opt/mssql-tools/bin/sqlcmd -S yourServer -U yourUserName -P yourPassword -q \"your query\" # for example -q \"select 1\"","In Campaign Classic, you can now configure your DNL Azure Synapse external account. For more on how to configure your external account, refer to this section.","To configure iptables on Debian to ensure the connection with Azure Synapse Analytics, enable the outbound TCP 1433 port for your hostname with the following command:","iptables -A OUTPUT -p tcp -d [server_hostname_here] --dport 1433 -j ACCEPT","NOTE","To allow communication from Azure Synapse Analytics' side you might need to add your public IP to the allowlist. To do so, refer to Azure documentation.","Azure Synapse external account","The DNL Azure Synapse external account allows you to connect your Campaign instance to your Azure Synapse external database.","To create your DNL Azure Synapse external account follow the steps below:","From Campaign Explorer, click Administration '>' Platform '>' External accounts.","Click New.","Select External database as your external account's Type.","","Under Configuration, select Azure Synapse Analytics from the Type drop-down.","","Configure the DNL Azure Synapse external account:","For standard authentication, you must specify:","Server: URL of the Azure Synapse server","Account: Name of the user","Password: User account password","Database: Name of the database","","For System-assigned managed identity authentication, you must specify:","Server: URL of the Azure Synapse server","Database: Name of the database","Options: Add the following syntax Authentication=ActiveDirectoryMsi","Click Save.","The connector supports the following options:"]},{"section":"for example -q \"select 1\"","sectionId":"d3eb2cdc-5771-448a-875a-4c6f60720713","paragraphs":["Configure access to Azure Synapse","Use Campaign Federated Data Access (FDA) option to process information stored in an external databases. Follow the steps below to configure access to Microsoft Azure Synapse Analytics.","Configure Azure Synapse on CentOS, Windows or Debian\nConfigure the Azure Synapse external account in Campaign","Azure Synapse on CentOS","CAUTION","You will need root privileges to install an ODBC driver.\nRed Hat Enterprise ODBC drivers provided by Microsoft can also be used with CentOS to connect to SQL Server.\nVersion 13.0 will work with Red Hat 6 and 7.","To configure Azure Synapse on CentOS, follow the steps below:","First, install the ODBC Driver. You can find it in this page.","NOTE","This is exclusive to version 13 of the ODBC Driver.","sudo su\ncurl https://packages.microsoft.com/config/rhel/6/prod.repo > /etc/yum.repos.d/mssql-release.repo\nexit\n# Uninstall if already installed Unix ODBC driver\nsudo yum remove unixODBC-utf16 unixODBC-utf16-devel #to avoid conflicts","sudo ACCEPT_EULA=Y yum install msodbcsql","sudo ACCEPT_EULA=Y yum install mssql-tools\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bash_profile\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bashrc\nsource ~/.bashrc","# the Microsoft driver expects unixODBC to be here /usr/lib64/libodbc.so.1, so add soft links to the '.so.2' files\ncd /usr/lib64\nsudo ln -s libodbccr.so.2   libodbccr.so.1\nsudo ln -s libodbcinst.so.2 libodbcinst.so.1\nsudo ln -s libodbc.so.2     libodbc.so.1","# Set the path for unixODBC\nexport ODBCINI=/usr/local/etc/odbc.ini\nexport ODBCSYSINI=/usr/local/etc\nsource ~/.bashrc","#Add a DSN information to /etc/odbc.ini\nsudo vi /etc/odbc.ini","#Add the following:\n[Azure Synapse Analytics]\nDriver      = ODBC Driver 13 for SQL Server\nDescription = Azure Synapse Analytics DSN\nTrace       = No\nServer      = [insert your server here]","If needed, you can install unixODBC development headers by running the following command:","sudo yum install unixODBC-devel","After installing the drivers, you can test and verify your ODBC Driver and query your database if needed. Run the following command:","/opt/mssql-tools/bin/sqlcmd -S yourServer -U yourUserName -P yourPassword -q \"your query\" # for example -q \"select 1\"","In Campaign, you can then configure your DNL Azure Synapse external account. For more on how to configure your external account, refer to this section.","Since Azure Synapse Analytics communicates through the TCP 1433 port, you need to open up this port on your firewall. Use the following command:","firewall-cmd --permanent --add-rich-rule='rule family=\"ipv4\" source address=\"[server_ip_here]/32\" port port=\"1433\" protocol=\"tcp\" accept'\n# you can ping your hostname and the ping command will translate the hostname to IP address which you can use here","NOTE","To allow communication from Azure Synapse Analytics' side you might need to add your public IP to the allowlist. To do so, refer to Azure documentation.","In case of iptables, run the following command:","iptables -A OUTPUT -p tcp -d [server_hostname_here] --dport 1433 -j ACCEPT","Azure Synapse on Windows","NOTE","This is exclusive to version 13 of the ODBC Driver but Adobe Campaign Classic can also use SQL Server Native Client drivers 11.0 and 10.0.","To configure Azure Synapse on Windows:","First, install the Microsoft ODBC driver. You can find it in this page.","Choose the following files to install:","your_language\\your_architecture\\msodbcsql.msi (i.e: English\\X64\\msodbcsql.msi)","Once your ODBC driver is installed, you can test it if needed. For more on this, refer to this page.","In Campaign Classic, you can then configure your DNL Azure Synapse external account. For more on how to configure your external account, refer to this section.","Since Azure Synapse Analytics communicates through the TCP 1433 port, you need to open up this port on the Windows Defender Firewall. For more on this, refer to Windows documentation.","Azure Synapse on Debian","Prerequisites:","You will need root privileges to install a ODBC driver.","Curl is needed to install the msodbcsql package. If you don't have it installed, run the following command:","sudo apt-get install curl","To configure Azure Synapse on Debian:","First, install the Microsoft ODBC driver for SQL Server. Use the following commands to install the ODBC Driver 13.1 for SQL Server:","sudo su\ncurl https://packages.microsoft.com/keys/microsoft.asc | apt-key add -\ncurl https://packages.microsoft.com/config/debian/8/prod.list > /etc/apt/sources.list.d/mssql-release.list\nexit\nsudo apt-get update\nsudo ACCEPT_EULA=Y apt-get install msodbcsql","If you get the following an error \"The method driver /usr/lib/apt/methods/https could not be found\" when calling sudo apt-get update, you should run the command:","sudo apt-get install apt-transport-https ca-certificates","You now need to install mssql-tools with the following commands. Mssq-tools are needed to use the bulk copy program (or BCP) utility and to run queries.","sudo ACCEPT_EULA=Y apt-get install mssql-tools\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bash_profile\necho 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bashrc\nsource ~/.bashrc","If needed, you can install unixODBC development headers by running the following command:","sudo yum install unixODBC-devel","After installing the drivers, you can test and verify your ODBC Driver and query your database if needed. Run the following command:","/opt/mssql-tools/bin/sqlcmd -S yourServer -U yourUserName -P yourPassword -q \"your query\" # for example -q \"select 1\"","In Campaign Classic, you can now configure your DNL Azure Synapse external account. For more on how to configure your external account, refer to this section.","To configure iptables on Debian to ensure the connection with Azure Synapse Analytics, enable the outbound TCP 1433 port for your hostname with the following command:","iptables -A OUTPUT -p tcp -d [server_hostname_here] --dport 1433 -j ACCEPT","NOTE","To allow communication from Azure Synapse Analytics' side you might need to add your public IP to the allowlist. To do so, refer to Azure documentation."]},{"section":"Azure Synapse external account","sectionId":"b9f843aa-24cb-42a1-ac16-5ce77302b299","paragraphs":["The DNL Azure Synapse external account allows you to connect your Campaign instance to your Azure Synapse external database.","To create your DNL Azure Synapse external account follow the steps below:","From Campaign Explorer, click Administration '>' Platform '>' External accounts.","Click New.","Select External database as your external account's Type.","","Under Configuration, select Azure Synapse Analytics from the Type drop-down.","","Configure the DNL Azure Synapse external account:","For standard authentication, you must specify:","Server: URL of the Azure Synapse server","Account: Name of the user","Password: User account password","Database: Name of the database","","For System-assigned managed identity authentication, you must specify:","Server: URL of the Azure Synapse server","Database: Name of the database","Options: Add the following syntax Authentication=ActiveDirectoryMsi","Click Save.","The connector supports the following options:","Option Description\nAuthentication Type of authentication supported by the connector. Current supported value: ActiveDirectoryMSI. For more information, refer to SQL doc (Example connection strings n°8)."]}]}