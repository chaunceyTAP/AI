{"guid":"9143e87f-83b5-465a-a37f-eea984faa8eb","title":"Attaching files","path":"help\\delivery\\using\\attaching-files.md","fullText":"---\nproduct: campaign\ntitle: Attaching files\ndescription: Attaching files\nbadge-v8: label=\"Also applies to v8\" type=\"Positive\" tooltip=\"Also applies to Campaign v8\"\nfeature: Email\nrole: User\nexl-id: db65e83e-276f-4163-98c3-3658a48acffc\n---\n# Attach files to an email{#attaching-files}\n\n## About email attachments {#about-email-attachments}\n\nYou can attach one or more files to an email delivery.\n\n>[!NOTE]\n>\n>To avoid performance issue, it is recommended not to include more than one attachment per email. The recommended threshold can be configured from [the list of Campaign Classic options](../../installation/using/configuring-campaign-options.md#delivery).\n\nThere are two possible cases:\n\n* Select a file and attach it to the delivery as it is.\n* Personalize the content of the attachment for each recipient. In this case, you need to create a **calculated attachment**: the name of the attachment is computed at the time of delivery for each message depending on the recipient. The content can also be personalized and converted into PDF format at the time of delivery, if you have the **Variable Digital Printing** option.\n\n>[!NOTE]\n>\n>This type of configuration is generally carried out in the delivery templates. For more on this, refer to [About templates](about-templates.md).\n\n## Guardrails {#attachments-guardrails}\n\nTo avoid performance issues, images included in emails cannot exceed 100 KB. This limit, set by default, can be changed from the `NmsDelivery_MaxDownloadedImageSize` option. However, Adobe strongly recommends to avoid large images in your email deliveries.\n\nAdobe also recommends to limit the size and number of attached files. By default, you can only add one file as an attachment to an email. This threshold can be configured from the `NmsDelivery_MaxRecommendedAttachments` option. \n\nLearn more in [the list of Campaign Classic options](../../installation/using/configuring-campaign-options.md#delivery). \n\n## Attach a local file {#attaching-a-local-file}\n\nTo attach a local file to a delivery, follow the steps below.\n\n>[!NOTE]\n>\n>You can attach several files to a delivery. Attachments can be in any format, included zipped format.\n\n1. Click the **[!UICONTROL Attachments]** link.\n1. Click the **[!UICONTROL Add]** button.\n1. Click **[!UICONTROL File...]** to select the file to be attached to the delivery.\n\n   ![](assets/s_ncs_user_wizard_email_attachement.png)\n\n  You can also directly drag and drop the file in the delivery **[!UICONTROL Attachments]** field, or use the **[!UICONTROL Attach]** icon from the delivery wizard toolbar,\n\n  ![](assets/s_ncs_user_wizard_add_file_ico.png)\n\nOnce the file is selected, it is immediately uploaded onto the server to be available at the time of delivery. It is listed in the **[!UICONTROL Attachments]** field.\n\n  ![](assets/s_ncs_user_wizard_email_attachement_e.png)\n\n## Creating a calculated attachment {#creating-a-calculated-attachment}\n\nWhen you create a calculated attachment, the name of the attachment can be computed during analysis or delivery of each message and can depend on the recipient. It can also be personalized and converted to PDF.\n\n![](assets/s_ncs_user_wizard_attachment.png)\n\nTo create a personalized attachment, follow these steps:\n\n1. Click the **[!UICONTROL Attachments]** link.\n1. Click the **[!UICONTROL Add]** button, then select **[!UICONTROL Calculated attachment]**.\n1. Select the type of calculation from the **[!UICONTROL Type]** drop-down list:\n\n  ![](assets/s_ncs_user_wizard_email01_136.png)\n\nThe following options are available:\n\n* **File name is specified when creating the delivery template**\n* **The content of the file is personalized and converted to PDF during the delivery of each message**\n* **The file name is computed during delivery analysis (it cannot depend on the recipient profile)**\n* **File name is computed at the time of delivery for each recipient (it can depend on the recipient)**\n\n### Attaching a local file {#attach-a-local-file}\n\nIf the attachment is a local file, select the option: **[!UICONTROL File name is specified when creating the delivery template]**. The file is selected locally and uploaded onto the server. Follow the steps below:\n\n1. Select the file to upload in the **[!UICONTROL Local file]** field.\n1. Specify the label if necessary. The label replaces the filename when viewed in messaging systems. If nothing is specified, the filename is used by default.\n\n   ![](assets/s_ncs_user_wizard_email_calc_attachement_02.png)\n\n1. If necessary, select **[!UICONTROL Upload file on the server]**, and then click **[!UICONTROL Update on server]** to start the transfer.\n\n   ![](assets/s_ncs_user_wizard_email_calc_attachement_01.png)\n\nThe file is then available on the server to be attached to the different deliveries created from this template.\n\n### Attaching a personalized message {#attach-a-personalized-message}\n\nThe option **[!UICONTROL The file content is personalized and converted into PDF format at the time of delivery for each message]** lets you select a file with personalization fields, such as the last name and first name of the intended recipient.\n\n![](assets/s_ncs_user_wizard_email_calc_attachement_06.png)\n\nFor this type of attachment, apply the following configuration steps:\n\n1. Select the file to upload.\n1. Specify the label if necessary.\n1. Select **[!UICONTROL Upload file on the server]**, and then click **[!UICONTROL Update on server]** to start the transfer.\n1. You can display a preview. To do this, select a recipient.\n\n   ![](assets/s_ncs_user_wizard_email_calc_attachement_07.png)\n\n1. Analyze your delivery and then start it.\n\n   Each recipient receives a personalized PDF attached to the delivery.\n\n   ![](assets/s_ncs_user_wizard_email_calc_attachement_08.png)\n\n\n\n### Attach a calculated file {#attach-a-calculated-file}\n\nYou can calculate the attachment name during the delivery preparation. To do this, select the option **[!UICONTROL The file name is calculated during delivery analysis (it cannot depend on the recipient)]**.\n\n>[!NOTE]\n>\n>This option is used only when the delivery is sent by an external process or a workflow.\n\n1. Specify the label you wish to apply to the attachment. \n1. Specify the access path of the file and its exact name in the definition window.\n\n   >[!IMPORTANT]\n   >\n   >The file must be present on the server.\n\n   ![](assets/s_ncs_user_wizard_email_calc_attachement_04.png)\n\n1. Analyze and then start your delivery.\n\n   The filename computation can be seen in the analysis log.\n\n   ![](assets/s_ncs_user_wizard_email_calc_attachement_05.png)\n\n### Attach a personalized file {#attach-a-personalized-file}\n\nWhen selecting the attachment, you can choose the option **[!UICONTROL The file name is calculated during delivery for each recipient (it can depend on the recipient)]**. You can then map recipient personalization data with the name of the file to send.\n\n>[!NOTE]\n>\n>This option is used only when the delivery is sent by an external process or a workflow.\n\n1. Specify the label you wish to apply to the attachment.\n1. Specify the access path of the file and its exact name in the definition window. If the filename is personalized, you can use the Personalization fields for the relevant values.\n\n   ![](assets/s_ncs_user_wizard_email_calc_attachement_010.png)\n\n   >[!IMPORTANT]\n   >\n   >The file must be present on the server.\n\n1. Analyze and then start your delivery.\n\n   In the example below, the attached file was chosen according to its name as defined using the merge fields.\n\n   ![](assets/s_ncs_user_wizard_email_calc_attachement_011.png)\n\n### Attachment settings {#attachment-settings}\n\nFor the first two options, you can choose **[!UICONTROL Upload file on the server]** by selecting the appropriate option. The **[!UICONTROL Update the file on the server]** link lets you start uploading.\n\n![](assets/s_ncs_user_wizard_email01_137.png)\n\nA message tells you that the file has been uploaded to the server:\n\n![](assets/s_ncs_user_wizard_email01_1371.png)\n\nFor a change of file, a warning message is displayed:\n\n![](assets/s_ncs_user_wizard_email01_1372.png)\n\nThe **[!UICONTROL Advanced]** tab lets you define advanced options on attached files:\n\n* You can define filter options to avoid sending the attached file to all recipients. The option **[!UICONTROL Enable filtering of recipients who will receive the attachment]** activates an input field used to define a recipient selection script, which must be entered in JavaScript.\n* You can script the name of the file in order to personalize it.\n\n  Enter your text in the window and use the personalization fields available in the drop-down list. In the following example, the filename is personalized to contain today's date and the name of the recipient.\n\n  ![](assets/s_ncs_user_wizard_email_calc_attachement_09.png)\n","headers":[["title","Attaching files"],["description","Attaching files"],["feature","Email"]],"sections":[{"section":"Attach files to an email","sectionId":"76eff3ad-f1b8-485a-b8ab-11e3aa9738d7","paragraphs":[]},{"section":"About email attachments","sectionId":"4fcf180c-0202-4bfb-907c-4b80b59cf6c1","paragraphs":["You can attach one or more files to an email delivery.","NOTE","To avoid performance issue, it is recommended not to include more than one attachment per email. The recommended threshold can be configured from the list of Campaign Classic options.","There are two possible cases:","Select a file and attach it to the delivery as it is.\nPersonalize the content of the attachment for each recipient. In this case, you need to create a calculated attachment: the name of the attachment is computed at the time of delivery for each message depending on the recipient. The content can also be personalized and converted into PDF format at the time of delivery, if you have the Variable Digital Printing option.","NOTE","This type of configuration is generally carried out in the delivery templates. For more on this, refer to About templates."]},{"section":"Guardrails","sectionId":"5df826d9-baf2-478e-8324-b63d241ab0f1","paragraphs":["To avoid performance issues, images included in emails cannot exceed 100 KB. This limit, set by default, can be changed from the NmsDelivery_MaxDownloadedImageSize option. However, Adobe strongly recommends to avoid large images in your email deliveries.","Adobe also recommends to limit the size and number of attached files. By default, you can only add one file as an attachment to an email. This threshold can be configured from the NmsDelivery_MaxRecommendedAttachments option.","Learn more in the list of Campaign Classic options."]},{"section":"Attach a local file","sectionId":"3624d9ab-3127-4281-b20d-419ac8201ab8","paragraphs":["To attach a local file to a delivery, follow the steps below.","NOTE","You can attach several files to a delivery. Attachments can be in any format, included zipped format.","Click the Attachments link.","Click the Add button.","Click File... to select the file to be attached to the delivery.","You can also directly drag and drop the file in the delivery Attachments field, or use the Attach icon from the delivery wizard toolbar,","","Once the file is selected, it is immediately uploaded onto the server to be available at the time of delivery. It is listed in the Attachments field.",""]},{"section":"Creating a calculated attachment","sectionId":"666ad8ba-2018-4cb7-bec7-4c19523c2b6f","paragraphs":["When you create a calculated attachment, the name of the attachment can be computed during analysis or delivery of each message and can depend on the recipient. It can also be personalized and converted to PDF.","To create a personalized attachment, follow these steps:","Click the Attachments link.\nClick the Add button, then select Calculated attachment.\nSelect the type of calculation from the Type drop-down list:","","The following options are available:","File name is specified when creating the delivery template\nThe content of the file is personalized and converted to PDF during the delivery of each message\nThe file name is computed during delivery analysis (it cannot depend on the recipient profile)\nFile name is computed at the time of delivery for each recipient (it can depend on the recipient)"]},{"section":"Attaching a local file","sectionId":"28693142-148d-4bc6-a2f9-0088ad720aca","paragraphs":["If the attachment is a local file, select the option: File name is specified when creating the delivery template. The file is selected locally and uploaded onto the server. Follow the steps below:","Select the file to upload in the Local file field.","Specify the label if necessary. The label replaces the filename when viewed in messaging systems. If nothing is specified, the filename is used by default.","If necessary, select Upload file on the server, and then click Update on server to start the transfer.","The file is then available on the server to be attached to the different deliveries created from this template."]},{"section":"Attaching a personalized message","sectionId":"d1539500-936c-4441-966e-aa21495feba4","paragraphs":["The option The file content is personalized and converted into PDF format at the time of delivery for each message lets you select a file with personalization fields, such as the last name and first name of the intended recipient.","For this type of attachment, apply the following configuration steps:","Select the file to upload.","Specify the label if necessary.","Select Upload file on the server, and then click Update on server to start the transfer.","You can display a preview. To do this, select a recipient.","Analyze your delivery and then start it.","Each recipient receives a personalized PDF attached to the delivery."]},{"section":"Attach a calculated file","sectionId":"89cd06de-cd1b-4bb7-acd2-d14ddca1ca05","paragraphs":["You can calculate the attachment name during the delivery preparation. To do this, select the option The file name is calculated during delivery analysis (it cannot depend on the recipient).","NOTE","This option is used only when the delivery is sent by an external process or a workflow.","Specify the label you wish to apply to the attachment.","Specify the access path of the file and its exact name in the definition window.","IMPORTANT","The file must be present on the server.","Analyze and then start your delivery.","The filename computation can be seen in the analysis log."]},{"section":"Attach a personalized file","sectionId":"f2a7d4f8-1ccf-4865-b7b3-e8054bd22f1e","paragraphs":["When selecting the attachment, you can choose the option The file name is calculated during delivery for each recipient (it can depend on the recipient). You can then map recipient personalization data with the name of the file to send.","NOTE","This option is used only when the delivery is sent by an external process or a workflow.","Specify the label you wish to apply to the attachment.","Specify the access path of the file and its exact name in the definition window. If the filename is personalized, you can use the Personalization fields for the relevant values.","IMPORTANT","The file must be present on the server.","Analyze and then start your delivery.","In the example below, the attached file was chosen according to its name as defined using the merge fields."]},{"section":"Attachment settings","sectionId":"621c7f74-5029-46a2-b455-9eb15c286bbd","paragraphs":["For the first two options, you can choose Upload file on the server by selecting the appropriate option. The Update the file on the server link lets you start uploading.","A message tells you that the file has been uploaded to the server:","For a change of file, a warning message is displayed:","The Advanced tab lets you define advanced options on attached files:","You can define filter options to avoid sending the attached file to all recipients. The option Enable filtering of recipients who will receive the attachment activates an input field used to define a recipient selection script, which must be entered in JavaScript.","You can script the name of the file in order to personalize it.","Enter your text in the window and use the personalization fields available in the drop-down list. In the following example, the filename is personalized to contain today's date and the name of the recipient."]}]}