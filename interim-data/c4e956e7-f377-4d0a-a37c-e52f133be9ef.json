{"guid":"c4e956e7-f377-4d0a-a37c-e52f133be9ef","title":"\"Use case","path":"help\\delivery\\using\\use-case-selecting-seed-addresses-on-criteria.md","fullText":"---\nproduct: campaign\ntitle: \"Use case: select seed addresses on criteria\"\ndescription: \"Use case: select seed addresses on criteria\"\nbadge-v8: label=\"Also applies to v8\" type=\"Positive\" tooltip=\"Also applies to Campaign v8\"\nfeature: Seed Address\nexl-id: 091648b8-bf2d-4595-8be3-287f1ac48edd\n---\n# Use case: select seed addresses on criteria{#use-case-selecting-seed-addresses-on-criteria}\n\n\nIn the framework of a delivery or a campaign, the **[!UICONTROL Edit the dynamic condition...]** link lets you choose seed addresses based on specific selection criteria.\n\nIn this use case, the site **My online library** would like to personalize its newsletters according to its clients' literary tastes.\n\nIn conjunction with the purchasing department, the user in charge of deliveries has created a newsletter for subscribers that have purchased police novels.\n\nTo share the final result of their collaboration with them, the delivery manager decides to add their colleagues from the purchasing department to the delivery as seed addresses. Using a dynamic condition lets you save time on configuring and updating addresses.\n\nTo use the dynamic condition, you must have:\n\n* a delivery ready to be sent,\n* seed addresses that have a common value. This value can be a field that already exists in Adobe Campaign. In this example, the seed addresses share the \"Purchasing\" value in the \"Department\" field, which is not present in the application by default.\n\n## Step 1 - Create a delivery {#step-1---creating-a-delivery}\n\nThe steps for creating a delivery are detailed in the [Create an email delivery](creating-an-email-delivery.md) section.\n\nIn this example, the delivery manager has created the newsletter and selected the recipients.\n\n![](assets/dlv_seeds_usecase_01.png)\n\n## Step 2 - Create a common value {#step-2---creating-a-common-value}\n\nTo create a common value like the one in our example (Purchasing department), you must first extend the **data schema** of your seed addresses and edit the associated input form.\n\n### Extend the data schema {#extending-the-data-schema}\n\nFor further details on schema extensions, refer to [this section](../../configuration/using/data-schemas.md).\n\n1. In the **[!UICONTROL Administration > Configuration > Data schemas]** node, click the **[!UICONTROL New]** icon.\n1. In the **[!UICONTROL Creation of a data schema]** window, select the **[!UICONTROL Extension of a schema]** option and click **[!UICONTROL Next]**.\n\n   ![](assets/dlv_seeds_usecase_09.png)\n\n1. Select the **[!UICONTROL Seed addresses]** source schema, enter **doc** as the **[!UICONTROL Namespace]** and click **[!UICONTROL Ok]**.\n\n   ![](assets/dlv_seeds_usecase_10.png)\n\n1. Click **[!UICONTROL Save]**.\n1. In the schema editing window, copy the lines below and paste them in the area indicated in the screenshot.\n\n   ```\n     <element name=\"common\">\n       <element label=\"Recipient\" name=\"custom_nms_recipient\">\n         <attribute label=\"Department\" length=\"80\" name=\"workField\" template=\"nms:recipient:recipient/@company\"\n                    type=\"string\" userEnum=\"workField\"/>\n       </element>\n     </element>\n   ```\n\n   ![](assets/dlv_seeds_usecase_20.png)\n\n   Then copy the following lines and paste them under the **[!UICONTROL Seed to insert in the export files]** element.\n\n   ```\n       <element aggregate=\"doc:seedMember:common\">\n     </element>\n   ```\n\n   ![](assets/dlv_seeds_usecase_29.png)\n\n   In this case, you are specifying that a new enumeration named **[!UICONTROL Department]** has been created in the seed address table, and it is based on the standard **[!UICONTROL @company]** enumeration template (labeled under the name **Company** in the seed address form).\n\n1. Click **[!UICONTROL Save]**.\n1. In the **[!UICONTROL Tools > Advanced]** menu, select the **[!UICONTROL Update database structure]** option.\n\n   ![](assets/dlv_seeds_usecase_12.png)\n\n1. When the update wizard is displayed, click the **[!UICONTROL Next]** button to access the Edit tables window: changes carried out in the seed address data schema require a structure update.\n\n   ![](assets/dlv_seeds_usecase_13.png)\n\n1. Follow the wizard until you come to the page to run the update. Click the **[!UICONTROL Start]** button.\n\n   ![](assets/dlv_seeds_usecase_14.png)\n\n   Once the update has finished, you can close the wizard.\n\n1. Disconnect then reconnect to Adobe Campaign. The changes made in the seed address data schema are now effective. In order for them to be visible from the seed address screen, you must update the associated **[!UICONTROL Input form]**. Refer to the [Update the input form](#updating-the-input-form) section.\n\n#### Extend the data schema from a linked table {#extending-the-data-schema-from-a-linked-table}\n\nThe seed addresses data schema can use values from a table linked to the recipient data schema - Recipient (nms).\n\nFor example, the user would like to integrate the **[!UICONTROL Internet Extension]** found in the **[!UICONTROL Country]** table that is linked to the recipients schema.\n\n![](assets/dlv_seeds_usecase_06.png)\n\nThey therefore must extend the seed addresses data schema as detailed in the section. However, the lines of code to integrate at **step 4** are as follows:\n\n```\n<element name=\"country\">\n      <attribute label=\"Internet Extension\" length=\"2\" name=\"iana\" type=\"string\"/>\n      <attribute label=\"Country ISO\" length=\"2\" name=\"countryIsoA2\" type=\"string\"/>\n    </element>\n```\n\n![](assets/dlv_seeds_usecase_11.png)\n\nThey indicate:\n\n* that the user wants to create a new element named **[!UICONTROL Internet Extension]**,\n* that this element comes from the **[!UICONTROL Country]** table.\n\n>[!CAUTION]\n>\n>In the linked table name, you must specify the **xpath-dst** of said linked table.\n>\n>This can be found in the **[!UICONTROL Country]** element in the recipients table.\n\n![](assets/dlv_seeds_usecase_07.png)\n\nThe user can then follow from **step 5** of the section, and update the **[!UICONTROL Input form]** of the seed addresses.\n\nRefer to the [Update the input form](#updating-the-input-form) section.\n\n#### Update the input form {#updating-the-input-form}\n\n1. In the **[!UICONTROL Administration > Configuration > Input forms]** node, find the seed addresses input form.\n\n   ![](assets/dlv_seeds_usecase_19.png)\n\n1. Edit the form and insert the following line in the **[!UICONTROL Recipient]** container.\n\n   ```\n   <input xpath=\"@workField\"/>\n   ```\n\n   ![](assets/dlv_seeds_usecase_21.png)\n\n1. Save your changes.\n1. Open a seed address. The **[!UICONTROL Department]** field appears in the **[!UICONTROL Recipient]** table.\n\n   ![](assets/dlv_seeds_usecase_22.png)\n\n1. Edit the seed addresses that you want to use for the delivery and enter **Purchasing** as the value in the **[!UICONTROL Department]** field.\n\n## Step 3 - Define the condition {#step-3---defining-the-condition}\n\nYou can now specify the dynamic condition of the seed addresses for the delivery. To do this:\n\n1. Open a delivery.\n\n   ![](assets/dlv_seeds_usecase_01.png)\n\n1. Click the **[!UICONTROL To]** link then the **[!UICONTROL Seed addresses]** tab to access the **[!UICONTROL Edit the dynamic condition...]** link. \n\n   ![](assets/dlv_seeds_usecase_02.png)\n\n1. Select the expression that lets you choose the seed addresses you want. Here the user selects the **[!UICONTROL Department (@workField)]** expression.\n\n   ![](assets/dlv_seeds_usecase_03.png)\n\n1. Select the value you would like. In this example the user selects the **Purchasing** department from the drop-down list of values.\n\n   ![](assets/dlv_seeds_usecase_17.png)\n\n   >[!NOTE]\n   >\n   >The schema extension created earlier comes from the **recipient** schema. The values displayed on the screen above come from an enumeration of the **recipient** schema.\n\n1. Click **[!UICONTROL Ok]**.\n\n   The query is displayed in the **[!UICONTROL Select target]** window.\n\n   ![](assets/dlv_seeds_usecase_04.png)\n\n1. Click **[!UICONTROL Ok]** to approve the query.\n1. Analyze your delivery then click on the **[!UICONTROL Delivery]** tab to access the delivery logs.\n\n   The seed addresses of the purchasing department are displayed as pending delivery, just like those of the recipients or other seed addresses.\n\n   ![](assets/dlv_seeds_usecase_05.png)\n\n1. Click the **[!UICONTROL Send]** button to start the delivery.\n\n   The members of the purchasing department make up part of your seed addresses that will receive the delivery in their email inbox.\n\n   ![](assets/dlv_seeds_usecase_18.png)\n","headers":[["title","\"Use case","select seed addresses on criteria\""],["description","\"Use case","select seed addresses on criteria\""],["feature","Seed Address"]],"sections":[{"section":"Use case: select seed addresses on criteria","sectionId":"ef161111-4a60-470b-9ce0-23d46120a67d","paragraphs":["In the framework of a delivery or a campaign, the Edit the dynamic condition... link lets you choose seed addresses based on specific selection criteria.","In this use case, the site My online library would like to personalize its newsletters according to its clients' literary tastes.","In conjunction with the purchasing department, the user in charge of deliveries has created a newsletter for subscribers that have purchased police novels.","To share the final result of their collaboration with them, the delivery manager decides to add their colleagues from the purchasing department to the delivery as seed addresses. Using a dynamic condition lets you save time on configuring and updating addresses.","To use the dynamic condition, you must have:","a delivery ready to be sent,\nseed addresses that have a common value. This value can be a field that already exists in Adobe Campaign. In this example, the seed addresses share the \"Purchasing\" value in the \"Department\" field, which is not present in the application by default."]},{"section":"Step 1 - Create a delivery","sectionId":"7602d870-c77a-4d23-a159-f73742f1c0d4","paragraphs":["The steps for creating a delivery are detailed in the Create an email delivery section.","In this example, the delivery manager has created the newsletter and selected the recipients."]},{"section":"Step 2 - Create a common value","sectionId":"1edd6020-c5a3-495d-91d0-81b07e74f063","paragraphs":["To create a common value like the one in our example (Purchasing department), you must first extend the data schema of your seed addresses and edit the associated input form."]},{"section":"Extend the data schema","sectionId":"13cfbeef-ee17-4302-aafa-3d122f5f01e5","paragraphs":["For further details on schema extensions, refer to this section.","In the Administration > Configuration > Data schemas node, click the New icon.","In the Creation of a data schema window, select the Extension of a schema option and click Next.","Select the Seed addresses source schema, enter doc as the Namespace and click Ok.","Click Save.","In the schema editing window, copy the lines below and paste them in the area indicated in the screenshot.","<element name=\"common\">\n    <element label=\"Recipient\" name=\"custom_nms_recipient\">\n      <attribute label=\"Department\" length=\"80\" name=\"workField\" template=\"nms:recipient:recipient/@company\"\n                 type=\"string\" userEnum=\"workField\"/>\n    </element>\n  </element>","Then copy the following lines and paste them under the Seed to insert in the export files element.","<element aggregate=\"doc:seedMember:common\">\n  </element>","In this case, you are specifying that a new enumeration named Department has been created in the seed address table, and it is based on the standard @company enumeration template (labeled under the name Company in the seed address form).","Click Save.","In the Tools > Advanced menu, select the Update database structure option.","When the update wizard is displayed, click the Next button to access the Edit tables window: changes carried out in the seed address data schema require a structure update.","Follow the wizard until you come to the page to run the update. Click the Start button.","Once the update has finished, you can close the wizard.","Disconnect then reconnect to Adobe Campaign. The changes made in the seed address data schema are now effective. In order for them to be visible from the seed address screen, you must update the associated Input form. Refer to the Update the input form section."]},{"section":"Extend the data schema from a linked table","sectionId":"d1afef6b-80a7-468e-acdf-f91fd5028bb2","paragraphs":["The seed addresses data schema can use values from a table linked to the recipient data schema - Recipient (nms).","For example, the user would like to integrate the Internet Extension found in the Country table that is linked to the recipients schema.","They therefore must extend the seed addresses data schema as detailed in the section. However, the lines of code to integrate at step 4 are as follows:","<element name=\"country\">\n      <attribute label=\"Internet Extension\" length=\"2\" name=\"iana\" type=\"string\"/>\n      <attribute label=\"Country ISO\" length=\"2\" name=\"countryIsoA2\" type=\"string\"/>\n    </element>","They indicate:","that the user wants to create a new element named Internet Extension,\nthat this element comes from the Country table.","CAUTION","In the linked table name, you must specify the xpath-dst of said linked table.","This can be found in the Country element in the recipients table.","The user can then follow from step 5 of the section, and update the Input form of the seed addresses.","Refer to the Update the input form section."]},{"section":"Update the input form","sectionId":"74dec0ae-88ee-4a80-a580-e575b8fc165a","paragraphs":["In the Administration > Configuration > Input forms node, find the seed addresses input form.","Edit the form and insert the following line in the Recipient container.","<input xpath=\"@workField\"/>","Save your changes.","Open a seed address. The Department field appears in the Recipient table.","Edit the seed addresses that you want to use for the delivery and enter Purchasing as the value in the Department field."]},{"section":"Step 3 - Define the condition","sectionId":"bb813b75-1097-4b8b-a2fb-7b2461369aa1","paragraphs":["You can now specify the dynamic condition of the seed addresses for the delivery. To do this:","Open a delivery.","Click the To link then the Seed addresses tab to access the Edit the dynamic condition... link.","Select the expression that lets you choose the seed addresses you want. Here the user selects the Department (@workField) expression.","Select the value you would like. In this example the user selects the Purchasing department from the drop-down list of values.","NOTE","The schema extension created earlier comes from the recipient schema. The values displayed on the screen above come from an enumeration of the recipient schema.","Click Ok.","The query is displayed in the Select target window.","Click Ok to approve the query.","Analyze your delivery then click on the Delivery tab to access the delivery logs.","The seed addresses of the purchasing department are displayed as pending delivery, just like those of the recipients or other seed addresses.","Click the Send button to start the delivery.","The members of the purchasing department make up part of your seed addresses that will receive the delivery in their email inbox."]}]}