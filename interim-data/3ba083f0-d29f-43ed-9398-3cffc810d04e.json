{"guid":"3ba083f0-d29f-43ed-9398-3cffc810d04e","title":"Filtering rules","path":"help\\campaign-opt\\using\\filtering-rules.md","fullText":"---\nproduct: campaign\ntitle: Filtering rules\ndescription: Learn how to use filtering rules in Adobe Campaign\nrole: User, Data Engineer\nfeature: Typology Rules, Campaigns\nexl-id: a4d12445-5680-4704-9c67-e43e0ea6631b\n---\n# Filtering rules{#filtering-rules}\n\nFiltering rules let you define the messages to exclude based on criteria defined in a query. These rules are linked to a targeting dimension.\n\nFiltering rules can be linked to other types of rules (control, pressure, etc.) in typologies, or grouped in a dedicated **Filtering** typology. For more on this, refer to [Creating and using a filtering typology](#creating-and-using-a-filtering-typology).\n\n## Create a filtering rule {#creating-a-filtering-rule}\n\nFor example, you can filter your newsletter subscribers to prevent communications from being sent to recipients who are underage.\n\nTo define this filter, apply the following steps:\n\n1. Create a **[!UICONTROL Filtering]** typology rule applicable to all communication channels.\n\n   ![](assets/campaign_opt_create_filter_01.png)\n\n1. Change the default targeting dimension and select the subscriptions (**nms:subscription**).\n\n   ![](assets/campaign_opt_create_filter_02.png)\n\n1. Create the filter using the **[!UICONTROL Edit the query from the targeting dimension...]** link.\n\n   ![](assets/campaign_opt_create_filter_03.png)\n\n1. Link this rule to a campaign typology and save it.\n\n   ![](assets/campaign_opt_create_filter_04.png)\n\nWhen this rule is used in a delivery, underage subscribers are excluded automatically. A specific message indicates rule application:\n\n![](assets/campaign_opt_create_filter_05.png)\n\n## Condition a filtering rule {#conditioning-a-filtering-rule}\n\nYou can restrict the application field of the filtering rule based on the linked delivery or delivery outline.\n\nTo do this, go to the **[!UICONTROL General]** tab of the typology rule, select the type of restriction to apply and create the filter, as shown below:\n\n![](assets/campaign_opt_create_filter_06.png)\n\nIn this case, even if the rule is linked to all deliveries, it will only be applied to those which match the criteria of the defined filter.\n\n>[!NOTE]\n>\n>Typologies and filtering rules can be used in a workflow, in the **[!UICONTROL Delivery outline]** activity. For more on this, refer to [this section](../../workflow/using/delivery-outline.md).\n\n## Create and use a filtering typology {#creating-and-using-a-filtering-typology}\n\nYou can create **[!UICONTROL Filtering]** typologies: they only contain filtering rules. \n\n![](assets/campaign_opt_create_typo_filtering.png)\n\nThese specific typologies can be linked to a delivery when the target is selected: in the delivery wizard, click the **[!UICONTROL To]** link, then click the **[!UICONTROL Exclusions]** tab. \n\n![](assets/campaign_opt_apply_typo_filtering.png)\n\nThen select the filtering typology to be applied to the delivery. To do this, click the **[!UICONTROL Add]** button and select the typologies to apply.\n\nYou can also link filtering rules directly via this tab, without them being grouped in a typology. To do this, use the lower section of the window. \n\n![](assets/campaign_opt_select_typo_filtering.png)\n\n>[!NOTE]\n>\n>Only typologies and filtering rules are available in the selection window.\n>\n>These configurations can be defined in the delivery template to be applied automatically to all new deliveries created using the template.\n>\n\n## Default deliverability exclusion rules {#default-deliverability-exclusion-rules}\n\nTwo filtering rules are available by default: **[!UICONTROL Exclude addresses]** ( **[!UICONTROL addressExclusions]** ) and **[!UICONTROL Exclude domains]** ( **[!UICONTROL domainExclusions]** ). During the email analysis, these rules compare the recipient email addresses with the forbidden addresses or domain names contained in an encrypted global suppression list managed in the deliverability instance. If there is a match, the message is not sent to that recipient.\n\nThis is to avoid being added to the denylist due to malicious activity, especially the use of a Spamtrap. For example, if a Spamtrap is used to subscribe via one of your web forms, a confirmation email is automatically sent to that Spamtrap, and this results in your address being automatically added to the denylist.\n\n>[!NOTE]\n>\n>The addresses and domain names contained in the global suppression list are hidden. Only the number of excluded recipients is indicated in the delivery analysis logs.\n","headers":[["title","Filtering rules"],["description","Learn how to use filtering rules in Adobe Campaign"],["feature","Typology Rules, Campaigns"]],"sections":[{"section":"Filtering rules","sectionId":"698911c8-ac74-45a5-818e-da31b743f7d4","paragraphs":["Filtering rules let you define the messages to exclude based on criteria defined in a query. These rules are linked to a targeting dimension.","Filtering rules can be linked to other types of rules (control, pressure, etc.) in typologies, or grouped in a dedicated Filtering typology. For more on this, refer to Creating and using a filtering typology."]},{"section":"Create a filtering rule","sectionId":"c437c0b2-722d-447a-8929-734fa3f9bd3e","paragraphs":["For example, you can filter your newsletter subscribers to prevent communications from being sent to recipients who are underage.","To define this filter, apply the following steps:","Create a Filtering typology rule applicable to all communication channels.","Change the default targeting dimension and select the subscriptions (nms:subscription).","Create the filter using the Edit the query from the targeting dimension... link.","Link this rule to a campaign typology and save it.","When this rule is used in a delivery, underage subscribers are excluded automatically. A specific message indicates rule application:"]},{"section":"Condition a filtering rule","sectionId":"e99fc8e4-42e7-48a6-acfc-454ae48884c4","paragraphs":["You can restrict the application field of the filtering rule based on the linked delivery or delivery outline.","To do this, go to the General tab of the typology rule, select the type of restriction to apply and create the filter, as shown below:","In this case, even if the rule is linked to all deliveries, it will only be applied to those which match the criteria of the defined filter.","NOTE","Typologies and filtering rules can be used in a workflow, in the Delivery outline activity. For more on this, refer to this section."]},{"section":"Create and use a filtering typology","sectionId":"e6738515-a204-4d0b-8f77-9da9fcc4ad99","paragraphs":["You can create Filtering typologies: they only contain filtering rules.","These specific typologies can be linked to a delivery when the target is selected: in the delivery wizard, click the To link, then click the Exclusions tab.","Then select the filtering typology to be applied to the delivery. To do this, click the Add button and select the typologies to apply.","You can also link filtering rules directly via this tab, without them being grouped in a typology. To do this, use the lower section of the window.","NOTE","Only typologies and filtering rules are available in the selection window.","These configurations can be defined in the delivery template to be applied automatically to all new deliveries created using the template."]},{"section":"Default deliverability exclusion rules","sectionId":"fb0552ad-51dd-460d-8faf-cf6a4134ad7d","paragraphs":["Two filtering rules are available by default: Exclude addresses ( addressExclusions ) and Exclude domains ( domainExclusions ). During the email analysis, these rules compare the recipient email addresses with the forbidden addresses or domain names contained in an encrypted global suppression list managed in the deliverability instance. If there is a match, the message is not sent to that recipient.","This is to avoid being added to the denylist due to malicious activity, especially the use of a Spamtrap. For example, if a Spamtrap is used to subscribe via one of your web forms, a confirmation email is automatically sent to that Spamtrap, and this results in your address being automatically added to the denylist.","NOTE","The addresses and domain names contained in the global suppression list are hidden. Only the number of excluded recipients is indicated in the delivery analysis logs."]}]}