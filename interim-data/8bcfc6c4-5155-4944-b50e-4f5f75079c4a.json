{"guid":"8bcfc6c4-5155-4944-b50e-4f5f75079c4a","title":"Configure access to Snowflake","path":"help\\installation\\using\\configure-fda-snowflake.md","fullText":"---\nproduct: campaign\ntitle: Configure access to Snowflake\ndescription: Learn how to configure access to Snowflake in FDA\nfeature: Installation, Federated Data Access\naudience: platform\ncontent-type: reference\ntopic-tags: connectors\nexl-id: bdb5e422-ecfe-42eb-bd15-39fe5ec0ff1d\n---\n# Configure access to Snowflake {#configure-access-to-snowflake}\n\nUse Campaign **Federated Data Access** (FDA) option to process information stored in an external database. Follow the steps below to configure access to [!DNL Snowflake].\n\n1. Configure [!DNL Snowflake] on [Linux](#snowflake-linux).\n1. Configure the [!DNL Snowflake] [external account](#snowflake-external) in Campaign\n\n>[!NOTE]\n>\n>[!DNL Snowflake] connector is available for hosted and on-premise deployments. For more on this, refer to [this page](../../installation/using/capability-matrix.md).\n\n![](assets/snowflake_3.png)\n\n## Snowflake on Linux {#snowflake-linux}\n\nTo configure [!DNL Snowflake] on Linux, follow the steps below:\n\n1. Before the ODBC installation, check that the following packages are installed on your Linux distribution: \n\n    * For Red Hat/CentOS:\n\n        ```\n        yum update\n        yum upgrade\n        yum install -y grep sed tar wget perl curl\n        ```\n\n    * For Debian:\n\n        ```\n        apt-get update\n        apt-get upgrade\n        apt-get install -y grep sed tar wget perl curl\n        ```\n\n1. Before running the script, you can have access to more information with the `--help` option:\n\n    ```\n    cd /usr/local/neolane/nl6/bin/fda-setup-scripts/\n    ./snowflake_odbc-setup.sh --help\n    ```\n\n1. Access the directory where the script is located and run the following script as a root user:\n\n    ```\n    cd /usr/local/neolane/nl6/bin/fda-setup-scripts\n    ./snowflake_odbc-setup.sh\n    ```\n\n1. After installing the ODBC drivers, you need to restart Campaign Classic. To do so, run the following command:\n\n    ```\n    systemctl stop nlserver.service\n    systemctl start nlserver.service\n    ```\n\n1. In Campaign, you can then configure your [!DNL Snowflake] external account. For more on how to configure your external account, refer to [this section](#snowflake-external).\n\n## Snowflake external account {#snowflake-external}\n\nYou need to create a [!DNL Snowflake] external account to connect your Campaign instance to your [!DNL Snowflake] external database.\n\n1. From Campaign **[!UICONTROL Explorer]**, click **[!UICONTROL Administration]** '>' **[!UICONTROL Platform]** '>' **[!UICONTROL External accounts]**.\n\n1. Click **[!UICONTROL New]**.\n\n1. Select **[!UICONTROL External database]** as your external account's **[!UICONTROL Type]**.\n\n1. Under **[!UICONTROL Configuration]**, select [!DNL Snowflake] from the **[!UICONTROL Type]** drop-down.\n\n    ![](assets/snowflake_5.png)\n\n1. Add your **[!UICONTROL Server]** URL and **[!UICONTROL Database]**.\n\n1. Configure the **[!UICONTROL Snowflake]** external account authentication:\n\n    * For Account/password authentication, you must specify:\n\n        * **[!UICONTROL Account]**: Name of the user\n\n        * **[!UICONTROL Password]**: User account password.\n\n        ![](assets/snowflake.png)\n\n    * For Keypair authentication, click the **[!UICONTROL Keypair Auth]** tab to use your **[!UICONTROL Private key]** to authenticate and copy paste your **[!UICONTROL Private key]**.\n        \n        ![](assets/snowflake_4.png)\n\n1. Click the **[!UICONTROL Parameters]** tab then the **[!UICONTROL Deploy functions]** button to create functions.\n\n    >[!NOTE]\n    >\n    >For all functions to be available, you need to create the Adobe Campaign SQL functions in the remote database. For more information, refer to this [page](../../configuration/using/adding-additional-sql-functions.md).\n\n    ![](assets/snowflake_2.png)\n\n1. Click **[!UICONTROL Save]** when your configuration is finished.\n\nThe connector supports the following options:\n\n| Option   |  Description |\n|---|---|\n|  workschema | Database schema to use for work tables |\n|  warehouse | Name of the default warehouse to use. It will override the user's default. |\n|  TimeZoneName |  By default empty, which means that the system time zone of the Campaign Classic app server is used. The option can be used to force the TIMEZONE session parameter. <br>For more on this, refer to [this page](https://docs.snowflake.net/manuals/sql-reference/parameters.html#timezone). |\n|  WeekStart |  WEEK_START session parameter. By default set to 0. <br>For more on this, refer to [this page](https://docs.snowflake.com/en/sql-reference/parameters.html#week-start). |\n|  UseCachedResult | USE_CACHED_RESULTS session parameter. By default set to TRUE. This option can be used to disable Snowflake cached results. <br>For more on this, refer to [this page](https://docs.snowflake.net/manuals/user-guide/querying-persisted-results.html). |\n|  bulkThreads | Number of threads to use for Snowflake bulk-loader, more threads mean a better performance for bigger bulk-loads. By default set to 1. The number can be adjusted, depending on the machine thread count. |\n|  chunkSize | Determines the file size of the bulk-loader chunk. By default set to 128MB. Can be modified for a more optimal performance, when used with bulkThreads. More concurrently active threads mean better performance. <br>For more on this, refer to [Snowflake documentation](https://docs.snowflake.net/manuals/sql-reference/sql/put.html).|\n| StageName | Name of the pre-provisioned internal stage. It will be used in bulk load instead of creating a new temporary stage.|\n","headers":[["title","Configure access to Snowflake"],["description","Learn how to configure access to Snowflake in FDA"],["feature","Installation, Federated Data Access"],["topic-tags","connectors"]],"sections":[{"section":"Configure access to Snowflake","sectionId":"2924e505-7d99-44c5-872f-d0fd09696686","paragraphs":["Use Campaign Federated Data Access (FDA) option to process information stored in an external database. Follow the steps below to configure access to DNL Snowflake.","Configure DNL Snowflake on Linux.\nConfigure the DNL Snowflake external account in Campaign","NOTE","DNL Snowflake connector is available for hosted and on-premise deployments. For more on this, refer to this page."]},{"section":"Snowflake on Linux","sectionId":"5b6d1e3f-c241-4d0a-b0ac-dd1b71d262aa","paragraphs":["To configure DNL Snowflake on Linux, follow the steps below:","Before the ODBC installation, check that the following packages are installed on your Linux distribution:","For Red Hat/CentOS:","yum update\nyum upgrade\nyum install -y grep sed tar wget perl curl","For Debian:","apt-get update\napt-get upgrade\napt-get install -y grep sed tar wget perl curl","Before running the script, you can have access to more information with the --help option:","cd /usr/local/neolane/nl6/bin/fda-setup-scripts/\n./snowflake_odbc-setup.sh --help","Access the directory where the script is located and run the following script as a root user:","cd /usr/local/neolane/nl6/bin/fda-setup-scripts\n./snowflake_odbc-setup.sh","After installing the ODBC drivers, you need to restart Campaign Classic. To do so, run the following command:","systemctl stop nlserver.service\nsystemctl start nlserver.service","In Campaign, you can then configure your DNL Snowflake external account. For more on how to configure your external account, refer to this section."]},{"section":"Snowflake external account","sectionId":"c0f12d90-1b5d-4d40-842a-670a53ac67cd","paragraphs":["You need to create a DNL Snowflake] external account to connect your Campaign instance to your [!DNL Snowflake external database.","From Campaign Explorer, click Administration '>' Platform '>' External accounts.","Click New.","Select External database as your external account's Type.","Under Configuration, select DNL Snowflake from the Type drop-down.","","Add your Server URL and Database.","Configure the Snowflake external account authentication:","For Account/password authentication, you must specify:","Account: Name of the user","Password: User account password.","","For Keypair authentication, click the Keypair Auth tab to use your Private key to authenticate and copy paste your Private key.","Click the Parameters tab then the Deploy functions button to create functions.","NOTE","For all functions to be available, you need to create the Adobe Campaign SQL functions in the remote database. For more information, refer to this page.","","Click Save when your configuration is finished.","The connector supports the following options:","Option Description\nworkschema Database schema to use for work tables\nwarehouse Name of the default warehouse to use. It will override the user's default.\nTimeZoneName By default empty, which means that the system time zone of the Campaign Classic app server is used. The option can be used to force the TIMEZONE session parameter. For more on this, refer to this page.\nWeekStart WEEK_START session parameter. By default set to 0. For more on this, refer to this page.\nUseCachedResult USE_CACHED_RESULTS session parameter. By default set to TRUE. This option can be used to disable Snowflake cached results. For more on this, refer to this page.\nbulkThreads Number of threads to use for Snowflake bulk-loader, more threads mean a better performance for bigger bulk-loads. By default set to 1. The number can be adjusted, depending on the machine thread count.\nchunkSize Determines the file size of the bulk-loader chunk. By default set to 128MB. Can be modified for a more optimal performance, when used with bulkThreads. More concurrently active threads mean better performance. For more on this, refer to Snowflake documentation.\nStageName Name of the pre-provisioned internal stage. It will be used in bulk load instead of creating a new temporary stage."]}]}