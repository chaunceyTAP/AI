{"guid":"df6fd0e5-0922-459f-bf8c-af15a0cd74f9","title":"Configure the iOS mobile application in Adobe Campaign","path":"help\\delivery\\using\\configuring-the-mobile-application.md","fullText":"---\nproduct: campaign\ntitle: Configure the iOS mobile application in Adobe Campaign\ndescription: Learn how to set up your mobile application for iOS\nfeature: Push\nrole: User, Developer\nexl-id: 67eee1c5-a918-46b9-875d-7c3c71c00635\n---\n# Configuration steps for iOS {#configuring-the-mobile-application-in-adobe-campaign-ios}\n\nOnce the package is installed, you can define your iOS app settings in Adobe Campaign Classic.\n\nKey steps are:\n\n1. [Configure the iOS external account](#configuring-external-account-ios)\n1. [Configure the iOS service](#configuring-ios-service)\n1. [Integrate the iOS mobile app in Campaign](#creating-ios-app)\n\nYou will then be able to [create a push notification for iOS devices](create-notifications-ios.md).\n\n## Configure iOS external account {#configuring-external-account-ios}\n\nFor iOS, the iOS HTTP/2 connector sends notifications to the HTTP/2 APNs.\n\nTo configure this connector, follow these steps:\n\n1. Go to **[!UICONTROL Administration > Platform > External accounts]**.\n1. Select the **[!UICONTROL iOS routing]** external account.\n1. In the **[!UICONTROL Connector]** tab, fill in the **[!UICONTROL Access URL of the connector]** field with the following URL: ```http://localhost:8080/nms/jsp/iosHTTP2.jsp```\n\n   ![](assets/nmac_connectors.png)\n\n1. Click **[!UICONTROL Save]**.\n\nYour iOS connector is now configured. You can start creating your service.\n\n## Configure iOS service {#configuring-ios-service}\n\n>[!CAUTION]\n>\n>The application must have been configured for Push actions BEFORE any integration to Adobe SDK.\n>\n>If this is not the case, please refer to [this page](https://developer.apple.com/documentation/usernotifications).\n\n1. Go to the **[!UICONTROL Profiles and Targets > Services and subscriptions]** node and click **[!UICONTROL New]**.\n\n   ![](assets/nmac_service_1.png)\n\n1. Define a **[!UICONTROL Label]** and an **[!UICONTROL Internal name]**.\n1. Go to the **[!UICONTROL Type]** field and select **[!UICONTROL Mobile application]**.\n\n   >[!NOTE]\n   >\n   >The default **[!UICONTROL Subscriber applications (nms:appSubscriptionRcp)]** target mapping is linked to the recipients table. If you want to use a different target mapping, you need to create a new target mapping and enter it in the **[!UICONTROL Target mapping]** field of the service. For more on creating target mapping, refer to the [Configuration guide](../../configuration/using/about-custom-recipient-table.md).\n\n   ![](assets/nmac_ios.png)\n\n1. Then click the **[!UICONTROL Add]** button to select the application type.\n\n   ![](assets/nmac_service_2.png)\n\n1. Create your iOS Development and Production applications. For more on this, refer to this [section](configuring-the-mobile-application.md#creating-ios-app).\n\n## Create iOS mobile app {#creating-ios-app}\n\nAfter creating your service, create your iOS application in Campaign. Follow the steps below:\n\n1. From your newly created service, click the **[!UICONTROL Add]** button to select the application type.\n\n   ![](assets/nmac_service_2.png) \n\n1. The following window appears. Select **[!UICONTROL Create an iOS application]** and start by entering the **[!UICONTROL Label]**.\n\n   ![](assets/nmac_ios_2.png)\n\n1. As an option, you can enrich a push message content with some **[!UICONTROL Application variables]** if needed. These are fully customizable and a part of the message payload sent to the mobile device.\nIn the following example, we add **mediaURl** and **mediaExt** to create rich push notification and then provides the application with the image to display within the notification.\n\n   ![](assets/nmac_ios_3.png)\n\n1. The **[!UICONTROL Subscription parameters]** tab allows you to define the mapping with an extension of the **[!UICONTROL Subscriber applications (nms:appsubscriptionRcp)]** schema.\n\n    >[!NOTE]\n    >\n    >Make sure that you do not use the same certificate for the development version (sandbox) and the production version of the application.\n\n1. The **[!UICONTROL Sounds]** tab allows you to specify a sound to play. Click **[!UICONTROL Add]** and fill **[!UICONTROL Internal name]** field which must contain the name of the file embedded in the application or the name of the system sound.\n\n1. Click **[!UICONTROL Next]** to start configuring the development application.\n\n1. Make sure the same **[!UICONTROL Integration key]** is defined in Adobe Campaign and in the application code via the SDK. <!--For more on this, refer to [this page](integrating-campaign-sdk-into-the-mobile-application.md).--> This integration key, which is specific to each application, lets you link the mobile application to the Adobe Campaign platform.\n\n    >[!NOTE]\n    >\n    > The **[!UICONTROL Integration key]** is fully customizable with string value but needs to be exactly the same as the one specified in the SDK.\n\n1. Select one of the out-of-the-box icons from the **[!UICONTROL Application icon]** field to personalize mobile application in your service.\n\n1. Select the **[!UICONTROL Authentication mode]**. \n   \n   ![](assets/nmac_ios_5.png)\n\n   Two modes are available:\n\n   * (Recommended) **[!UICONTROL Token-based authentication]**: Fill in the APNs connection settings **[!UICONTROL Key Id]**, **[!UICONTROL Team Id]** and **[!UICONTROL Bundle Id]** then select your p8 certificate by clicking **[!UICONTROL Enter the private key...]**. For more on **[!UICONTROL Token-based authentication]**, refer to [Apple documentation](https://developer.apple.com/documentation/usernotifications/setting_up_a_remote_notification_server/establishing_a_token-based_connection_to_apns){target=\"_blank\"}.\n   \n   * **[!UICONTROL Certificate-based authentication]**: Click **[!UICONTROL Enter the certificate...]**  then select your p12 key and enter the password that was provided by the mobile application developer.\n\n    >[!NOTE]\n    >\n    > Adobe recommends using **[!UICONTROL Token-based authentication]** for your iOS configuration since P8 authentication keys are newer and more secure.\n\n1. Use the **[!UICONTROL Test the connection]** button to validate your configuration.\n\n1. Click **[!UICONTROL Next]** to start configuring the production application and follow the same steps as detailed above.\n\n\n1. Click **[!UICONTROL Finish]**.\n\nYour iOS application is now ready to be used in Campaign Classic.\n","headers":[["title","Configure the iOS mobile application in Adobe Campaign"],["description","Learn how to set up your mobile application for iOS"],["feature","Push"]],"sections":[{"section":"Configuration steps for iOS","sectionId":"32e0e934-c4fd-4ac3-8687-d713e5c5b947","paragraphs":["Once the package is installed, you can define your iOS app settings in Adobe Campaign Classic.","Key steps are:","Configure the iOS external account\nConfigure the iOS service\nIntegrate the iOS mobile app in Campaign","You will then be able to create a push notification for iOS devices."]},{"section":"Configure iOS external account","sectionId":"b601197c-708e-41f7-94ad-77b9616b0e26","paragraphs":["For iOS, the iOS HTTP/2 connector sends notifications to the HTTP/2 APNs.","To configure this connector, follow these steps:","Go to Administration > Platform > External accounts.","Select the iOS routing external account.","In the Connector tab, fill in the Access URL of the connector field with the following URL: http://localhost:8080/nms/jsp/iosHTTP2.jsp","Click Save.","Your iOS connector is now configured. You can start creating your service."]},{"section":"Configure iOS service","sectionId":"6766533f-d2b4-4af4-9bd7-1766a69a4d72","paragraphs":["CAUTION","The application must have been configured for Push actions BEFORE any integration to Adobe SDK.","If this is not the case, please refer to this page.","Go to the Profiles and Targets > Services and subscriptions node and click New.","Define a Label and an Internal name.","Go to the Type field and select Mobile application.","NOTE","The default Subscriber applications (nms:appSubscriptionRcp) target mapping is linked to the recipients table. If you want to use a different target mapping, you need to create a new target mapping and enter it in the Target mapping field of the service. For more on creating target mapping, refer to the Configuration guide.","Then click the Add button to select the application type.","Create your iOS Development and Production applications. For more on this, refer to this section."]},{"section":"Create iOS mobile app","sectionId":"92617762-6f02-4a4e-b5b2-bd33bfaac430","paragraphs":["After creating your service, create your iOS application in Campaign. Follow the steps below:","From your newly created service, click the Add button to select the application type.","","The following window appears. Select Create an iOS application and start by entering the Label.","As an option, you can enrich a push message content with some Application variables if needed. These are fully customizable and a part of the message payload sent to the mobile device.\nIn the following example, we add mediaURl and mediaExt to create rich push notification and then provides the application with the image to display within the notification.","The Subscription parameters tab allows you to define the mapping with an extension of the Subscriber applications (nms:appsubscriptionRcp) schema.","NOTE","Make sure that you do not use the same certificate for the development version (sandbox) and the production version of the application.","The Sounds tab allows you to specify a sound to play. Click Add and fill Internal name field which must contain the name of the file embedded in the application or the name of the system sound.","Click Next to start configuring the development application.","Make sure the same Integration key is defined in Adobe Campaign and in the application code via the SDK.  This integration key, which is specific to each application, lets you link the mobile application to the Adobe Campaign platform.","NOTE","The Integration key is fully customizable with string value but needs to be exactly the same as the one specified in the SDK.","Select one of the out-of-the-box icons from the Application icon field to personalize mobile application in your service.","Select the Authentication mode.","Two modes are available:","(Recommended) Token-based authentication: Fill in the APNs connection settings Key Id, Team Id and Bundle Id then select your p8 certificate by clicking Enter the private key.... For more on Token-based authentication, refer to Apple documentation.","Certificate-based authentication: Click Enter the certificate...  then select your p12 key and enter the password that was provided by the mobile application developer.","NOTE","Adobe recommends using Token-based authentication for your iOS configuration since P8 authentication keys are newer and more secure.","Use the Test the connection button to validate your configuration.","Click Next to start configuring the production application and follow the same steps as detailed above.","Click Finish.","Your iOS application is now ready to be used in Campaign Classic."]}]}