{"guid":"e3d9ba54-e8a4-4c9f-9307-9129d904b399","title":"Integration into a Web server for Linux","path":"help\\installation\\using\\integration-into-a-web-server-for-linux.md","fullText":"---\nproduct: campaign\ntitle: Integration into a Web server for Linux\ndescription: Learn how to integrate Campaign into a Web server (Linux)\nfeature: Installation, Instance Settings\nbadge-v7-prem: label=\"On-premise/hybrid only\" type=\"Caution\" url=\"https://experienceleague.adobe.com/docs/campaign-classic/using/installing-campaign-classic/architecture-and-hosting-models/hosting-models-lp/hosting-models.html\" tooltip=\"Applies to on-premise and hybrid deployments only\"\naudience: installation\ncontent-type: reference\ntopic-tags: installing-campaign-in-linux-\nexl-id: 4f8ea358-a38d-4137-9dea-f398e60c5f5d\n---\n# Integration into a Web server for Linux {#integration-into-a-web-server-for-linux}\n\n\nAdobe Campaign includes Apache Tomcat which acts as the entry point in the application server via HTTP (and SOAP).\n\nYou can use this integrated Tomcat server to serve HTTP requests.\n\nIn this case:\n\n* the default listening port is 8080. To change it, refer to [this section](configure-tomcat.md).\n* The client consoles then connect using a URL such as:\n\n  ```\n  https://<computer>:8080\n  ```\n\nHowever, for security and administration reasons, we recommend using a dedicated Web server as the main entry point for HTTP traffic when the computer that is running Adobe Campaign is exposed on the Internet and you wish to open access to the console outside of your network.\n\nA Web server also lets you guarantee data confidentiality with the HTTPs protocol.\n\nLikewise, you must use a Web server when you wish to use the tracking functionality, which is only available as an extension module to a Web server.\n\n>[!NOTE]\n>\n>If you do not use the tracking functionality, you can perform a standard installation of Apache or IIS with a redirection to Campaign. The tracking Web server extension module is not required.\n\n## Configuring the Apache Web server with Debian {#configuring-the-apache-web-server-with-debian}\n\nThis process applies if you have installed Apache under a distribution based on APT.\n\nApply the following steps:\n\n1. Disable the modules loaded by default using the following command:\n\n   ```\n   a2dismod auth_basic authn_file authz_default authz_user autoindex cgi dir env negotiation userdir\n   ```\n\n   Ensure that the **alias**, **authz_host** and **mime** modules are still enabled. To do this, use the following command:\n\n   ```\n   a2enmod  alias authz_host mime\n   ```\n\n1. Create the file **nlsrv.load** in **/etc/apache2/mods-available** and insert the following content:\n\n   In Debian 8:\n\n   ```\n   LoadModule requesthandler24_module /usr/local/[INSTALL]/nl6/lib/libnlsrvmod.so\n   ```\n\n1. Create the file **nlsrv.conf** in **/etc/apache2/mods-available** using the following command:\n\n   ```\n   ln -s /usr/local/[INSTALL]/nl6/conf/apache_neolane.conf /etc/apache2/mods-available/nlsrv.conf\n   ```\n\n1. Activate this module with the following command:\n\n   ```\n    a2enmod nlsrv\n   ```\n\n   If you are using the **mod_rewrite** module for Adobe Campaign pages, you need to rename the **nlsrv.load** and **nlsrv.conf** files to **zz-nlsrv.load** and **zz-nlsrv.conf**. To activate the module, run the following command:\n\n   ```\n   a2enmod zz-nlsrv\n   ```\n\n1. Edit the **/etc/apache2/envvars** file, add the following lines:\n\n   ```\n   # Added Neolane\n   if [ \"$LD_LIBRARY_PATH\" != \"\" ]; then export LD_LIBRARY_PATH=\"/usr/local/neolane/nl6/lib:$LD_LIBRARY_PATH\"; else export LD_LIBRARY_PATH=/usr/local/neolane/nl6/lib; fi\n   export USERPATH=/usr/local/neolane\n   ```\n\n   Save the changes.\n\n1. Then add Adobe Campaign users to the Apache user group and vice versa using the following type of command:\n\n    ```\n    usermod neolane -G www-data\n    usermod www-data -G neolane\n    ```\n\n1. Restart Apache:\n\n    ```\n    invoke-rc.d apache2 restart\n    ```\n\n## Configuring Apache web server in RHEL {#configuring-apache-web-server-in-rhel}\n\nThis procedure applies if you have installed and secured Apache under a RPM (RHEL, CentOS and Suse) based package.\n\nApply the following steps:\n\n1. In the `httpd.conf` file, activate the following Apache modules:\n\n    ```\n    alias\n    authz_host\n    mime\n    ```\n\n1. Deactivate the following modules:\n\n    ```\n    auth_basic\n    authn_file\n    authz_default\n    authz_user\n    autoindex\n    cgi\n    dir\n    env\n    negotiation\n    userdir\n    ```\n\n   Comment the functions linked to deactivated modules:\n\n    ```\n    DirectoryIndex\n    IndexOptions    \n    AddIconByEncoding    \n    AddIconByType    \n    AddIcon    \n    DefaultIcon    \n    ReadmeName    \n    HeaderName    \n    IndexIgnore    \n    LanguagePriority    \n    ForceLanguagePriority\n    ```\n\n1. Create an Adobe Campaign specific configuration file in the `/etc/httpd/conf.d/` folder. For example `CampaignApache.conf`\n\n1. For **RHEL7**, add the following instructions in the file:\n\n    ```\n    LoadModule requesthandler24_module /usr/local/neolane/nl6/lib/libnlsrvmod.so\n    Include /usr/local/neolane/nl6/conf/apache_neolane.conf\n    ```\n\n1. For **RHEL7**:\n\n   Add the `/etc/systemd/system/httpd.service` file with the following content:\n\n    ```\n    .include /usr/lib/systemd/system/httpd.service\n    \n    [Service]\n    Environment=USERPATH=/usr/local/neolane LD_LIBRARY_PATH=/usr/local/neolane/nl6/lib\n    ```\n\n   Update the module used by systemd:\n\n    ```\n    systemctl daemon-reload\n    ```\n\n1. Then add Adobe Campaign operators into the Apache operators group and vice-versa, by running the command:\n\n    ```\n    usermod -a -G neolane apache\n    usermod -a -G apache neolane\n    ```\n\n   The group names to use depend on the way Apache is configured.\n\n1. Run Apache and the Adobe Campaign server.\n\n   For RHEL7:\n\n    ```\n    systemctl start httpd\n    systemctl start nlserver\n    ```\n\n## Launching the Web server and testing the configuration{#launching-the-web-server-and-testing-the-configuration}\n\nYou can now test the configuration by starting Apache. The Adobe Campaign module should now display its banner on the console (two banners on certain operating systems):\n\n```\n /etc/init.d/apache start\n```\n\nThe following information is displayed:\n\n```sql\n12:26:28 >   Application server for Adobe Campaign Classic (7.X YY.R build XXX@SHA1) of DD/MM/YYYY\n12:26:28 >   Web server start (pid=29698, tid=-1212463424)...\n12:26:28 >   Server started\n12:26:28 >   Application server for Adobe Campaign Classic (7.X YY.R build XXX@SHA1) of DD/MM/YYYY\n12:26:28 >   Web server start (pid=29698, tid=-1212463424)...\n12:26:28 >   Server started\n```\n\nNext check that it responds by submitting a test URL.\n\nYou can test this from the command line by executing:\n\n```\n telnet localhost 80  \n```\n\nYou should obtain:\n\n```\nTrying 127.0.0.1...\nConnected to localhost.localdomain.\nEscape character is '^]'.\n```\n\nThen enter:\n\n```\nGET /r/test\n```\n\nThe following information is displayed:\n\n```\n<redir status='OK' date='YYYY/MM/DD HH:MM:SS' build='XXXX' host='' localHost='XXXX'/>\nConnection closed by foreign host.\n```\n\nYou can also request the URL `https://myserver.adobe.com/r/test` from a Web browser.\n","headers":[["title","Integration into a Web server for Linux"],["description","Learn how to integrate Campaign into a Web server (Linux)"],["feature","Installation, Instance Settings"],["topic-tags","installing-campaign-in-linux-"]],"sections":[{"section":"Integration into a Web server for Linux","sectionId":"2f8676f2-c047-4101-b990-3aad6399e717","paragraphs":["Adobe Campaign includes Apache Tomcat which acts as the entry point in the application server via HTTP (and SOAP).","You can use this integrated Tomcat server to serve HTTP requests.","In this case:","the default listening port is 8080. To change it, refer to this section.","The client consoles then connect using a URL such as:","https://<computer>:8080","However, for security and administration reasons, we recommend using a dedicated Web server as the main entry point for HTTP traffic when the computer that is running Adobe Campaign is exposed on the Internet and you wish to open access to the console outside of your network.","A Web server also lets you guarantee data confidentiality with the HTTPs protocol.","Likewise, you must use a Web server when you wish to use the tracking functionality, which is only available as an extension module to a Web server.","NOTE","If you do not use the tracking functionality, you can perform a standard installation of Apache or IIS with a redirection to Campaign. The tracking Web server extension module is not required."]},{"section":"Configuring the Apache Web server with Debian","sectionId":"c04c1cd6-ac4c-4999-9ca2-54d02a3dfe1e","paragraphs":["This process applies if you have installed Apache under a distribution based on APT.","Apply the following steps:","Disable the modules loaded by default using the following command:","a2dismod auth_basic authn_file authz_default authz_user autoindex cgi dir env negotiation userdir","Ensure that the alias, authz_host and mime modules are still enabled. To do this, use the following command:","a2enmod  alias authz_host mime","Create the file nlsrv.load in /etc/apache2/mods-available and insert the following content:","In Debian 8:","LoadModule requesthandler24_module /usr/local/[INSTALL]/nl6/lib/libnlsrvmod.so","Create the file nlsrv.conf in /etc/apache2/mods-available using the following command:","ln -s /usr/local/[INSTALL]/nl6/conf/apache_neolane.conf /etc/apache2/mods-available/nlsrv.conf","Activate this module with the following command:","a2enmod nlsrv","If you are using the mod_rewrite module for Adobe Campaign pages, you need to rename the nlsrv.load and nlsrv.conf files to zz-nlsrv.load and zz-nlsrv.conf. To activate the module, run the following command:","a2enmod zz-nlsrv","Edit the /etc/apache2/envvars file, add the following lines:","# Added Neolane\nif [ \"$LD_LIBRARY_PATH\" != \"\" ]; then export LD_LIBRARY_PATH=\"/usr/local/neolane/nl6/lib:$LD_LIBRARY_PATH\"; else export LD_LIBRARY_PATH=/usr/local/neolane/nl6/lib; fi\nexport USERPATH=/usr/local/neolane","Save the changes.","Then add Adobe Campaign users to the Apache user group and vice versa using the following type of command:","usermod neolane -G www-data\nusermod www-data -G neolane","Restart Apache:","invoke-rc.d apache2 restart","Configuring Apache web server in RHEL","This procedure applies if you have installed and secured Apache under a RPM (RHEL, CentOS and Suse) based package.","Apply the following steps:","In the httpd.conf file, activate the following Apache modules:","alias\nauthz_host\nmime","Deactivate the following modules:","auth_basic\nauthn_file\nauthz_default\nauthz_user\nautoindex\ncgi\ndir\nenv\nnegotiation\nuserdir","Comment the functions linked to deactivated modules:","DirectoryIndex\nIndexOptions    \nAddIconByEncoding    \nAddIconByType    \nAddIcon    \nDefaultIcon    \nReadmeName    \nHeaderName    \nIndexIgnore    \nLanguagePriority    \nForceLanguagePriority","Create an Adobe Campaign specific configuration file in the /etc/httpd/conf.d/ folder. For example CampaignApache.conf","For RHEL7, add the following instructions in the file:","LoadModule requesthandler24_module /usr/local/neolane/nl6/lib/libnlsrvmod.so\nInclude /usr/local/neolane/nl6/conf/apache_neolane.conf","For RHEL7:","Add the /etc/systemd/system/httpd.service file with the following content:",".include /usr/lib/systemd/system/httpd.service","[Service]\nEnvironment=USERPATH=/usr/local/neolane LD_LIBRARY_PATH=/usr/local/neolane/nl6/lib","Update the module used by systemd:","systemctl daemon-reload","Then add Adobe Campaign operators into the Apache operators group and vice-versa, by running the command:","usermod -a -G neolane apache\nusermod -a -G apache neolane","The group names to use depend on the way Apache is configured.","Run Apache and the Adobe Campaign server.","For RHEL7:","systemctl start httpd\nsystemctl start nlserver","Launching the Web server and testing the configuration","You can now test the configuration by starting Apache. The Adobe Campaign module should now display its banner on the console (two banners on certain operating systems):","/etc/init.d/apache start","The following information is displayed:","12:26:28 >   Application server for Adobe Campaign Classic (7.X YY.R build XXX@SHA1) of DD/MM/YYYY\n12:26:28 >   Web server start (pid=29698, tid=-1212463424)...\n12:26:28 >   Server started\n12:26:28 >   Application server for Adobe Campaign Classic (7.X YY.R build XXX@SHA1) of DD/MM/YYYY\n12:26:28 >   Web server start (pid=29698, tid=-1212463424)...\n12:26:28 >   Server started","Next check that it responds by submitting a test URL.","You can test this from the command line by executing:","telnet localhost 80","You should obtain:","Trying 127.0.0.1...\nConnected to localhost.localdomain.\nEscape character is '^]'.","Then enter:","GET /r/test","The following information is displayed:","<redir status='OK' date='YYYY/MM/DD HH:MM:SS' build='XXXX' host='' localHost='XXXX'/>\nConnection closed by foreign host."]},{"section":"Added Neolane","sectionId":"dcdbf367-719a-446c-a108-399e27d5b8fa","paragraphs":["Integration into a Web server for Linux","Adobe Campaign includes Apache Tomcat which acts as the entry point in the application server via HTTP (and SOAP).","You can use this integrated Tomcat server to serve HTTP requests.","In this case:","the default listening port is 8080. To change it, refer to this section.","The client consoles then connect using a URL such as:","https://<computer>:8080","However, for security and administration reasons, we recommend using a dedicated Web server as the main entry point for HTTP traffic when the computer that is running Adobe Campaign is exposed on the Internet and you wish to open access to the console outside of your network.","A Web server also lets you guarantee data confidentiality with the HTTPs protocol.","Likewise, you must use a Web server when you wish to use the tracking functionality, which is only available as an extension module to a Web server.","NOTE","If you do not use the tracking functionality, you can perform a standard installation of Apache or IIS with a redirection to Campaign. The tracking Web server extension module is not required.","Configuring the Apache Web server with Debian","This process applies if you have installed Apache under a distribution based on APT.","Apply the following steps:","Disable the modules loaded by default using the following command:","a2dismod auth_basic authn_file authz_default authz_user autoindex cgi dir env negotiation userdir","Ensure that the alias, authz_host and mime modules are still enabled. To do this, use the following command:","a2enmod  alias authz_host mime","Create the file nlsrv.load in /etc/apache2/mods-available and insert the following content:","In Debian 8:","LoadModule requesthandler24_module /usr/local/[INSTALL]/nl6/lib/libnlsrvmod.so","Create the file nlsrv.conf in /etc/apache2/mods-available using the following command:","ln -s /usr/local/[INSTALL]/nl6/conf/apache_neolane.conf /etc/apache2/mods-available/nlsrv.conf","Activate this module with the following command:","a2enmod nlsrv","If you are using the mod_rewrite module for Adobe Campaign pages, you need to rename the nlsrv.load and nlsrv.conf files to zz-nlsrv.load and zz-nlsrv.conf. To activate the module, run the following command:","a2enmod zz-nlsrv","Edit the /etc/apache2/envvars file, add the following lines:","# Added Neolane\nif [ \"$LD_LIBRARY_PATH\" != \"\" ]; then export LD_LIBRARY_PATH=\"/usr/local/neolane/nl6/lib:$LD_LIBRARY_PATH\"; else export LD_LIBRARY_PATH=/usr/local/neolane/nl6/lib; fi\nexport USERPATH=/usr/local/neolane","Save the changes.","Then add Adobe Campaign users to the Apache user group and vice versa using the following type of command:","usermod neolane -G www-data\nusermod www-data -G neolane","Restart Apache:","invoke-rc.d apache2 restart"]},{"section":"Configuring Apache web server in RHEL","sectionId":"a05229c2-d489-4687-9a37-312641d817e2","paragraphs":["This procedure applies if you have installed and secured Apache under a RPM (RHEL, CentOS and Suse) based package.","Apply the following steps:","In the httpd.conf file, activate the following Apache modules:","alias\nauthz_host\nmime","Deactivate the following modules:","auth_basic\nauthn_file\nauthz_default\nauthz_user\nautoindex\ncgi\ndir\nenv\nnegotiation\nuserdir","Comment the functions linked to deactivated modules:","DirectoryIndex\nIndexOptions    \nAddIconByEncoding    \nAddIconByType    \nAddIcon    \nDefaultIcon    \nReadmeName    \nHeaderName    \nIndexIgnore    \nLanguagePriority    \nForceLanguagePriority","Create an Adobe Campaign specific configuration file in the /etc/httpd/conf.d/ folder. For example CampaignApache.conf","For RHEL7, add the following instructions in the file:","LoadModule requesthandler24_module /usr/local/neolane/nl6/lib/libnlsrvmod.so\nInclude /usr/local/neolane/nl6/conf/apache_neolane.conf","For RHEL7:","Add the /etc/systemd/system/httpd.service file with the following content:",".include /usr/lib/systemd/system/httpd.service","[Service]\nEnvironment=USERPATH=/usr/local/neolane LD_LIBRARY_PATH=/usr/local/neolane/nl6/lib","Update the module used by systemd:","systemctl daemon-reload","Then add Adobe Campaign operators into the Apache operators group and vice-versa, by running the command:","usermod -a -G neolane apache\nusermod -a -G apache neolane","The group names to use depend on the way Apache is configured.","Run Apache and the Adobe Campaign server.","For RHEL7:","systemctl start httpd\nsystemctl start nlserver"]},{"section":"Launching the Web server and testing the configuration","sectionId":"bb1e6ef0-ce3d-4001-a00a-8e2241e07640","paragraphs":["You can now test the configuration by starting Apache. The Adobe Campaign module should now display its banner on the console (two banners on certain operating systems):","/etc/init.d/apache start","The following information is displayed:","12:26:28 >   Application server for Adobe Campaign Classic (7.X YY.R build XXX@SHA1) of DD/MM/YYYY\n12:26:28 >   Web server start (pid=29698, tid=-1212463424)...\n12:26:28 >   Server started\n12:26:28 >   Application server for Adobe Campaign Classic (7.X YY.R build XXX@SHA1) of DD/MM/YYYY\n12:26:28 >   Web server start (pid=29698, tid=-1212463424)...\n12:26:28 >   Server started","Next check that it responds by submitting a test URL.","You can test this from the command line by executing:","telnet localhost 80","You should obtain:","Trying 127.0.0.1...\nConnected to localhost.localdomain.\nEscape character is '^]'.","Then enter:","GET /r/test","The following information is displayed:","<redir status='OK' date='YYYY/MM/DD HH:MM:SS' build='XXXX' host='' localHost='XXXX'/>\nConnection closed by foreign host.","You can also request the URL https://myserver.adobe.com/r/test from a Web browser."]}]}