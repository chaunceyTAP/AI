{"guid":"424dfbfb-68f5-4d75-b189-940e762b2751","title":"SOAP methods in JavaScript","path":"help\\configuration\\using\\soap-methods-in-javascript.md","fullText":"---\nproduct: campaign\ntitle: SOAP methods in JavaScript\nfeature: Configuration, Instance Settings\ndescription: SOAP methods in JavaScript\nrole: Data Engineer, Developer\nexl-id: 62020447-fe59-4363-994d-de4d8032bbd7\n---\n# SOAP methods in JavaScript{#soap-methods-in-javascript}\n\nThis is the JavaScript executed on the Adobe Campaign server.\n\n## Static methods {#static-methods}\n\nStatic SOAP methods are accessed by invoking a method on the object representing the schema. Schemas are properties of 'namespace' objects. These namespaces are global variables, thus, for example, xtk or nms variables represent the corresponding namespaces\n\nThe following example invokes the static PostEvent method of the xtk:workflow schema:\n\n```\nxtk.workflow.PostEvent(\"WKF1\", \"signal\", \"\", $recipient-id='123', false) \n\n```\n\n## Non-static methods {#non-static-methods}\n\nTo use non-static SOAP methods, it is necessary first to retrieve an entity using the \"get\" or \"create\" methods on the corresponding schemas.\n\nThe following example invokes the ExecuteQuery method of the \"xtk:queryDef\" schema:\n\n```\nvar query = xtk.queryDef.create(\n  <queryDef schema=\"xtk:workflow\" operation=\"select\">\n    <select>\n      <node expr=\"@internalName\"/>\n    </select>\n  </queryDef>\n)\n\nvar res = query.ExecuteQuery()\n\nfor each (var w in res.workflow) \n  logInfo(w.@internalName)\n\n```\n\n## Examples {#examples}\n\n* Query on the recipient table with a \"get\" operation:\n\n  ```\n  var query = xtk.queryDef.create(  \n    <queryDef schema=\"nms:recipient\" operation=\"get\">    \n      <select>      \n        <node expr=\"@firstName\"/>      \n        <node expr=\"@lastName\"/>      \n        <node expr=\"@email\"/>    \n      </select>    \n      <where>      \n        <condition expr=\"@email = 'peter.martinez@adobe.com'\"/>    \n      </where>  \n    </queryDef>)\n  \n  var recipient = query.ExecuteQuery()\n  \n  logInfo(recipient.@firstName)\n  logInfo(recipient.@lastName)\n  \n  ```\n\n* Query on the recipient table with a \"select\" operation:\n\n  ```\n  var query = xtk.queryDef.create(  \n    <queryDef schema=\"nms:recipient\" operation=\"select\">    \n      <select>      \n        <node expr=\"@email\"/>      \n        <node expr=\"@lastName\"/>      \n        <node expr=\"@firstName\"/>    \n      </select>    \n      <where>      \n        <condition expr=\"@age > 25\"/>    \n      </where>    \n    </queryDef>)\n  \n  var res = query.ExecuteQuery()\n  \n  for each (var recipient in res.recipient) \n  {  \n    logInfo(recipient.@email)  \n    logInfo(recipient.@firstName)  \n    logInfo(recipient.@lastName)\n  }\n  ```\n\n* Writing data to the recipient table:\n\n  ```\n  xtk.session.Write(<recipient _operation=\"insert\" lastName=\"Martinez\" firstName=\"Peter\" xtkschema=\"nms:recipient\"/>);\n  ```\n","headers":[["title","SOAP methods in JavaScript"],["feature","Configuration, Instance Settings"],["description","SOAP methods in JavaScript"]],"sections":[{"section":"SOAP methods in JavaScript","sectionId":"6f65e72c-447e-4aa9-be62-0130fef70a3a","paragraphs":["This is the JavaScript executed on the Adobe Campaign server."]},{"section":"Static methods","sectionId":"139b847b-4f6b-4e6e-878c-3e832ddb273d","paragraphs":["Static SOAP methods are accessed by invoking a method on the object representing the schema. Schemas are properties of 'namespace' objects. These namespaces are global variables, thus, for example, xtk or nms variables represent the corresponding namespaces","The following example invokes the static PostEvent method of the xtk:workflow schema:","xtk.workflow.PostEvent(\"WKF1\", \"signal\", \"\", $recipient-id='123', false)"]},{"section":"Non-static methods","sectionId":"dce86ec2-76fb-44c4-8ed4-67d340857462","paragraphs":["To use non-static SOAP methods, it is necessary first to retrieve an entity using the \"get\" or \"create\" methods on the corresponding schemas.","The following example invokes the ExecuteQuery method of the \"xtk:queryDef\" schema:","var query = xtk.queryDef.create(\n  <queryDef schema=\"xtk:workflow\" operation=\"select\">\n    <select>\n      <node expr=\"@internalName\"/>\n    </select>\n  </queryDef>\n)","var res = query.ExecuteQuery()","for each (var w in res.workflow) \n  logInfo(w.@internalName)"]},{"section":"Examples","sectionId":"0b8e547c-8c34-457a-8aac-12d012dc676e","paragraphs":["Query on the recipient table with a \"get\" operation:","var query = xtk.queryDef.create(  \n  <queryDef schema=\"nms:recipient\" operation=\"get\">    \n    <select>      \n      <node expr=\"@firstName\"/>      \n      <node expr=\"@lastName\"/>      \n      <node expr=\"@email\"/>    \n    </select>    \n    <where>      \n      <condition expr=\"@email = 'peter.martinez@adobe.com'\"/>    \n    </where>  \n  </queryDef>)","var recipient = query.ExecuteQuery()","logInfo(recipient.@firstName)\nlogInfo(recipient.@lastName)","Query on the recipient table with a \"select\" operation:","var query = xtk.queryDef.create(  \n  <queryDef schema=\"nms:recipient\" operation=\"select\">    \n    <select>      \n      <node expr=\"@email\"/>      \n      <node expr=\"@lastName\"/>      \n      <node expr=\"@firstName\"/>    \n    </select>    \n    <where>      \n      <condition expr=\"@age > 25\"/>    \n    </where>    \n  </queryDef>)","var res = query.ExecuteQuery()","for each (var recipient in res.recipient) \n{  \n  logInfo(recipient.@email)  \n  logInfo(recipient.@firstName)  \n  logInfo(recipient.@lastName)\n}","Writing data to the recipient table:","xtk.session.Write(<recipient _operation=\"insert\" lastName=\"Martinez\" firstName=\"Peter\" xtkschema=\"nms:recipient\"/>);"]}]}