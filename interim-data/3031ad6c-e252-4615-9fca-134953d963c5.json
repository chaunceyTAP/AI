{"guid":"3031ad6c-e252-4615-9fca-134953d963c5","title":"Installing packages with Linux","path":"help\\installation\\using\\installing-packages-with-linux.md","fullText":"---\nproduct: campaign\ntitle: Installing packages with Linux\ndescription: Installing packages with Linux\nfeature: Installation, Application Settings\nbadge-v7-prem: label=\"On-premise/hybrid only\" type=\"Caution\" url=\"https://experienceleague.adobe.com/docs/campaign-classic/using/installing-campaign-classic/architecture-and-hosting-models/hosting-models-lp/hosting-models.html\" tooltip=\"Applies to on-premise and hybrid deployments only\"\naudience: installation\ncontent-type: reference\ntopic-tags: installing-campaign-in-linux-\nexl-id: f41c7510-5ad7-44f3-9485-01f54994b6cb\n---\n# Installing packages with Linux{#installing-packages-with-linux}\n\nAdobe Campaign comes with the **nlserver** package which contains the binaries and configuration files for a given version.\n\nThe installation commands enables you to:\n\n* Copy the files to **/usr/local/neolane**\n* Create an Adobe Campaign Linux account (and the associated group), which is created with **/usr/local/neolane** as its home directory\n* Create an automatic script **/etc/init.d/nlserver6** for use at startup, or create a systemd unit\n\n>[!NOTE]\n>\n>The **neolane** system user must not have been created before the command was run. The **neolane** user is created automatically during installation.\n>\n>The **home** directory linked to the **neolane** user is also created automatically in **[!UICONTROL /usr/local/neolane]**. Please make sure there is sufficient space on the **[!UICONTROL /usr/local]** disk.\n\nYou can run the **ping `hostname`** command to make sure the server can reach itself.\n\n## Distribution based on RPM packages {#distribution-based-on-rpm--packages}\n\nTo install Adobe Campaign onto an RPM (RHEL, CentOS) operating system, follow these steps:\n\n1. Get the Adobe Campaign package. The name of the file is **nlserver6-v7-XXXX-0.x86_64.rpm**, where **XXXX** is the Adobe Campaign build number.\n\n   >[!CAUTION]\n   >\n   >Make sure you use the correct file name for your version of Adobe Campaign in the command samples of this section.\n\n1. To install it, connect as **root** and execute the following command, where **XXXX** is the Adobe Campaign build number:\n\n   ```\n   yum install nlserver6-v7-XXXX-0.x86_64.rpm\n   ```\n\n   The rpm file has dependencies on packages that you can find on CentOS/Red Hat distributions. If you don't want to use some of these dependencies (for example, if you want to use Oracle JDK instead of OpenJDK), you may have to use the \"nodeps\" option of rpm:\n\n   ```\n   rpm --nodeps -Uvh nlserver6-v7-XXXX-0.x86_64.rpm\n   ```\n\nThe `bc` command, mandatory for executing the [netreport](../../production/using/monitoring-processes.md#automatic-monitoring-via-adobe-campaign-scripts), is not available by default on all Linux distributions. To check whether the command is available, run the `which bc` command. If not, you have to install it.\n\nWith CentOS, you must install the bc.x86_64 package: connect as **root** and run the following command:\n\n```\nyum install bc.x86_64\n```\n\n## Distribution based on APT (Debian) {#distribution-based-on-apt--debian-}\n\nTo install Adobe Campaign on a Debian 64 bit operating system, apply the following steps:\n\n1. Get the Adobe Campaign package. The name of the file is **nlserver6-v7-XXXX-linux-2.6-amd64.deb**, where **XXXX** is the Adobe Campaign build number.\n\n   >[!CAUTION]\n   >\n   >Make sure you use the correct file name for your version of Adobe Campaign in the command samples of this section.\n\n1. To install it, connect as **root** and execute the following command, where **XXXX** is the Adobe Campaign build number:\n\n   ```\n   dpkg -i nlserver6-v7-XXXX-linux-2.6-amd64.deb\n   ```\n\n   If there are missing dependencies, run the following command: \n\n   ```\n   apt-get install -f\n   ```\n\n\n1. When installing Adobe Campaign on a Debian operating system, consider the following:\n\n  * OpenSSL must be installed beforehand.\n  * Install libicu and libc-aresYY, where XX is the version, with the following commands:\n\n    ```\n    apt install libicuXX\n    ```\n\n    ```\n    apt install libc-aresXX\n    ```\n\n    ```\n    apt install openjdk-XX-jdk\n    ```\n\n## Personalizing parameters {#personalizing-parameters}\n\nSome parameters can be personalized via the **customer.sh** file\n\nIf you are performing the installation for the first time, the **customer.sh** file might not yet exist on the server. \n\nCreate it and make sure it has execution rights. If this is not the case, enter the following command:\n\n```\nchmod +x /usr/local/neolane/nl6/customer.sh\n```\n\n### Server encoding {#server-encoding}\n\nBy default, the server is started in an iso8859-15 environment. Nevertheless, the server can be started in an UTF-8 environment.\n\n>[!CAUTION]\n>\n>This change impacts the interactions with the file system (files loaded via a workflow or a JavaScript script) and on the file encoding. We therefore recommend using the default environment.\n\nTo create a **Japanese instance**, you must use a UTF-8 environment.\n\nTo enable the UTF-8 environment, use the following command:\n\n```\nmkdir -p /usr/local/neolane/nl6 \ntouch /usr/local/neolane/nl6/unicodeenv\n```\n\n### Environment variables {#environment-variables}\n\nThe following environment variables must be defined correctly.\n\nCertain combinations require changes to the environment used for executing Adobe Campaign. A specific file (`/usr/local/neolane/nl6/customer.sh`) can be created and edited to add modifications specific to the Adobe Campaign environment.\n\nIf necessary, edit the **customer.sh** file using the **vi customer.sh** command and adapt the configuration or add missing lines:\n\n* For the Oracle client:\n\n  ```\n  export ORACLE_HOME=/usr/local/instantclient_10_2\n  export TNS_ADMIN=/etc/oracle\n  export LD_LIBRARY_PATH=$ORACLE_HOME/lib:$LD_LIBRARY_PATH \n  ```\n\n  The content of the ORACLE_HOME environment variable matches the Oracle installation directory.\n\n  The content of the TNS_ADMIN variable has to match the location of the **tnsnames.ora** file.\n\n* For LibreOffice:\n\n  To run Adobe Campaign on an existing version of LibreOffice, additional configurations are required: you need to specify the access paths to the installation directory. For instance:\n\n    * Debian\n\n      Default values for OOO_INSTALL_DIR and OOO_BASIS_INSTALL_DIR are provided. You can override them in **customer.sh** if your layout of the LibreOffice installation is different:\n\n      ```    \n      export OOO_BASIS_INSTALL_DIR=/usr/lib/libreoffice/ \n      export OOO_INSTALL_DIR=/usr/lib/libreoffice/\n      ```\n\n    * CentOs\n\n      Use the following default values:\n\n      ```    \n      export OOO_BASIS_INSTALL_DIR=/usr/lib64/libreoffice/\n      export OOO_INSTALL_DIR=/usr/lib64/libreoffice/\n      ```\n\n* For Java Development Kit (JDK):\n\n  By default, the configuration script of the Adobe Campaign environment (`~/nl6/env.sh`) searches for the JDK installation directory. However, it is recommended to specify which JDK needs to be used. To do this, you can force the **JDK_HOME** environment variable using the following command:\n\n  ```\n  export JDK_HOME=/usr/java/jdkX.Y.Z\n  ```\n\n  >[!NOTE]\n  >\n  >Make sure that the JDK version used matches the directory name.\n\n  To test the JDK configuration, log in as the Adobe Campaign system user with the following command:\n\n  ```\n  su - neolane\n  ```\n\nYou must restart the Adobe Campaign service in order for the changes to be taken into account.\n\nThe commands are as follows:\n\n```\nsystemctl stop nlserver\nsystemctl start nlserver\n```\n\n### Oracle Client in Linux {#oracle-client-in-linux}\n\nWhen using Oracle with Adobe Campaign, you need to configure the Oracle client layers in Linux.\n\n* Use the full client\n* TNS definition\n\n  The TNS definitions must be added during the installation phase. To do this, use the following commands:\n\n  ```\n  cd /etc\n  mkdir oracle\n  cd oracle\n  vi tnsnames.ora\n  ```\n\n* Environment variables\n\n  Refer to [Environment variables](#environment-variables).\n\n* Configuration for Adobe Campaign\n\n  To finalize the installation of the Oracle client for Adobe Campaign, you need to create a symbolic link for the **.so** file used by Adobe Campaign.\n\n  To do this, use the following commands:\n\n  ```\n  cd /usr/lib/oracle/10.2.0.4/client/lib\n  ln -s libclntsh.so.10.1 libclntsh.so\n  ```\n\nIn case of an issue, make sure the packages listed in the Oracle installation documentation are correctly installed.\n\n## Installation checks {#installation-checks}\n\nYou can now perform an initial installation test using the following commands:\n\n```\nsu - neolane\nnlserver pdump\n```\n\nWhen Adobe Campaign is not started, the response is:\n\n```\nno task\n```\n\n## First start-up of the server {#first-start-up-of-the-server}\n\nOnce the installation test is complete, enter the following command:\n\n```\nnlserver web\n```\n\nThe following information is then displayed:\n\n```sql\n17:11:03 >   Application server for Adobe Campaign Classic (7.X YY.R build XXX@SHA1) of DD/MM/YYYY\n17:11:03 >   Web server start (pid=17546, tid=-151316352)...\n17:11:03 >   Creating server configuration file '/usr/local/[INSTALL]/nl6/conf/serverConf.xml' via '/usr/local/[INSTALL]/nl6/conf/fra/serverConf.xml.sample'\n17:11:03 >   Creating server configuration file '/usr/local/[INSTALL]/nl6/conf/config-default.xml' via '/usr/local/[INSTALL]/nl6/conf/models/config-default.xml'\n17:11:03 >   Server started\n17:11:08 >   Stop requested (pid=17546)\n17:11:08 >   Web server stop(pid=17546, tid=-151316352)...\n```\n\nThese commands let you create **config-default.xml** and **serverConf.xml** configuration files. All the parameters available in the **serverConf.xml** are listed in this [section](../../installation/using/the-server-configuration-file.md).\n\nPress **Ctrl+C** to stop the process, then enter the following command:\n\n```\nnlserver start web\n```\n\nThe following information is then displayed:\n\n```sql\n12:17:21 >   Application server for Adobe Campaign Classic (7.X YY.R build XXX@SHA1) of DD/MM/YYYY\n12:17:21 >   Running task 'web@default' ('nlserver web -tracefile:web@default -instance:default -detach -tomcat -autorepair') in a new process\n12:17:21 >   Application server for Adobe Campaign Classic (7.X YY.R build XXX@SHA1) of DD/MM/YYYY\n12:17:21 >   Web server start (pid=29188, tid=-1224824320)...\n12:17:21 >   Creating server configuration file '/usr/local/[INSTALL]/nl6/conf/serverConf.xml' via '/usr/local/[INSTALL]/nl6/conf/fra/serverConf.xml.sample'\n12:17:22 >   Tomcat started\n12:17:22 >   Server started\n```\n\nTo stop it, enter:\n\n```\nnlserver stop web\n```\n\nThe following information is then displayed:\n\n```sql\n12:18:31 >   Application server for Adobe Campaign Classic (7.X YY.R build XXX@SHA1) of DD/MM/YYYY\n12:18:31 >   Stop requested for 'web@default' ('nlserver web -tracefile:web@default -instance:default -detach -tomcat -autorepair', pid=29188, tid=-1224824320)...\n12:18:31 >   Stop requested (pid=29188)\n12:18:31 >   Web server stopped (pid=29188, tid=-1224824320)...\n```\n\n## Password for the internal identifier {#password-for-the-internal-identifier}\n\nThe Adobe Campaign server defines a technical login called **internal** that has all rights on all instances. Just after installation the login does not have a password. It is mandatory to define one.\n\nLearn more in [this section](../../installation/using/configuring-campaign-server.md#internal-identifier).\n","headers":[["title","Installing packages with Linux"],["description","Installing packages with Linux"],["feature","Installation, Application Settings"],["topic-tags","installing-campaign-in-linux-"]],"sections":[{"section":"Installing packages with Linux","sectionId":"974dd239-f2e6-4fc1-a6d5-3ef92e7421f7","paragraphs":["Adobe Campaign comes with the nlserver package which contains the binaries and configuration files for a given version.","The installation commands enables you to:","Copy the files to /usr/local/neolane\nCreate an Adobe Campaign Linux account (and the associated group), which is created with /usr/local/neolane as its home directory\nCreate an automatic script /etc/init.d/nlserver6 for use at startup, or create a systemd unit","NOTE","The neolane system user must not have been created before the command was run. The neolane user is created automatically during installation.","The home directory linked to the neolane user is also created automatically in /usr/local/neolane. Please make sure there is sufficient space on the /usr/local disk.","You can run the ping hostname command to make sure the server can reach itself."]},{"section":"Distribution based on RPM packages","sectionId":"d77a6830-5268-4a72-a105-f3d3450568d4","paragraphs":["To install Adobe Campaign onto an RPM (RHEL, CentOS) operating system, follow these steps:","Get the Adobe Campaign package. The name of the file is nlserver6-v7-XXXX-0.x86_64.rpm, where XXXX is the Adobe Campaign build number.","CAUTION","Make sure you use the correct file name for your version of Adobe Campaign in the command samples of this section.","To install it, connect as root and execute the following command, where XXXX is the Adobe Campaign build number:","yum install nlserver6-v7-XXXX-0.x86_64.rpm","The rpm file has dependencies on packages that you can find on CentOS/Red Hat distributions. If you don't want to use some of these dependencies (for example, if you want to use Oracle JDK instead of OpenJDK), you may have to use the \"nodeps\" option of rpm:","rpm --nodeps -Uvh nlserver6-v7-XXXX-0.x86_64.rpm","The bc command, mandatory for executing the netreport, is not available by default on all Linux distributions. To check whether the command is available, run the which bc command. If not, you have to install it.","With CentOS, you must install the bc.x86_64 package: connect as root and run the following command:","yum install bc.x86_64"]},{"section":"Distribution based on APT (Debian)","sectionId":"d57b552b-0d12-4ab2-9511-093441153f35","paragraphs":["To install Adobe Campaign on a Debian 64 bit operating system, apply the following steps:","Get the Adobe Campaign package. The name of the file is nlserver6-v7-XXXX-linux-2.6-amd64.deb, where XXXX is the Adobe Campaign build number.","CAUTION","Make sure you use the correct file name for your version of Adobe Campaign in the command samples of this section.","To install it, connect as root and execute the following command, where XXXX is the Adobe Campaign build number:","dpkg -i nlserver6-v7-XXXX-linux-2.6-amd64.deb","If there are missing dependencies, run the following command:","apt-get install -f","When installing Adobe Campaign on a Debian operating system, consider the following:","OpenSSL must be installed beforehand.","Install libicu and libc-aresYY, where XX is the version, with the following commands:","apt install libicuXX","apt install libc-aresXX","apt install openjdk-XX-jdk"]},{"section":"Personalizing parameters","sectionId":"9d39d723-be7a-404d-96d2-a676bec77d88","paragraphs":["Some parameters can be personalized via the customer.sh file","If you are performing the installation for the first time, the customer.sh file might not yet exist on the server.","Create it and make sure it has execution rights. If this is not the case, enter the following command:","chmod +x /usr/local/neolane/nl6/customer.sh"]},{"section":"Server encoding","sectionId":"fb3be12e-315c-4952-a7dd-b0e7167d32e0","paragraphs":["By default, the server is started in an iso8859-15 environment. Nevertheless, the server can be started in an UTF-8 environment.","CAUTION","This change impacts the interactions with the file system (files loaded via a workflow or a JavaScript script) and on the file encoding. We therefore recommend using the default environment.","To create a Japanese instance, you must use a UTF-8 environment.","To enable the UTF-8 environment, use the following command:","mkdir -p /usr/local/neolane/nl6 \ntouch /usr/local/neolane/nl6/unicodeenv"]},{"section":"Environment variables","sectionId":"d76824f9-7ae9-4ec4-a374-be60d70be772","paragraphs":["The following environment variables must be defined correctly.","Certain combinations require changes to the environment used for executing Adobe Campaign. A specific file (/usr/local/neolane/nl6/customer.sh) can be created and edited to add modifications specific to the Adobe Campaign environment.","If necessary, edit the customer.sh file using the vi customer.sh command and adapt the configuration or add missing lines:","For the Oracle client:","export ORACLE_HOME=/usr/local/instantclient_10_2\nexport TNS_ADMIN=/etc/oracle\nexport LD_LIBRARY_PATH=$ORACLE_HOME/lib:$LD_LIBRARY_PATH","The content of the ORACLE_HOME environment variable matches the Oracle installation directory.","The content of the TNS_ADMIN variable has to match the location of the tnsnames.ora file.","For LibreOffice:","To run Adobe Campaign on an existing version of LibreOffice, additional configurations are required: you need to specify the access paths to the installation directory. For instance:","Debian","Default values for OOO_INSTALL_DIR and OOO_BASIS_INSTALL_DIR are provided. You can override them in customer.sh if your layout of the LibreOffice installation is different:","export OOO_BASIS_INSTALL_DIR=/usr/lib/libreoffice/ \nexport OOO_INSTALL_DIR=/usr/lib/libreoffice/","CentOs","Use the following default values:","export OOO_BASIS_INSTALL_DIR=/usr/lib64/libreoffice/\nexport OOO_INSTALL_DIR=/usr/lib64/libreoffice/","For Java Development Kit (JDK):","By default, the configuration script of the Adobe Campaign environment (~/nl6/env.sh) searches for the JDK installation directory. However, it is recommended to specify which JDK needs to be used. To do this, you can force the JDK_HOME environment variable using the following command:","export JDK_HOME=/usr/java/jdkX.Y.Z","NOTE","Make sure that the JDK version used matches the directory name.","To test the JDK configuration, log in as the Adobe Campaign system user with the following command:","su - neolane","You must restart the Adobe Campaign service in order for the changes to be taken into account.","The commands are as follows:","systemctl stop nlserver\nsystemctl start nlserver"]},{"section":"Oracle Client in Linux","sectionId":"697668a1-8430-44df-b08c-18fbb9fff569","paragraphs":["When using Oracle with Adobe Campaign, you need to configure the Oracle client layers in Linux.","Use the full client","TNS definition","The TNS definitions must be added during the installation phase. To do this, use the following commands:","cd /etc\nmkdir oracle\ncd oracle\nvi tnsnames.ora","Environment variables","Refer to Environment variables.","Configuration for Adobe Campaign","To finalize the installation of the Oracle client for Adobe Campaign, you need to create a symbolic link for the .so file used by Adobe Campaign.","To do this, use the following commands:","cd /usr/lib/oracle/10.2.0.4/client/lib\nln -s libclntsh.so.10.1 libclntsh.so","In case of an issue, make sure the packages listed in the Oracle installation documentation are correctly installed."]},{"section":"Installation checks","sectionId":"5391216c-1f05-4ec9-8683-1bf971567691","paragraphs":["You can now perform an initial installation test using the following commands:","su - neolane\nnlserver pdump","When Adobe Campaign is not started, the response is:","no task"]},{"section":"First start-up of the server","sectionId":"fcec4014-fb00-4b1a-adb5-e8c4db836677","paragraphs":["Once the installation test is complete, enter the following command:","nlserver web","The following information is then displayed:","17:11:03 >   Application server for Adobe Campaign Classic (7.X YY.R build XXX@SHA1) of DD/MM/YYYY\n17:11:03 >   Web server start (pid=17546, tid=-151316352)...\n17:11:03 >   Creating server configuration file '/usr/local/[INSTALL]/nl6/conf/serverConf.xml' via '/usr/local/[INSTALL]/nl6/conf/fra/serverConf.xml.sample'\n17:11:03 >   Creating server configuration file '/usr/local/[INSTALL]/nl6/conf/config-default.xml' via '/usr/local/[INSTALL]/nl6/conf/models/config-default.xml'\n17:11:03 >   Server started\n17:11:08 >   Stop requested (pid=17546)\n17:11:08 >   Web server stop(pid=17546, tid=-151316352)...","These commands let you create config-default.xml and serverConf.xml configuration files. All the parameters available in the serverConf.xml are listed in this section.","Press Ctrl+C to stop the process, then enter the following command:","nlserver start web","The following information is then displayed:","12:17:21 >   Application server for Adobe Campaign Classic (7.X YY.R build XXX@SHA1) of DD/MM/YYYY\n12:17:21 >   Running task 'web@default' ('nlserver web -tracefile:web@default -instance:default -detach -tomcat -autorepair') in a new process\n12:17:21 >   Application server for Adobe Campaign Classic (7.X YY.R build XXX@SHA1) of DD/MM/YYYY\n12:17:21 >   Web server start (pid=29188, tid=-1224824320)...\n12:17:21 >   Creating server configuration file '/usr/local/[INSTALL]/nl6/conf/serverConf.xml' via '/usr/local/[INSTALL]/nl6/conf/fra/serverConf.xml.sample'\n12:17:22 >   Tomcat started\n12:17:22 >   Server started","To stop it, enter:","nlserver stop web","The following information is then displayed:","12:18:31 >   Application server for Adobe Campaign Classic (7.X YY.R build XXX@SHA1) of DD/MM/YYYY\n12:18:31 >   Stop requested for 'web@default' ('nlserver web -tracefile:web@default -instance:default -detach -tomcat -autorepair', pid=29188, tid=-1224824320)...\n12:18:31 >   Stop requested (pid=29188)\n12:18:31 >   Web server stopped (pid=29188, tid=-1224824320)..."]},{"section":"Password for the internal identifier","sectionId":"7263ffba-c4ac-40c8-91f0-2da203adf79f","paragraphs":["The Adobe Campaign server defines a technical login called internal that has all rights on all instances. Just after installation the login does not have a password. It is mandatory to define one.","Learn more in this section."]}]}