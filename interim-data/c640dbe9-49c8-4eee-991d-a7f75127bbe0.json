{"guid":"c640dbe9-49c8-4eee-991d-a7f75127bbe0","title":"Implementing SOAP methods","path":"help\\configuration\\using\\implementing-soap-methods.md","fullText":"---\nproduct: campaign\ntitle: Implementing SOAP methods\ndescription: Implementing SOAP methods\nfeature: Configuration\nrole: Data Engineer, Developer\nexl-id: 441a0e5c-fa7f-46c8-a65a-5cca4c846d43\n---\n# Implement SOAP methods{#implementing-soap-methods}\n\n\n\n## Introduction {#introduction}\n\nIt is possible to create SOAP methods in JavaScript. This function simply enables applicative processes, it can avoid developing JSPs and their calling in the forms.\n\nThese SOAP methods behave in the same way as those defined natively in the application. The same attributes are supported: static, key only and const.\n\n## Define a method library {#defining-a-method-library}\n\nCreating a method library involves two stages:\n\n* The SOAP method declaration,\n* Definition (or implementation) in JavaScript.\n\n### Declaration {#declaration}\n\nStart by declaring the methods in the schemas (for more on how to create and edit schemas, refer to [this section](../../configuration/using/about-schema-edition.md)).\n\nTheir declaration is similar to that of native methods, except that you need to add the 'library' attribute specifying the name of the method library where the definition is located.\n\nThis name coincides with the name (with the namespace) of the 'JavaScript Code' type entity.\n\nExample:\n\nThe testLog(msg) method is declared in an nms:recipient extension\n\n```\n<method name=\"testLog\" static=\"true\" library=\"cus:test\">\n     <parameters>\n       <param name=\"message\" type=\"string\" inout=\"in\"/>\n     </parameters>\n   </method>\n\n```\n\n>[!NOTE]\n>\n>The namespace and the name used for the library are independent from the namespace and schema name where the declaration is found.\n\n### Definition {#definition}\n\nSOAP methods are implemented in the form of JavaScript function grouped in a script representing a library.\n\n>[!NOTE]\n>\n>A method library can group functions for various schemas or vice versa, the functions of one schema can be defined in separate libraries.\n\nThe script can contain code to be executed during initial library loading.\n\n**1. Name**\n\nThe name of the function must comply with the following format:\n\n```\n\n <schema-namespace>_<schema-name>_<method-name>\n\n```\n\nExample:\n\nThe following JavaScript function is the implementation of the method described above. It shall be defined in the 'JavaScript Code' type entity using the 'cus:test' name.\n\n```\nfunction nms_recipient_testLog(message)\n {\n   logInfo(\"*** \" + message)\n }\n```\n\n**2. Signature**\n\nThe function's signature must include an argument for each 'in' or 'inout' parameter of the declaration.\n\nSpecific cases:\n\n* **non-static methods**: the function must include an additional argument first, coinciding with the XML entity passed in the form of an 'xml' (E4X) type object.\n* **\"key only\" type methods**: the function must include an additional argument first, coinciding with the key passed in the form of character strings.\n\n**3. Returned values**\n\nThe function must return a value for each 'out' or 'inout' type parameter. Specific case: If the method is declared without any of the 'static', 'key only' or 'const' attributes, the first returned value must coincide with the modified entity. It is possible to return a new object or to return the first modified parameter.\n\nFor example:\n\n```\nfunction nms_recipient_setLastName(self, name)\n {\n   self.@lastName = name\n   return self\n }\n```\n\nWhen several values are to be returned, they must be displayed in a table.\n\nExample:\n\n```\nfunction nms_recipient_getKey(self)\n {\n   return [self.@firstName, self.@lastName]\n }\n```\n","headers":[["title","Implementing SOAP methods"],["description","Implementing SOAP methods"],["feature","Configuration"]],"sections":[{"section":"Implement SOAP methods","sectionId":"c07cca76-441a-4b78-a948-0447f1859a7a","paragraphs":[]},{"section":"Introduction","sectionId":"b7db11e0-f2b3-4cfc-8470-241e19684783","paragraphs":["It is possible to create SOAP methods in JavaScript. This function simply enables applicative processes, it can avoid developing JSPs and their calling in the forms.","These SOAP methods behave in the same way as those defined natively in the application. The same attributes are supported: static, key only and const."]},{"section":"Define a method library","sectionId":"a3e5db2d-4804-493e-bd17-102d1d5b0437","paragraphs":["Creating a method library involves two stages:","The SOAP method declaration,\nDefinition (or implementation) in JavaScript."]},{"section":"Declaration","sectionId":"4dcae65d-f42c-4e2d-b9f9-fc5e5d4418a7","paragraphs":["Start by declaring the methods in the schemas (for more on how to create and edit schemas, refer to this section).","Their declaration is similar to that of native methods, except that you need to add the 'library' attribute specifying the name of the method library where the definition is located.","This name coincides with the name (with the namespace) of the 'JavaScript Code' type entity.","Example:","The testLog(msg) method is declared in an nms:recipient extension","<method name=\"testLog\" static=\"true\" library=\"cus:test\">\n     <parameters>\n       <param name=\"message\" type=\"string\" inout=\"in\"/>\n     </parameters>\n   </method>","NOTE","The namespace and the name used for the library are independent from the namespace and schema name where the declaration is found."]},{"section":"Definition","sectionId":"befda6ad-7b8b-426e-a1b3-d1a1af031fea","paragraphs":["SOAP methods are implemented in the form of JavaScript function grouped in a script representing a library.","NOTE","A method library can group functions for various schemas or vice versa, the functions of one schema can be defined in separate libraries.","The script can contain code to be executed during initial library loading.","1. Name","The name of the function must comply with the following format:","<schema-namespace>_<schema-name>_<method-name>","Example:","The following JavaScript function is the implementation of the method described above. It shall be defined in the 'JavaScript Code' type entity using the 'cus:test' name.","function nms_recipient_testLog(message)\n {\n   logInfo(\"*** \" + message)\n }","2. Signature","The function's signature must include an argument for each 'in' or 'inout' parameter of the declaration.","Specific cases:","non-static methods: the function must include an additional argument first, coinciding with the XML entity passed in the form of an 'xml' (E4X) type object.\n\"key only\" type methods: the function must include an additional argument first, coinciding with the key passed in the form of character strings.","3. Returned values","The function must return a value for each 'out' or 'inout' type parameter. Specific case: If the method is declared without any of the 'static', 'key only' or 'const' attributes, the first returned value must coincide with the modified entity. It is possible to return a new object or to return the first modified parameter.","For example:","function nms_recipient_setLastName(self, name)\n {\n   self.@lastName = name\n   return self\n }","When several values are to be returned, they must be displayed in a table.","Example:","function nms_recipient_getKey(self)\n {\n   return [self.@firstName, self.@lastName]\n }"]}]}