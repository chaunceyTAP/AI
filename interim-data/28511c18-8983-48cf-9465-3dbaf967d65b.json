{"guid":"28511c18-8983-48cf-9465-3dbaf967d65b","title":"Performance and throughput issues","path":"help\\production\\using\\performance-and-throughput-issues.md","fullText":"---\nproduct: campaign\ntitle: Performance and throughput issues\ndescription: Performance and throughput issues\nfeature: Monitoring\nbadge-v7-prem: label=\"On-premise/hybrid only\" type=\"Caution\" url=\"https://experienceleague.adobe.com/docs/campaign-classic/using/installing-campaign-classic/architecture-and-hosting-models/hosting-models-lp/hosting-models.html\" tooltip=\"Applies to on-premise and hybrid deployments only\"\naudience: production\ncontent-type: reference\ntopic-tags: troubleshooting\nexl-id: fe69efda-a052-4f67-9c13-665f011d0a2b\n---\n# Performance and throughput issues{#performance-and-throughput-issues}\n\n\n\nFirst of all, you should check that you have the latest build installed. This ensures that you have the latest features and bug fixes.\n\nRefer to the [Release Notes](../../rn/using/latest-release.md) for more information on the content of each release.\n\n## Hardware and infrastructure {#hardware-and-infrastructure}\n\nGeneral guidelines for hardware requirements for on-premise Campaign Classic are detailed on this [page](https://helpx.adobe.com/campaign/kb/hardware-sizing-guide.html).\n\nThe consulting team can provide hosted customers with a tool that allows you to easily view how much space is used by various types of tables in the database as well as the space used on the SFTP site. It additionally provides tools to allow you to clean up unnecessary data. Contact [Adobe Customer Care](https://helpx.adobe.com/enterprise/admin-guide.html/enterprise/using/support-for-experience-cloud.ug.html) if you need this tool implemented. Here are a few important things to check using this tool:\n\n* If index size is larger than table size, then a vacuum is required.\n* Check the tables which have the maximum bloat. If these tables are frequently used, they need to be vacuumed. \n* Database blocking can cause emails to stop being sent.\n\nAdobe Campaign also provides a [tool](../../production/using/monitoring-processes.md#manual-monitoring) to check CPU and RAM usage. Use this tool and look at specific indicators such as: **Memory**, **Swap Memory**, **Disk**, **Active Processes**. If the values are too high, you can try reducing the number of workflows or schedule workflows to start at different times.\n\n## Database check {#database-performances}\n\nMost of the time, performance issues are linked to database maintenance. Here are the main items to check:\n\n* Configuration: we recommend checking the initial Adobe Campaign platform configuration and running a full hardware check. \n* Installation and configuration of the Adobe Campaign platform: check network configuration and platform deliverability options.\n* Database maintenance: make sure that the database cleanup task is operational and that the database maintenance is correctly scheduled and executed. Check the number and size of work tables. \n* Real-time diagnosis: check the process and platform log files, then monitor database activity while recreating the issue.\n\n>[!NOTE]\n>\n>For more information, refer to this section: [Database performance](../../production/using/database-performances.md).\n\n## Application configuration {#application-configuration}\n\nHere are is a list of articles related to application configuration best practices:\n\n* MTA and MTAChild processes and memory: the **mta** module distributes messages to its **mtachild** child modules. Each **mtachild** prepares messages before requesting an authorization from the statistics server, and sending them. Refer to this [page](../../installation/using/email-deliverability.md) for more information.\n* TLS configuration: enabling TLS globally is not recommended because it can reduce throughput. Instead, per-domain TLS settings, managed by deliverability team, should be tuned depending on the needs. Refer to this [page](../../installation/using/email-deliverability.md#mx-configuration) for more information. \n* DKIM: to insure the security level of the DKIM, 1024b is the best practice recommended encryption size. Lower DKIM keys will not be considered as valid by the majority of access providers. Refer to [this page](https://experienceleague.adobe.com/docs/deliverability-learn/deliverability-best-practice-guide/transition-process/infrastructure.html#authentication).\n\n## Deliverability issues {#deliverability-issues}\n\nHere are is a list of best practices and articles related to deliverability:\n\n* IP reputation: if the IP reputation is not good enough, there will be an impact on performance. The **Deliverability Monitoring** module offers various tools to track the deliverability performance of your platform. Refer to this [page](../../delivery/using/monitoring-deliverability.md). \n* IP warm-up: the IP warm-up is performed by the deliverability team. This involves gradually increasing the number of emails through new IPs over a period of a few weeks.\n* IP affinity setup: an incorrect IP affinity setup can stop the emails altogether (incorrect operator/affinity name in configuration) or reduce the throughput (small number of IPs in the affinity). Refer to this [page](../../installation/using/email-deliverability.md#list-of-ip-addresses-to-use).\n* Email size: email size plays an important role in throughput. The recommended maximum email size is 60 KB. Refer to this [page](https://helpx.adobe.com/legal/product-descriptions/campaign.html). In the [Delivery throughput](../../reporting/using/global-reports.md#delivery-throughput) report, check the number of bytes transferred by hour. \n* Large number of invalid recipients: when there is a large number of invalid recipients, it can impact throughput. The MTA keeps retrying sending emails to invalid recipients. Please make sure your database is well maintained.\n* Amount of personalization: if a delivery stays in \"Personalization in progress\", check the JavaScript used in personalization blocks.\n\n>[!NOTE]\n>\n>See also the [Deliverability](../../delivery/using/about-deliverability.md) section. For a deeper dive on deliverability, refer to the [Adobe Deliverability Best Practice Guide](https://experienceleague.adobe.com/docs/deliverability-learn/deliverability-best-practice-guide/introduction.html).\n","headers":[["title","Performance and throughput issues"],["description","Performance and throughput issues"],["feature","Monitoring"],["topic-tags","troubleshooting"]],"sections":[{"section":"Performance and throughput issues","sectionId":"39425338-c59e-41bd-b78f-868cfc7f8b18","paragraphs":["First of all, you should check that you have the latest build installed. This ensures that you have the latest features and bug fixes.","Refer to the Release Notes for more information on the content of each release."]},{"section":"Hardware and infrastructure","sectionId":"20bafabe-3afb-4ff7-8c9a-f46bcd1b58c3","paragraphs":["General guidelines for hardware requirements for on-premise Campaign Classic are detailed on this page.","The consulting team can provide hosted customers with a tool that allows you to easily view how much space is used by various types of tables in the database as well as the space used on the SFTP site. It additionally provides tools to allow you to clean up unnecessary data. Contact Adobe Customer Care if you need this tool implemented. Here are a few important things to check using this tool:","If index size is larger than table size, then a vacuum is required.\nCheck the tables which have the maximum bloat. If these tables are frequently used, they need to be vacuumed. \nDatabase blocking can cause emails to stop being sent.","Adobe Campaign also provides a tool to check CPU and RAM usage. Use this tool and look at specific indicators such as: Memory, Swap Memory, Disk, Active Processes. If the values are too high, you can try reducing the number of workflows or schedule workflows to start at different times."]},{"section":"Database check","sectionId":"8ca29a40-93b7-4d96-ace4-475755a8b6fa","paragraphs":["Most of the time, performance issues are linked to database maintenance. Here are the main items to check:","Configuration: we recommend checking the initial Adobe Campaign platform configuration and running a full hardware check. \nInstallation and configuration of the Adobe Campaign platform: check network configuration and platform deliverability options.\nDatabase maintenance: make sure that the database cleanup task is operational and that the database maintenance is correctly scheduled and executed. Check the number and size of work tables. \nReal-time diagnosis: check the process and platform log files, then monitor database activity while recreating the issue.","NOTE","For more information, refer to this section: Database performance."]},{"section":"Application configuration","sectionId":"2229be8e-ab92-426c-b8e7-32e201cf508a","paragraphs":["Here are is a list of articles related to application configuration best practices:","MTA and MTAChild processes and memory: the mta module distributes messages to its mtachild child modules. Each mtachild prepares messages before requesting an authorization from the statistics server, and sending them. Refer to this page for more information.\nTLS configuration: enabling TLS globally is not recommended because it can reduce throughput. Instead, per-domain TLS settings, managed by deliverability team, should be tuned depending on the needs. Refer to this page for more information. \nDKIM: to insure the security level of the DKIM, 1024b is the best practice recommended encryption size. Lower DKIM keys will not be considered as valid by the majority of access providers. Refer to this page."]},{"section":"Deliverability issues","sectionId":"dfa1475c-d332-41da-a9e3-6b2dd58ce6d6","paragraphs":["Here are is a list of best practices and articles related to deliverability:","IP reputation: if the IP reputation is not good enough, there will be an impact on performance. The Deliverability Monitoring module offers various tools to track the deliverability performance of your platform. Refer to this page. \nIP warm-up: the IP warm-up is performed by the deliverability team. This involves gradually increasing the number of emails through new IPs over a period of a few weeks.\nIP affinity setup: an incorrect IP affinity setup can stop the emails altogether (incorrect operator/affinity name in configuration) or reduce the throughput (small number of IPs in the affinity). Refer to this page.\nEmail size: email size plays an important role in throughput. The recommended maximum email size is 60 KB. Refer to this page. In the Delivery throughput report, check the number of bytes transferred by hour. \nLarge number of invalid recipients: when there is a large number of invalid recipients, it can impact throughput. The MTA keeps retrying sending emails to invalid recipients. Please make sure your database is well maintained.\nAmount of personalization: if a delivery stays in \"Personalization in progress\", check the JavaScript used in personalization blocks.","NOTE","See also the Deliverability section. For a deeper dive on deliverability, refer to the Adobe Deliverability Best Practice Guide."]}]}