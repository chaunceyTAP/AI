{"guid":"a325ed82-4134-4948-9672-f02e9309535a","title":"Detecting tracking URLs","path":"help\\delivery\\using\\detecting-tracking-urls.md","fullText":"---\nproduct: campaign\ntitle: Detecting tracking URLs\ndescription: Learn more about recommended pattern to track URLs\nfeature: Monitoring\nrole: User, Developer, Data Engineer\nexl-id: 7611d6a1-6c55-4ba3-b905-58426c944991\n---\n# Detect tracking URLs\n\n## Example of non-detection\n\n`<%= getURL(\"http://mynewsletter.com\") %>` works and sends the actual content of the web page via email to the recipients. But none of the links are tracked. The reason for this is that the MTA executes `\"<%=getURL(...\"` for each email before sending. It can be different for each recipient, so Adobe Campaign cannot know the URLs for tracking and assign them a tag ID.\n\nWhen the page to download is the same for all recipients, the best practice is to do the following:\n\n`<%@ include url=\"http://mynewsletter.com\" %>`\n\nIn that case, the page is downloaded during the analysis, before the tracking detection. It allows Adobe Campaign to discover the links, assign a tag ID, and track them.\n\n## Recommended Pattern\n\nAfter processing `<%@` instructions, the URL to be tracked has the following syntax: `<a href=\"http://myurl.com/a.php?param1=aaa&param2=<%=escapeUrl(recipient.xxx)%>&param3=<%=escapeUrl(recipient.xxx)%>\">`\n\n>[!IMPORTANT]\n>\n>All other patterns are not supported by Adobe and should be avoided to prevent potential security gaps.\n\n## Unsecured pattern\n\nWhen adding personalized links to your content, always avoid having any personalization in the hostname part of the URL to avoid potential security gaps. Learn more in [this page](../../installation/using/privacy.md#url-personalization).\n\nFor example, the `<a href=\"http://<%=myURL%>\">` syntax is **not secure** and must be avoided.\n\n* Using this syntax can lead to security issues if the link generated by Adobe Campaign contains one or more parameters.\n* Tidy can incorrectly patch some of the links, which can happen randomly. The typical symptom is a piece of HTML that is visible in the email proofs but not in the preview.\n* Escaping of the URL is problematic, some characters in the URL can cause problems.\n* You cannot have a parameter named ID conflicting with parameter in the redirection URL.\n* Interest of tracking is then limited to statistics on the delivery, as Adobe Campaign indifferently tracks all possible values of \"myURL\".\n","headers":[["title","Detecting tracking URLs"],["description","Learn more about recommended pattern to track URLs"],["feature","Monitoring"]],"sections":[{"section":"Detect tracking URLs","sectionId":"5655c52d-452d-4542-b991-3174ab8ca2bc","paragraphs":[]},{"section":"Example of non-detection","sectionId":"3b49c8c8-98c8-409e-a908-0897a578b34a","paragraphs":["<%= getURL(\"http://mynewsletter.com\") %> works and sends the actual content of the web page via email to the recipients. But none of the links are tracked. The reason for this is that the MTA executes \"<%=getURL(...\" for each email before sending. It can be different for each recipient, so Adobe Campaign cannot know the URLs for tracking and assign them a tag ID.","When the page to download is the same for all recipients, the best practice is to do the following:","<%@ include url=\"http://mynewsletter.com\" %>","In that case, the page is downloaded during the analysis, before the tracking detection. It allows Adobe Campaign to discover the links, assign a tag ID, and track them."]},{"section":"Recommended Pattern","sectionId":"afc13535-8d98-4d21-a117-8bdb8caacf0d","paragraphs":["After processing <%@ instructions, the URL to be tracked has the following syntax: <a href=\"http://myurl.com/a.php?param1=aaa&param2=<%=escapeUrl(recipient.xxx)%>&param3=<%=escapeUrl(recipient.xxx)%>\">","IMPORTANT","All other patterns are not supported by Adobe and should be avoided to prevent potential security gaps."]},{"section":"Unsecured pattern","sectionId":"3de8348b-e010-4228-9a8c-25869769879f","paragraphs":["When adding personalized links to your content, always avoid having any personalization in the hostname part of the URL to avoid potential security gaps. Learn more in this page.","For example, the <a href=\"http://<%=myURL%>\"> syntax is not secure and must be avoided.","Using this syntax can lead to security issues if the link generated by Adobe Campaign contains one or more parameters.\nTidy can incorrectly patch some of the links, which can happen randomly. The typical symptom is a piece of HTML that is visible in the email proofs but not in the preview.\nEscaping of the URL is problematic, some characters in the URL can cause problems.\nYou cannot have a parameter named ID conflicting with parameter in the redirection URL.\nInterest of tracking is then limited to statistics on the delivery, as Adobe Campaign indifferently tracks all possible values of \"myURL\"."]}]}