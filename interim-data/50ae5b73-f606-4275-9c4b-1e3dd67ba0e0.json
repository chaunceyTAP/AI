{"guid":"50ae5b73-f606-4275-9c4b-1e3dd67ba0e0","title":"Transactional messaging architecture","path":"help\\message-center\\using\\transactional-messaging-architecture.md","fullText":"---\nproduct: campaign\ntitle: Transactional messaging architecture\ndescription: This section describes the Adobe Campaign Classic transactional messaging architecture and the available channels to deliver transactional messages\nfeature: Transactional Messaging, Message Center, Architecture\nexl-id: 0a059397-b037-405b-b9c1-94a4a072674d\n---\n# Transactional messaging architecture {#transactional-messaging-architecture}\n\n\n\nTransactional messaging relies on a specific architecture, which is made up of several instances:\n\n* A **control instance**, on which the message templates are created.\n\n* One or more **execution instances**, which receive events and deliver messages.\n\n![](assets/messagecenter_diagram.png)\n\n| Control instance | Execution instance |\n|--- |--- |\n| Adobe Campaign users log on to the control instance to: <ul><li>Create transactional message templates</li><li>Generate the message preview using a seed list</li><li>Display reports</li><li>Monitor the execution instances</li></ul> | Execution instances are here to: <ul><li>Receive events</li><li>Link them to transactional message templates</li><li>Send a personalized message to each recipient</li></ul> |\n\n## Install instances {#installing-instances}\n\nThere are several precautions to take when installing the Transactional message packages. Adobe recommends you to work in a test environment before putting into production. You also need to have a compatible Adobe Campaign license. For more information, please contact your Adobe account executive.\n\n>[!IMPORTANT]\n>\n>The control instance and the execution instance(s) must be installed on different machines. They cannot share the same Campaign instance.\n\nIf you need to use several channels, you must install and configure related packages before installing Transactional message packages. For more on this, see [Add a delivery channel](#adding-a-delivery-channel).\n\n## Control instance {#control-instance}\n\nTo install the control instance on your machine, select the **[!UICONTROL Transactional message control]** package via the **[!UICONTROL Tools]** > **[!UICONTROL Advanced]** > **[!UICONTROL Import package]** menu. For more on this, see [Installing Campaign Classic standard packages](../../installation/using/installing-campaign-standard-packages.md).\n\n![](assets/messagecenter_install_controlinstance_001.png)\n\nThe detailed steps to configure the control instance are presented in [this section](../../message-center/using/configuring-instances.md#control-instance).\n\n### Support several control instances {#supporting-several-control-instances}\n\n>[!IMPORTANT]\n>\n>Sharing an execution cluster with several control instances is only supported for on-premise environments.\n\nIt is possible to share an execution cluster among several control instances. For example, if you manage several specialized stores, you can configure one control instance per brand and link them all to the same execution cluster.\n\n![](assets/messagecenter_diagram_2.png)\n\n>[!NOTE]\n>\n>For more on the necessary configuration, refer to [Use several control instances](../../message-center/using/configuring-instances.md#using-several-control-instances).\n\n## Execution instance {#execution-instance}\n\nTo install an execution instance on your machine, select the **[!UICONTROL Transactional message execution]** package via the **[!UICONTROL Tools]** > **[!UICONTROL Advanced]** > **[!UICONTROL Import package]** menu. For more on this, see [Installing Campaign Classic standard packages](../../installation/using/installing-campaign-standard-packages.md).\n\n![](assets/messagecenter_install_executioninstance_001.png)\n\nThe detailed steps to configure an execution instance are presented in [this section](../../message-center/using/configuring-instances.md#execution-instance).\n\n## Available delivery channels\n\nThe email channel is available by default. To deliver your transactional messages on multiple channels, you can add other channels (mobile channel, Mobile App channel, etc.).\n\n>[!IMPORTANT]\n>\n>Adding a delivery channel (mobile channel, Mobile App channel, etc.) must be performed before installing the Transactional message package.\n\n### Add a delivery channel {#adding-a-delivery-channel}\n\nAdobe recommends you **always add the delivery channel package before installing the Transactional message package**.\n\nHowever, if you have started a transactional messaging project on the email channel, then decide during the project to add a new channel, you can follow the steps below.\n\n>[!NOTE]\n>\n>This procedure only applies to customers using a Windows NLServer installed on the same machine as they are working on.\n\n1. Install the channel you need, for example the **Mobile channel**, using the package import wizard (**[!UICONTROL Tools > Advanced > Import package... > Adobe Campaign Package]**).\n1. Perform a file import (**[!UICONTROL Tools > Advanced > Import package... > File]**), and select the **datakitnms**`[Your language]`**packagemessageCenter.xml** file.\n1. In the **[!UICONTROL XML content of the data to import]**, keep only the delivery template that corresponds to the added channel. For example, if you have added the **Mobile channel**, keep only the **entities** element that corresponds to the **[!UICONTROL Mobile transactional message]** (smsTriggerMessage). If you have added the **Mobile App Channel**, keep only the **iOS transactional message** (iosTriggerMessage) and the **Android transactional message** (androidTriggerMessage).\n\n   ![](assets/messagecenter_install_channel.png)\n\n<!--## Transactional messages and inbound Interaction {#transactional-messages-and-inbound-interaction}\n\nWhen combined with the Inbound Interaction module, transactional messaging enables you to insert a marketing offer dedicated to the recipient into the message.\n\n>[!NOTE]\n>\n>The Interaction module is detailed in [Interaction](../../interaction/using/interaction-and-offer-management.md).\n\nTo use transactional messaging with Interaction, you need to apply the following configurations:\n\n* Install the **Interaction** package onto the control instance and configure your offer catalog.\n\n  >[!IMPORTANT]\n  >\n  >Do not replicate the offers onto the execution instances.\n\n* The event must include an identifier linked to the recipients, for personalizing offers. The **@externalId** attribute must contain the value of this identifier. **Interaction** is configured by default to identify the recipient of the primary key:\n\n  ```\n  <rtEvent type=\"order_confirmation\" email=\"john.doe@adobe.com\" externalId=\"1242\"> \n  ```\n\n  You can configure **Interaction** so that identification takes place in the field of your choice, for example on the email address:\n\n  ```\n  <rtEvent type=\"order_confirmation\" email=\"john.doe@adobe.com\" externalId=\"john.doe@yahoo.com\"> \n  ```\n\nCreate your delivery templates the way you would for an email campaign:\n\n* Add the offer to your transactional message template.\n* Check the preview, send a proof and publish the template.\n\nYou also have to enable the unitary mode on your offer spaces. For more on this, refer to [this section](../../interaction/using/creating-offer-spaces.md).-->\n\n### Transactional push notifications {#transactional-messaging-and-push-notifications}\n\nWhen combined with Mobile App channel module, transactional messaging enables you to push transactional messages through notifications on mobile devices.\n\n>[!NOTE]\n>\n>The Mobile App channel is detailed in [this section](../../delivery/using/about-mobile-app-channel.md).\n\nTo use transactional message modules with Mobile App Channel, you need to apply the following configurations:\n\n1. Install the **Mobile App Channel** package onto the control and execution instances.\n1. Replicate the **Mobile application** type Adobe Campaign service as well as the mobile applications that it contains on the execution instances.\n\nThe event must contain the following elements:\n\n* The mobile device ID (**registrationId** for Android and **deviceToken** for iOS). This ID represents the \"address\" that the notification will be sent to. \n* The link to the mobile application or integration key (**uuid**) which lets you recover connection information specific to the application.\n* The channel to which the notification will be sent (**wishedChannel**): 41 for iOS and 42 for Android\n* All data useful for personalization\n\nHere is an example of an event that contains this information:\n\n```\n<SOAP-ENV:Envelope xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\">\n   <SOAP-ENV:Body>\n     <urn:PushEvent>\n         <urn:sessiontoken>mc/</urn:sessiontoken>\n         <urn:domEvent>\n\n              <rtEvent wishedChannel=\"41\" type=\"DELIVERY\" registrationToken=\"2cefnefzef758398493srefzefkzq483974\">\n                <mobileApp _operation=\"none\" uuid=\"com.adobe.NeoMiles\"/>\n                <ctx>\n                    <deliveryTime>1:30 PM</deliveryTime>\n                    <url>http://www.adobe.com</url>\n                </ctx>\n              </rtEvent>\n\n         </urn:domEvent>\n     </urn:PushEvent>           \n   </SOAP-ENV:Body>\n</SOAP-ENV:Envelope>\n```\n\n>[!NOTE]\n>\n>The creation of message templates remains the same.\n\n### Transactional messaging and LINE {#transactional-messaging-and-line}\n\nCombined with LINE Channel, transactional messages allow you to send real time messages on the LINE app installed in consumer mobile devices. This is used to send the Welcome message when a LINE user adds the brand's page.\n\nTo use transactional message module with LINE, the following elements are needed for the configuration on your **marketing** instance and your **execution** instance:\n\n* Install the **[!UICONTROL LINE Connect]** package on both instances.\n* Install the **[!UICONTROL Transactional message control]** package on your marketing instance, and the **[!UICONTROL Transactional message execution]** package on the execution instance.\n* Create a LINE **external account** and **service** on both instances with identical naming for them to be synchronized. For more information on how to create a LINE external account and service, refer to [this section](../../delivery/using/line-channel.md#setting-up-line-channel).\n\nThen, from the **[!UICONTROL Explorer]** , in **[!UICONTROL Platform]** > **[!UICONTROL External account]** , you need to configure different external accounts on both instances:\n\n1. Create an **[!UICONTROL External database]** external account in your **execution** instance with the following configuration:\n\n   ![](assets/line_config_mc.png)\n\n    * **[!UICONTROL Label]** and **[!UICONTROL Internal name]** : name your external account as needed.\n    * **[!UICONTROL Type]** : select **[!UICONTROL External database]** .\n    * **[!UICONTROL Enabled]** box must be checked.\n\n   From the **[!UICONTROL Connection]** category:\n\n    * **[!UICONTROL Type]** : select your database server e.g. PostgresSQL.\n    * **[!UICONTROL Server]** : enter your database server URL.\n    * **[!UICONTROL Account]** : enter your database account.\n\n      >[!NOTE]\n      >\n      >The database user needs to have read rights on the following tables for FDA connection: XtkOption, NmsVisitor, NmsVisitorSub, NmsService, NmsBroadLogRtEvent, NmsBroadLogBatchEvent, NmsTrackingLogRtEvent, NmsTrackingLogBatchEvent, NmsRtEvent, NmsBatchEvent, NmsBroadLogMsg, NmsTrackingUrl, NmsDelivery, NmsWebTrackingLogXtkFolder.\n\n    * **[!UICONTROL Password]** : enter the password for your database account.\n    * **[!UICONTROL Database]** : enter the database name of the execution instance.\n    * **[!UICONTROL Target of an HTTP relay to remote database's account]** box must be checked.\n\n1. Create an **[!UICONTROL External Database]** account in your **marketing** instance with the following configuration.\n\n   ![](assets/line_config_mc_1.png)\n\n    * **[!UICONTROL Label]** and **[!UICONTROL Internal name]** : name your external account as needed.\n    * **[!UICONTROL Type]** : select **[!UICONTROL External database]** .\n    * Enabled box must be checked.\n\n   From the **[!UICONTROL Connection]** category:\n\n    * **[!UICONTROL Type]** : select **[!UICONTROL HTTP relay to remote Database]** .\n    * **[!UICONTROL Server]** : enter your campaign's server URL of the execution instance.\n    * **[!UICONTROL Account]** : enter the account used to access your execution instance.\n    * **[!UICONTROL Password]** : enter the password for the account used to access your execution instance.\n    * **[!UICONTROL Data Source]** : enter the following syntax **`nms:extAccount:ID`** of your external database account in the execution instance.\n\n1. Create an **[!UICONTROL Execution instance]** external account in your **marketing** instance using the following configuration to create the data synchronization workflow:\n\n   ![](assets/line_config_mc_2.png)\n\n    * **[!UICONTROL Label]** and **[!UICONTROL Internal name]** : name your external account as needed.\n    * **[!UICONTROL Type]** : select **[!UICONTROL Execution instance]** .\n    * Enabled box must be checked.\n\n   From the **[!UICONTROL Connection]** category:\n\n    * **[!UICONTROL URL]** : enter your execution instance's URL.\n    * **[!UICONTROL Account]** : enter your account used to access your execution instance.\n    * **[!UICONTROL Password]** : enter the password for the account used to access your execution instance.\n\n   From the **[!UICONTROL Account connection method]** category:\n\n    * **[!UICONTROL Method]** : select **[!UICONTROL Federated Data Access (FDA)]** .\n    * **[!UICONTROL FDA account]** : select your FDA account from the drop-down.\n    * Click the **[!UICONTROL Create the archiving workflow]** button.\n    * Click the **[!UICONTROL Create data synchronization workflow]** button to create the LINE data sync workflow.\n\n1. You can now start [creating transactional messages](../../message-center/using/creating-the-message-template.md).\n","headers":[["title","Transactional messaging architecture"],["description","This section describes the Adobe Campaign Classic transactional messaging architecture and the available channels to deliver transactional messages"],["feature","Transactional Messaging, Message Center, Architecture"]],"sections":[{"section":"Transactional messaging architecture","sectionId":"e595b918-280c-44e7-bf2d-cc9aef992fa8","paragraphs":["Transactional messaging relies on a specific architecture, which is made up of several instances:","A control instance, on which the message templates are created.","One or more execution instances, which receive events and deliver messages.","Control instance Execution instance\nAdobe Campaign users log on to the control instance to: Create transactional message templatesGenerate the message preview using a seed listDisplay reportsMonitor the execution instances Execution instances are here to: Receive eventsLink them to transactional message templatesSend a personalized message to each recipient"]},{"section":"Install instances","sectionId":"5e5d5718-9dc9-48ca-8e61-5b16dc750043","paragraphs":["There are several precautions to take when installing the Transactional message packages. Adobe recommends you to work in a test environment before putting into production. You also need to have a compatible Adobe Campaign license. For more information, please contact your Adobe account executive.","IMPORTANT","The control instance and the execution instance(s) must be installed on different machines. They cannot share the same Campaign instance.","If you need to use several channels, you must install and configure related packages before installing Transactional message packages. For more on this, see Add a delivery channel."]},{"section":"Control instance","sectionId":"e764b19d-1b60-4298-a934-665f7a846bcc","paragraphs":["To install the control instance on your machine, select the Transactional message control package via the Tools > Advanced > Import package menu. For more on this, see Installing Campaign Classic standard packages.","The detailed steps to configure the control instance are presented in this section."]},{"section":"Support several control instances","sectionId":"b0f138f3-6930-483a-8bb1-bfee91d3ef1f","paragraphs":["IMPORTANT","Sharing an execution cluster with several control instances is only supported for on-premise environments.","It is possible to share an execution cluster among several control instances. For example, if you manage several specialized stores, you can configure one control instance per brand and link them all to the same execution cluster.","NOTE","For more on the necessary configuration, refer to Use several control instances."]},{"section":"Execution instance","sectionId":"b656f650-49d1-4697-ae51-335a4c8eac14","paragraphs":["To install an execution instance on your machine, select the Transactional message execution package via the Tools > Advanced > Import package menu. For more on this, see Installing Campaign Classic standard packages.","The detailed steps to configure an execution instance are presented in this section."]},{"section":"Available delivery channels","sectionId":"c86341bb-43ab-4941-8402-013906b254d2","paragraphs":["The email channel is available by default. To deliver your transactional messages on multiple channels, you can add other channels (mobile channel, Mobile App channel, etc.).","IMPORTANT","Adding a delivery channel (mobile channel, Mobile App channel, etc.) must be performed before installing the Transactional message package."]},{"section":"Add a delivery channel","sectionId":"599c6776-9a66-4a8a-9205-94f6af2f0285","paragraphs":["Adobe recommends you always add the delivery channel package before installing the Transactional message package.","However, if you have started a transactional messaging project on the email channel, then decide during the project to add a new channel, you can follow the steps below.","NOTE","This procedure only applies to customers using a Windows NLServer installed on the same machine as they are working on.","Install the channel you need, for example the Mobile channel, using the package import wizard (Tools > Advanced > Import package... > Adobe Campaign Package).","Perform a file import (Tools > Advanced > Import package... > File), and select the datakitnms[Your language]packagemessageCenter.xml file.","In the XML content of the data to import, keep only the delivery template that corresponds to the added channel. For example, if you have added the Mobile channel, keep only the entities element that corresponds to the Mobile transactional message (smsTriggerMessage). If you have added the Mobile App Channel, keep only the iOS transactional message (iosTriggerMessage) and the Android transactional message (androidTriggerMessage).","Transactional push notifications","When combined with Mobile App channel module, transactional messaging enables you to push transactional messages through notifications on mobile devices.","NOTE","The Mobile App channel is detailed in this section.","To use transactional message modules with Mobile App Channel, you need to apply the following configurations:","Install the Mobile App Channel package onto the control and execution instances.\nReplicate the Mobile application type Adobe Campaign service as well as the mobile applications that it contains on the execution instances.","The event must contain the following elements:","The mobile device ID (registrationId for Android and deviceToken for iOS). This ID represents the \"address\" that the notification will be sent to. \nThe link to the mobile application or integration key (uuid) which lets you recover connection information specific to the application.\nThe channel to which the notification will be sent (wishedChannel): 41 for iOS and 42 for Android\nAll data useful for personalization","Here is an example of an event that contains this information:","<SOAP-ENV:Envelope xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\">\n   <SOAP-ENV:Body>\n     <urn:PushEvent>\n         <urn:sessiontoken>mc/</urn:sessiontoken>\n         <urn:domEvent>","<rtEvent wishedChannel=\"41\" type=\"DELIVERY\" registrationToken=\"2cefnefzef758398493srefzefkzq483974\">\n                <mobileApp _operation=\"none\" uuid=\"com.adobe.NeoMiles\"/>\n                <ctx>\n                    <deliveryTime>1:30 PM</deliveryTime>\n                    <url>http://www.adobe.com</url>\n                </ctx>\n              </rtEvent>","</urn:domEvent>\n     </urn:PushEvent>           \n   </SOAP-ENV:Body>\n</SOAP-ENV:Envelope>","NOTE","The creation of message templates remains the same.","Transactional messaging and LINE","Combined with LINE Channel, transactional messages allow you to send real time messages on the LINE app installed in consumer mobile devices. This is used to send the Welcome message when a LINE user adds the brand's page.","To use transactional message module with LINE, the following elements are needed for the configuration on your marketing instance and your execution instance:","Install the LINE Connect package on both instances.\nInstall the Transactional message control package on your marketing instance, and the Transactional message execution package on the execution instance.\nCreate a LINE external account and service on both instances with identical naming for them to be synchronized. For more information on how to create a LINE external account and service, refer to this section.","Then, from the Explorer , in Platform > External account , you need to configure different external accounts on both instances:","Create an External database external account in your execution instance with the following configuration:","Label and Internal name : name your external account as needed.\nType : select External database .\nEnabled box must be checked.","From the Connection category:","Type : select your database server e.g. PostgresSQL.","Server : enter your database server URL.","Account : enter your database account.","NOTE","The database user needs to have read rights on the following tables for FDA connection: XtkOption, NmsVisitor, NmsVisitorSub, NmsService, NmsBroadLogRtEvent, NmsBroadLogBatchEvent, NmsTrackingLogRtEvent, NmsTrackingLogBatchEvent, NmsRtEvent, NmsBatchEvent, NmsBroadLogMsg, NmsTrackingUrl, NmsDelivery, NmsWebTrackingLogXtkFolder.","Password : enter the password for your database account.","Database : enter the database name of the execution instance.","Target of an HTTP relay to remote database's account box must be checked.","Create an External Database account in your marketing instance with the following configuration.","Label and Internal name : name your external account as needed.\nType : select External database .\nEnabled box must be checked.","From the Connection category:","Type : select HTTP relay to remote Database .\nServer : enter your campaign's server URL of the execution instance.\nAccount : enter the account used to access your execution instance.\nPassword : enter the password for the account used to access your execution instance.\nData Source : enter the following syntax nms:extAccount:ID of your external database account in the execution instance.","Create an Execution instance external account in your marketing instance using the following configuration to create the data synchronization workflow:","Label and Internal name : name your external account as needed.\nType : select Execution instance .\nEnabled box must be checked.","From the Connection category:","URL : enter your execution instance's URL.\nAccount : enter your account used to access your execution instance.\nPassword : enter the password for the account used to access your execution instance.","From the Account connection method category:","Method : select Federated Data Access (FDA) .\nFDA account : select your FDA account from the drop-down.\nClick the Create the archiving workflow button.\nClick the Create data synchronization workflow button to create the LINE data sync workflow."]},{"section":"Transactional messages and inbound Interaction","sectionId":"1551c8ed-7c45-4776-b2a8-2e9edd651038","paragraphs":["Transactional messaging architecture","Transactional messaging relies on a specific architecture, which is made up of several instances:","A control instance, on which the message templates are created.","One or more execution instances, which receive events and deliver messages.","Control instance Execution instance\nAdobe Campaign users log on to the control instance to: Create transactional message templatesGenerate the message preview using a seed listDisplay reportsMonitor the execution instances Execution instances are here to: Receive eventsLink them to transactional message templatesSend a personalized message to each recipient","Install instances","There are several precautions to take when installing the Transactional message packages. Adobe recommends you to work in a test environment before putting into production. You also need to have a compatible Adobe Campaign license. For more information, please contact your Adobe account executive.","IMPORTANT","The control instance and the execution instance(s) must be installed on different machines. They cannot share the same Campaign instance.","If you need to use several channels, you must install and configure related packages before installing Transactional message packages. For more on this, see Add a delivery channel.","Control instance","To install the control instance on your machine, select the Transactional message control package via the Tools > Advanced > Import package menu. For more on this, see Installing Campaign Classic standard packages.","The detailed steps to configure the control instance are presented in this section.","Support several control instances","IMPORTANT","Sharing an execution cluster with several control instances is only supported for on-premise environments.","It is possible to share an execution cluster among several control instances. For example, if you manage several specialized stores, you can configure one control instance per brand and link them all to the same execution cluster.","NOTE","For more on the necessary configuration, refer to Use several control instances.","Execution instance","To install an execution instance on your machine, select the Transactional message execution package via the Tools > Advanced > Import package menu. For more on this, see Installing Campaign Classic standard packages.","The detailed steps to configure an execution instance are presented in this section.","Available delivery channels","The email channel is available by default. To deliver your transactional messages on multiple channels, you can add other channels (mobile channel, Mobile App channel, etc.).","IMPORTANT","Adding a delivery channel (mobile channel, Mobile App channel, etc.) must be performed before installing the Transactional message package.","Add a delivery channel","Adobe recommends you always add the delivery channel package before installing the Transactional message package.","However, if you have started a transactional messaging project on the email channel, then decide during the project to add a new channel, you can follow the steps below.","NOTE","This procedure only applies to customers using a Windows NLServer installed on the same machine as they are working on.","Install the channel you need, for example the Mobile channel, using the package import wizard (Tools > Advanced > Import package... > Adobe Campaign Package).","Perform a file import (Tools > Advanced > Import package... > File), and select the datakitnms[Your language]packagemessageCenter.xml file.","In the XML content of the data to import, keep only the delivery template that corresponds to the added channel. For example, if you have added the Mobile channel, keep only the entities element that corresponds to the Mobile transactional message (smsTriggerMessage). If you have added the Mobile App Channel, keep only the iOS transactional message (iosTriggerMessage) and the Android transactional message (androidTriggerMessage)."]},{"section":"Transactional push notifications","sectionId":"d4d2175a-cdb9-41ee-9a14-cd163b052b00","paragraphs":["When combined with Mobile App channel module, transactional messaging enables you to push transactional messages through notifications on mobile devices.","NOTE","The Mobile App channel is detailed in this section.","To use transactional message modules with Mobile App Channel, you need to apply the following configurations:","Install the Mobile App Channel package onto the control and execution instances.\nReplicate the Mobile application type Adobe Campaign service as well as the mobile applications that it contains on the execution instances.","The event must contain the following elements:","The mobile device ID (registrationId for Android and deviceToken for iOS). This ID represents the \"address\" that the notification will be sent to. \nThe link to the mobile application or integration key (uuid) which lets you recover connection information specific to the application.\nThe channel to which the notification will be sent (wishedChannel): 41 for iOS and 42 for Android\nAll data useful for personalization","Here is an example of an event that contains this information:","<SOAP-ENV:Envelope xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\">\n   <SOAP-ENV:Body>\n     <urn:PushEvent>\n         <urn:sessiontoken>mc/</urn:sessiontoken>\n         <urn:domEvent>","<rtEvent wishedChannel=\"41\" type=\"DELIVERY\" registrationToken=\"2cefnefzef758398493srefzefkzq483974\">\n                <mobileApp _operation=\"none\" uuid=\"com.adobe.NeoMiles\"/>\n                <ctx>\n                    <deliveryTime>1:30 PM</deliveryTime>\n                    <url>http://www.adobe.com</url>\n                </ctx>\n              </rtEvent>","</urn:domEvent>\n     </urn:PushEvent>           \n   </SOAP-ENV:Body>\n</SOAP-ENV:Envelope>","NOTE","The creation of message templates remains the same."]},{"section":"Transactional messaging and LINE","sectionId":"17529302-8fe8-4ddd-8774-ff1ee911bf9b","paragraphs":["Combined with LINE Channel, transactional messages allow you to send real time messages on the LINE app installed in consumer mobile devices. This is used to send the Welcome message when a LINE user adds the brand's page.","To use transactional message module with LINE, the following elements are needed for the configuration on your marketing instance and your execution instance:","Install the LINE Connect package on both instances.\nInstall the Transactional message control package on your marketing instance, and the Transactional message execution package on the execution instance.\nCreate a LINE external account and service on both instances with identical naming for them to be synchronized. For more information on how to create a LINE external account and service, refer to this section.","Then, from the Explorer , in Platform > External account , you need to configure different external accounts on both instances:","Create an External database external account in your execution instance with the following configuration:","Label and Internal name : name your external account as needed.\nType : select External database .\nEnabled box must be checked.","From the Connection category:","Type : select your database server e.g. PostgresSQL.","Server : enter your database server URL.","Account : enter your database account.","NOTE","The database user needs to have read rights on the following tables for FDA connection: XtkOption, NmsVisitor, NmsVisitorSub, NmsService, NmsBroadLogRtEvent, NmsBroadLogBatchEvent, NmsTrackingLogRtEvent, NmsTrackingLogBatchEvent, NmsRtEvent, NmsBatchEvent, NmsBroadLogMsg, NmsTrackingUrl, NmsDelivery, NmsWebTrackingLogXtkFolder.","Password : enter the password for your database account.","Database : enter the database name of the execution instance.","Target of an HTTP relay to remote database's account box must be checked.","Create an External Database account in your marketing instance with the following configuration.","Label and Internal name : name your external account as needed.\nType : select External database .\nEnabled box must be checked.","From the Connection category:","Type : select HTTP relay to remote Database .\nServer : enter your campaign's server URL of the execution instance.\nAccount : enter the account used to access your execution instance.\nPassword : enter the password for the account used to access your execution instance.\nData Source : enter the following syntax nms:extAccount:ID of your external database account in the execution instance.","Create an Execution instance external account in your marketing instance using the following configuration to create the data synchronization workflow:","Label and Internal name : name your external account as needed.\nType : select Execution instance .\nEnabled box must be checked.","From the Connection category:","URL : enter your execution instance's URL.\nAccount : enter your account used to access your execution instance.\nPassword : enter the password for the account used to access your execution instance.","From the Account connection method category:","Method : select Federated Data Access (FDA) .\nFDA account : select your FDA account from the drop-down.\nClick the Create the archiving workflow button.\nClick the Create data synchronization workflow button to create the LINE data sync workflow.","You can now start creating transactional messages."]}]}