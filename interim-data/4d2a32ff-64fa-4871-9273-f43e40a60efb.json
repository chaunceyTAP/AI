{"guid":"4d2a32ff-64fa-4871-9273-f43e40a60efb","title":"Pipeline option NmsPipeline_Config","path":"help\\integrations\\using\\nmspipeline-config.md","fullText":"---\nproduct: campaign\ntitle: Pipeline option NmsPipeline_Config\ndescription: Pipeline option NmsPipeline_Config\nfeature: Triggers\nbadge-v8: label=\"Also applies to v8\" type=\"Positive\" tooltip=\"Also applies to Campaign v8\"\naudience: integrations\ncontent-type: reference\n---\n\n# Pipeline option NmsPipeline_Config {#nmspipeline_config}\n\n \n\nOnce the authentication works, [!DNL pipelined] can retrieve the events and process them. It only processes triggers that are configured in Adobe Campaign, ignoring the others. The trigger must have been generated from Analytics and pushed to the pipeline beforehand.\nThe option can also be configured with a wildcard to catch all triggers regardless of name.\n\nThe configuration of the triggers is done in an option, under **[!UICONTROL Administration]** > **[!UICONTROL Platform]** > **[!UICONTROL Options]**. The option name is **[!UICONTROL NmsPipeline_Config]**. Data type is \"long text\" in JSON format.\n\nThis example specifies two triggers.\n\nPaste the JSON code from this template into the option value. Make sure to remove comments.\n\n```\n{\n    \"topics\": [ // list of \"topics\" that the pipelined is listening to.\n        {\n            \"name\": \"triggers\", // Name of the first topic: triggers.\n            \"consumer\": \"customer_dev\", // Name of the instance that listens. \n            \"triggers\": [ // Array of triggers. \n                {\n                    \"name\": \"3e8a2ba7-fccc-49bb-bdac-33ee33cf02bf\", // TriggerType ID from Analytics \n                    \"jsConnector\": \"cus:triggers.js\" // Javascript library holding the processing function.\n                }, {\n                    \"name\": \"2da3fdff-13af-4c51-8ed0-05802a572e94\", // Second TriggerType ID \n                    \"jsConnector\": \"cus:triggers.js\" // Can use the same JS for all.\n                },\n            ]\n        }\n    ]\n}\n```\n\nThis second example catches all triggers.\n\n```\n{\n \"topics\": [\n    {\n      \"name\": \"triggers\",\n      \"consumer\":  \"customer_dev\",\n      \"triggers\": [\n        {\n          \"name\": \"*\",\n          \"jsConnector\": \"cus:pipeline.js\"\n        }\n      ]\n    }\n ]\n }\n```\n\n>[!NOTE]\n>\n>The [!DNL Trigger] UID value to a specific trigger name in the Analytics interface can found as part of the URL querystring parameters in the Triggers interface. The triggerType UID is passed in the pipeline data stream and code can be written into the pipeline.JS to map the trigger UID to a user-friendly label that can be stored in a Trigger Name column in the pipelineEvents schema.\n\n## The consumer parameter {#consumer-parameter}\n\nThe pipeline works with a “supplier and consumer” model. There can be many consumers on the same queue. Messages are “consumed” only for an individual consumer. Each consumer gets its own “copy” of the messages.\n\nThe “consumer” parameter identifies the instance as one of these consumers. It is the identity of the instance calling the pipeline. You can fill it with the instance name. The pipeline service keeps track of the messages retrieved by each consumer. Using different consumers for different instances ensures that every message is sent to each instance.\n\n## How to configure the Pipeline option {#configure-pipeline-option}\n\nAdd or edit Experience Cloud triggers under the \"triggers\" array; do not edit the rest.\nMake sure that the JSON is valid with the help of this [website](https://jsonlint.com/).\n\n* \"name\" is the trigger ID. A wildcard \"*\" catches all triggers.\n* \"Consumer\" is any unique string that uniquely identifies the nlserver instance. It can usually be the instance name itself. For multiple environments (dev/stage/prod), please ensure it is unique for each of them so that each instance gets a copy of the message.\n* [!DNL Pipelined] also supports the \"aliases\" topic.\n\nRestart [!DNL pipelined] after making changes.\n","headers":[["title","Pipeline option NmsPipeline_Config"],["description","Pipeline option NmsPipeline_Config"],["feature","Triggers"]],"sections":[{"section":"Pipeline option NmsPipeline_Config","sectionId":"23385ab0-4040-4366-b31a-84c1461cd764","paragraphs":["Once the authentication works, DNL pipelined can retrieve the events and process them. It only processes triggers that are configured in Adobe Campaign, ignoring the others. The trigger must have been generated from Analytics and pushed to the pipeline beforehand.\nThe option can also be configured with a wildcard to catch all triggers regardless of name.","The configuration of the triggers is done in an option, under Administration > Platform > Options. The option name is NmsPipeline_Config. Data type is \"long text\" in JSON format.","This example specifies two triggers.","Paste the JSON code from this template into the option value. Make sure to remove comments.","{\n    \"topics\": [ // list of \"topics\" that the pipelined is listening to.\n        {\n            \"name\": \"triggers\", // Name of the first topic: triggers.\n            \"consumer\": \"customer_dev\", // Name of the instance that listens. \n            \"triggers\": [ // Array of triggers. \n                {\n                    \"name\": \"3e8a2ba7-fccc-49bb-bdac-33ee33cf02bf\", // TriggerType ID from Analytics \n                    \"jsConnector\": \"cus:triggers.js\" // Javascript library holding the processing function.\n                }, {\n                    \"name\": \"2da3fdff-13af-4c51-8ed0-05802a572e94\", // Second TriggerType ID \n                    \"jsConnector\": \"cus:triggers.js\" // Can use the same JS for all.\n                },\n            ]\n        }\n    ]\n}","This second example catches all triggers.","{\n \"topics\": [\n    {\n      \"name\": \"triggers\",\n      \"consumer\":  \"customer_dev\",\n      \"triggers\": [\n        {\n          \"name\": \"*\",\n          \"jsConnector\": \"cus:pipeline.js\"\n        }\n      ]\n    }\n ]\n }","NOTE","The DNL Trigger UID value to a specific trigger name in the Analytics interface can found as part of the URL querystring parameters in the Triggers interface. The triggerType UID is passed in the pipeline data stream and code can be written into the pipeline.JS to map the trigger UID to a user-friendly label that can be stored in a Trigger Name column in the pipelineEvents schema."]},{"section":"The consumer parameter","sectionId":"39f6f33e-b9d7-43d6-97d7-cab616f4209d","paragraphs":["The pipeline works with a “supplier and consumer” model. There can be many consumers on the same queue. Messages are “consumed” only for an individual consumer. Each consumer gets its own “copy” of the messages.","The “consumer” parameter identifies the instance as one of these consumers. It is the identity of the instance calling the pipeline. You can fill it with the instance name. The pipeline service keeps track of the messages retrieved by each consumer. Using different consumers for different instances ensures that every message is sent to each instance."]},{"section":"How to configure the Pipeline option","sectionId":"ef02e1e7-1ca2-4485-9952-01ebfdfdf70b","paragraphs":["Add or edit Experience Cloud triggers under the \"triggers\" array; do not edit the rest.\nMake sure that the JSON is valid with the help of this website.","\"name\" is the trigger ID. A wildcard \"*\" catches all triggers.\n\"Consumer\" is any unique string that uniquely identifies the nlserver instance. It can usually be the instance name itself. For multiple environments (dev/stage/prod), please ensure it is unique for each of them so that each instance gets a copy of the message.\nDNL Pipelined also supports the \"aliases\" topic.","Restart DNL pipelined after making changes."]}]}