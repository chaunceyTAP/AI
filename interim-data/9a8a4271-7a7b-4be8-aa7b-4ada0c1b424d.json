{"guid":"9a8a4271-7a7b-4be8-aa7b-4ada0c1b424d","title":"Update data","path":"help\\workflow\\using\\update-data.md","fullText":"---\nproduct: campaign\ntitle: Update data\ndescription: Learn more about the Update data workflow activity\nfeature: Workflows, Targeting Activity, Data Management\nexl-id: 9f5735d2-73b8-469f-bc10-482c99cdd4a1\n---\n# Update data{#update-data}\n\n\n\nAn **Update data**-type activity performs a mass update of the fields in the database.\n\n## Operation type {#operation-type}\n\nThe **[!UICONTROL Operation type]** field lets you choose the process to be carried out on the data in the database:\n\n* **[!UICONTROL Insert or update]**: add data or update it if it has already been added.\n* **[!UICONTROL Insert]**: only add data.\n* **[!UICONTROL Update]**: only update data.\n* **[!UICONTROL Update and merge collections]**: update data and choose a primary record, then link elements linked to the duplicates in this primary record. Duplicates can then be deleted without creating orphan attached elements.\n* **[!UICONTROL Delete]**: delete data.\n\n![](assets/s_advuser_update_data_1.png)\n\nThe **[!UICONTROL Batch size]** field lets you select the number of inbound transition elements to be updated. For example, if you state 500, the first 500 records dealt with will be updated.\n\n## Record identification {#record-identification}\n\nSpecify how to identify the records in the database:\n\n* If data entries relate to an existing targeting dimension, select the **[!UICONTROL By directly using the targeting dimension]** option and select it in the **[!UICONTROL Updated dimension]** field.\n\n  You can display the fields for the selected dimension using the **[!UICONTROL Edit this link]** magnifying glass button.\n\n* Otherwise, specify one or more links which will enable identification of the data in the database or direct use of reconciliation keys.\n\n![](assets/s_advuser_update_data_2.png)\n\n## Selecting the fields to be updated {#selecting-the-fields-to-be-updated}\n\nUse the **[!UICONTROL Automatically associate fields with the same name]** option in order for Adobe Campaign to automatically identify the fields to be updated.\n\n![](assets/s_advuser_update_data_3b.png)\n\nYou can also use the **[!UICONTROL Insert]** icon to manually select the database fields to be updated.\n\n![](assets/s_advuser_update_data_3.png)\n\nSelect all the fields to be updated and, if necessary, add conditions depending on which the update is to be carried out. To do this, use the **[!UICONTROL Taken into account if]** column. Conditions are applied one after the other and in keeping with the order in the list. Use the arrows on the right to change the order of updates.\n\nYou can use the same destination field several times.\n\nWithin an **[!UICONTROL Insert or update]** operation, you can select the campaign to be applied, either individually or for each field. To do this, select the desired value in the **[!UICONTROL Operation]** column.\n\n![](assets/s_advuser_update_data_5.png)\n\nThe **[!UICONTROL modifiedDate]**, **[!UICONTROL modifiedBy]**, **[!UICONTROL createdDate]** and **[!UICONTROL createdBy]** fields are updated automatically during data updates, unless their management mode is configured specifically in the field update table.\n\nRecord updating is only performed for records containing at least one difference. If the values are the same, no update is performed.\n\nThe **[!UICONTROL Advanced parameters]** link lets you specify additional options to deal with updating data as well as managing duplicates. You may also:\n\n* **[!UICONTROL Disable automatic key management]**.\n* **[!UICONTROL Disable audit]**.\n* **[!UICONTROL Empty the destination value if the source value is empty (NULL)]**. This option is automatically checked by default.\n* **[!UICONTROL Update all columns with matching names]**.\n* Specify conditions that consider source elements using an expression in the **[!UICONTROL Enabled if]** field.\n* Specify conditions that consider duplicates using an expression. If you check the **[!UICONTROL Ignore records which concern the same target]** option, only the first in the list of expressions will be considered.\n\n**[!UICONTROL Generate an outbound transition]**\n\nCreates an outbound transition that will be activated at the end of execution. Updating usually signals the end of a targeting workflow, and the option is therefore not activated by default.\n\n**[!UICONTROL Generate an outbound transition for the rejects]**\n\nCreates an outbound transition containing records that have not been correctly processed after the update (for example if there is a duplicate). The update generally marks the end of a targeting workflow and therefore the option is not activated by default.\n\n## Updating and merging collections {#updating-and-merging-collections}\n\nUpdating data and merging collections lets you update the data contained in a record by using data from one or multiple secondary records, with the aim of keeping just one if you wish. These updates are managed by a set of rules.\n\n>[!NOTE]\n>\n>This option also lets you process references to secondary records from workflow work tables (targetWorkflow), deliveries (targetDelivery) and lists (targetList). If need be, these links appear in the list where you select fields and collections.\n\n1. Select the **[!UICONTROL Update and merge collections]** operation.\n\n   ![](assets/update_and_merge_collections1.png)\n\n1. Select the order of priority for the links. This allows you to identify the main record. The available links vary according to the inbound transition.\n\n   ![](assets/update_and_merge_collections2.png)\n\n1. Select the collections to move to the primary record and the fields to update.\n\n   Enter the rules that apply to these once one or multiple secondary records are identified. To do this, you can use the Expression builder. For more on this, refer to this [section](../../platform/using/defining-filter-conditions.md#building-expressions). For example, by specifying that it is the most recently updated value out of all the different records that must be kept.\n\n   Then enter the conditions to take into account for the rule.\n\n   Finally, specify the type of update to carry out. For example, you can choose to delete the secondary records after updating the data.\n\n   You can, for example, configure the merging of collections containing heterogeneous data such as the list of subscriptions for a recipient. Using rules, you can also create new subscription histories from secondary record subscriptions, or even move the list of subscriptions from a secondary record to a primary record.\n\n1. Specify the order in which you would like the secondary records to be processed, by selecting **[!UICONTROL Advanced parameters]** > **[!UICONTROL Duplicates]**.\n\n   ![](assets/update_and_merge_collections3.png)\n\nData for secondary records is associated with the main record if the defined rules are applicable. According to the type of update selected, the secondary records can be deleted.\n\n## Example: Update data following an enrichment {#example--update-data-following-an-enrichment}\n\nThe [Step 2: Writing enriched data to the 'Purchases' table](creating-a-summary-list.md#step-2--writing-enriched-data-to-the--purchases--table) section of the use case that details creating a recap list offers an example of a data update after an enrichment activity.\n\n## Input parameters {#input-parameters}\n\n* tableName\n* schema\n\nEach inbound event must specify a target defined by these parameters.\n","headers":[["title","Update data"],["description","Learn more about the Update data workflow activity"],["feature","Workflows, Targeting Activity, Data Management"]],"sections":[{"section":"Update data","sectionId":"9ebeeeef-d71d-4157-88cd-276e73a99daf","paragraphs":["An Update data-type activity performs a mass update of the fields in the database."]},{"section":"Operation type","sectionId":"01090595-40c0-4178-b56d-9d1990305309","paragraphs":["The Operation type field lets you choose the process to be carried out on the data in the database:","Insert or update: add data or update it if it has already been added.\nInsert: only add data.\nUpdate: only update data.\nUpdate and merge collections: update data and choose a primary record, then link elements linked to the duplicates in this primary record. Duplicates can then be deleted without creating orphan attached elements.\nDelete: delete data.","The Batch size field lets you select the number of inbound transition elements to be updated. For example, if you state 500, the first 500 records dealt with will be updated."]},{"section":"Record identification","sectionId":"48d0eb98-c4d5-4b9b-96a7-88ead8fe418d","paragraphs":["Specify how to identify the records in the database:","If data entries relate to an existing targeting dimension, select the By directly using the targeting dimension option and select it in the Updated dimension field.","You can display the fields for the selected dimension using the Edit this link magnifying glass button.","Otherwise, specify one or more links which will enable identification of the data in the database or direct use of reconciliation keys."]},{"section":"Selecting the fields to be updated","sectionId":"8749bba2-2b0e-4535-94f7-69c70dfc056b","paragraphs":["Use the Automatically associate fields with the same name option in order for Adobe Campaign to automatically identify the fields to be updated.","You can also use the Insert icon to manually select the database fields to be updated.","Select all the fields to be updated and, if necessary, add conditions depending on which the update is to be carried out. To do this, use the Taken into account if column. Conditions are applied one after the other and in keeping with the order in the list. Use the arrows on the right to change the order of updates.","You can use the same destination field several times.","Within an Insert or update operation, you can select the campaign to be applied, either individually or for each field. To do this, select the desired value in the Operation column.","The modifiedDate, modifiedBy, createdDate and createdBy fields are updated automatically during data updates, unless their management mode is configured specifically in the field update table.","Record updating is only performed for records containing at least one difference. If the values are the same, no update is performed.","The Advanced parameters link lets you specify additional options to deal with updating data as well as managing duplicates. You may also:","Disable automatic key management.\nDisable audit.\nEmpty the destination value if the source value is empty (NULL). This option is automatically checked by default.\nUpdate all columns with matching names.\nSpecify conditions that consider source elements using an expression in the Enabled if field.\nSpecify conditions that consider duplicates using an expression. If you check the Ignore records which concern the same target option, only the first in the list of expressions will be considered.","Generate an outbound transition","Creates an outbound transition that will be activated at the end of execution. Updating usually signals the end of a targeting workflow, and the option is therefore not activated by default.","Generate an outbound transition for the rejects","Creates an outbound transition containing records that have not been correctly processed after the update (for example if there is a duplicate). The update generally marks the end of a targeting workflow and therefore the option is not activated by default."]},{"section":"Updating and merging collections","sectionId":"ad1e68c6-dc20-4183-8a24-307752c345d7","paragraphs":["Updating data and merging collections lets you update the data contained in a record by using data from one or multiple secondary records, with the aim of keeping just one if you wish. These updates are managed by a set of rules.","NOTE","This option also lets you process references to secondary records from workflow work tables (targetWorkflow), deliveries (targetDelivery) and lists (targetList). If need be, these links appear in the list where you select fields and collections.","Select the Update and merge collections operation.","Select the order of priority for the links. This allows you to identify the main record. The available links vary according to the inbound transition.","Select the collections to move to the primary record and the fields to update.","Enter the rules that apply to these once one or multiple secondary records are identified. To do this, you can use the Expression builder. For more on this, refer to this section. For example, by specifying that it is the most recently updated value out of all the different records that must be kept.","Then enter the conditions to take into account for the rule.","Finally, specify the type of update to carry out. For example, you can choose to delete the secondary records after updating the data.","You can, for example, configure the merging of collections containing heterogeneous data such as the list of subscriptions for a recipient. Using rules, you can also create new subscription histories from secondary record subscriptions, or even move the list of subscriptions from a secondary record to a primary record.","Specify the order in which you would like the secondary records to be processed, by selecting Advanced parameters > Duplicates.","Data for secondary records is associated with the main record if the defined rules are applicable. According to the type of update selected, the secondary records can be deleted."]},{"section":"Example: Update data following an enrichment","sectionId":"328efba9-40f9-477a-933a-b6b61f519f8c","paragraphs":["The Step 2: Writing enriched data to the 'Purchases' table section of the use case that details creating a recap list offers an example of a data update after an enrichment activity."]},{"section":"Input parameters","sectionId":"d00d7cbb-b48f-4737-b203-e902cb46903a","paragraphs":["tableName\nschema","Each inbound event must specify a target defined by these parameters."]}]}