{"guid":"16a571a0-16c0-45cc-bae0-a57d2e8b3739","title":"Configure Campaign SMS channel on a mid-sourcing infrastructure","path":"help\\delivery\\using\\sms-set-up-mid.md","fullText":"---\nproduct: campaign\ntitle: Configure Campaign SMS channel on a mid-sourcing infrastructure\ndescription: Learn how to configure the SMS channel in Campaign on a mid-sourcing infrastructure\nfeature: SMS\nrole: User, Developer, Admin\nexl-id: 6987cb5e-8821-4619-b0e4-f0fad3355bfb\n---\n# Configure SMS channel on a mid-sourcing infrastructure {#setting-up-sms-channel}\n\nTo send to a mobile phone with mid-servers, you need:\n\n1. An SMS Operator created on the Mid-server used for the SMS external account created on the Marketing server.\n\n1. An external account on the Marketing server, specifying the Channel and Delivery mode.\n\n1. An external account on the Mid-server, detailing the connector and message type.\n\n1. A delivery template that references the external account to streamline the sending process.\n\n>[!NOTE]\n>\n> For SMS deliveries, typology should be using a specific SMS affinity created in **one** dedicated application server container. [Learn more](../../installation/using/configure-delivery-settings.md#managing-outbound-smtp-traffic-with-affinities)\n\n## Create the SMS Operator on the Mid-server {#create-sms-operator}\n\nTo start the configuration process, you must create an SMS Operator on the Mid-server specifically for the external account.\n\n>[!IMPORTANT]\n>\n>Each SMS connector requires a unique SMS Operator.\n\n1. In the **[!UICONTROL Administration]** > **[!UICONTROL Access management]** > **[!UICONTROL Operators node]** node of the tree, click the **[!UICONTROL New]** icon.\n\n   ![](assets/sms_operator_mid_3.png)\n\n1. Specify the user's **[!UICONTROL Identification parameters]**, including their login, password, and name. The login and password are necessary for the operator to log in to Adobe Campaign securely.\n\n   Note that the **[!UICONTROL Name (login)]** is to be later used to name your SMPP external account in the Mid-server.\n\n   ![](assets/sms_operator_mid_1.png)\n\n1. Select the permissions granted to the operator in the Operator access rights section.\n\n   To allocate rights to the operator, click the **[!UICONTROL Add]** button located above the list of rights. Next, select an **[!UICONTROL Operator group]** or **[!UICONTROL Named rights]** from the available groups list.\n\n   ![](assets/sms_operator_mid_2.png)\n\n1. Click **[!UICONTROL Save]** to finalize the creation of the operator. The profile is now included in the list of existing operators.\n\n## Create an SMS external account on the Marketing server {#create-accound-mkt}\n\nTo send a SMS to a mobile phone with Mid-servers, you first need to create your SMS external account on the Marketing server.\n\n1. In the **[!UICONTROL Platform]** > **[!UICONTROL External accounts]** node of the tree, click the **[!UICONTROL New]** icon.\n\n   ![](assets/mid_external_account_2.png)\n\n1. Type-in your **[!UICONTROL Label]** and **[!UICONTROL Internal name]**. Note that the Internal name is to be later used to name your SMPP external account in the Mid-server.\n\n1. Define the account type as **[!UICONTROL Routing]**, the channel as **[!UICONTROL Mobile (SMS)]**, and the delivery mode as **[!UICONTROL Mid-sourcing]**.\n\n   ![](assets/mid_external_account_1.png)\n\n1. In the **[!UICONTROL Mid-Sourcing]** tab, specify the mid-sourcing server connection parameters.\n\n   Enter the details of the [previously created SMS connector](#create-sms-operator) in the **[!UICONTROL Account]** and **[!UICONTROL Password]** fields.\n\n   ![](assets/mid_external_account_7.png)\n\n1. Confirm your configuration by clicking **[!UICONTROL Test the connection]**.\n\n1. Click **[!UICONTROL Save]**.\n\n## Create an SMPP external account on the Mid-server {#creating-smpp-mid}\n\n>[!IMPORTANT]\n>\n>Using the same account and password for multiple external SMS accounts can result in conflicts and overlap between the accounts. Refer to the [SMS troubleshooting page](troubleshooting-sms.md#external-account-conflict).\n\nOnce you have successfully set up your SMS external account on the Marketing server, the next step is to establish your SMPP external account on the Mid-server.\n\nFor more information on SMS protocol and settings, refer to this [page](sms-protocol.md).\n\nTo do this, follow the steps below:\n\n1. In the **[!UICONTROL Platform]** > **[!UICONTROL External accounts]** node of the tree, click the **[!UICONTROL New]** icon.\n\n1. Type-in your **[!UICONTROL Label]** and **[!UICONTROL Internal name]**.\n\n   >[!WARNING]\n   >\n   >When assigning an **[!UICONTROL Internal name]**, make sure to follow the specified naming convention:\n   > </br>`SMS Operator Name_Internal Name of the Marketing SMS external account`\n\n   ![](assets/mid_external_account_6.png)\n\n1. Define the account type as **Routing**, the channel as **Mobile (SMS)**, and the delivery mode as **Bulk delivery**.\n\n   ![](assets/mid_external_account_3.png)\n\n1. Check the **[!UICONTROL Enabled]** box.\n\n1. In the **[!UICONTROL Mobile]** tab, select **[!UICONTROL Extended generic SMPP]** from the **[!UICONTROL Connector]** drop-down list.\n\n   ![](assets/mid_external_account_4.png)\n\n1. The **[!UICONTROL Enable verbose SMPP traces in the log file]** option allows you to dump all SMPP traffic in log files. This option should only be enabled to troubleshoot the connector and to compare with the traffic seen by the provider.\n\n1. Contact your SMS service provider who will explain to you how to complete the different external account fields from the **[!UICONTROL Connection settings]** tab.\n\n   Then, contact your provider, depending on the one chosen, who will give you the value to enter into the **[!UICONTROL SMSC implementation name]** field.\n\n   You can define the number of connections to the provider per MTA child. By default, it is set to 1.\n\n1. By default, the number of characters in an SMS meets the GSM standards.\n\n   SMS messages using GSM encoding are limited to 160 characters, or 153 characters per SMS for messages sent in multiple parts.\n\n   >[!NOTE]\n   >\n   >Certain characters count as two (braces, square brackets, the euro symbol, etc.).  \n   >\n   >The list of available GSM characters is presented in [this section](sms-set-up.md#about-character-transliteration).\n\n   You can also authorize character transliteration by checking the corresponding box.\n\n   ![](assets/mid_external_account_5.png)\n\n1. In the **[!UICONTROL Throughput and delays]** tab, you can specify the maximum throughput of outbound messages (\"MT\", Mobile Terminated) in MT per second. If you enter \"0\" in the corresponding field, the throughput will be unlimited.\n\n   The values of all of the fields corresponding to durations need to be completed in seconds.\n\n1. In the **[!UICONTROL Mapping of encodings]** tab, you can define encodings.\n\n   For more on this, refer to [this section](sms-set-up.md#about-text-encodings).\n\n1. In the **[!UICONTROL SMSC specificities]** tab, the **[!UICONTROL Send full phone number]** option is disabled by default. Do not enable it if you want to respect the SMPP protocol and transfer only digits to the server of the SMS provider (SMSC).\n\n   However, given that certain providers require the use of the '+' prefix, it is advised that you check with your provider and they will suggest that you enable this option if necessary.\n\n   The **[!UICONTROL Enable TLS over SMPP]** checkbox allows you to encrypt SMPP traffic. For more on this, refer to this [page](sms-protocol.md).\n\n1. If you are configuring an **[!UICONTROL Extended generic SMPP]** connector, you can set up automatic replies.\n\n   For more on this, refer to [this section](sms-set-up.md#automatic-reply).\n\n## Change the delivery template {#changing-the-delivery-template}\n\nAdobe Campaign offers a mobile delivery template located in the **[!UICONTROL Resources > Templates > Delivery templates]** node. For more on this, refer to the [About templates](about-templates.md) section.\n\nTo send messages through the SMS channel, you must create a template that includes a reference to the channel connector.\n\nTo keep the native delivery template, we recommend that you duplicate it and then configure it.\n\nIn the example below, we generate a template to facilitate the delivery of messages through the previously created SMPP account. To do this:\n\n1. In the **[!UICONTROL Resources]** > **[!UICONTROL Templates]** > **[!UICONTROL Delivery templates]** node of the tree, right-click the **[!UICONTROL Send to mobiles]** template, and select **[!UICONTROL Duplicate]**.\n\n   ![](assets/delivery_template_mid_1.png)\n\n1. Change the label of the template, for example **Sent to mobiles (SMPP)**.\n\n   ![](assets/delivery_template_mid_2.png)\n\n1. Click **[!UICONTROL Properties]**.\n\n1. In the **[!UICONTROL General]** tab, select a routing mode that corresponds to the external account that you created in the section [Create an SMS external account on the Marketing server](#create-accound-mkt).\n\n   ![](assets/delivery_template_mid_3.png)\n\n1. Click **[!UICONTROL Save]** to create the template.\n\n   ![](assets/delivery_template_mid_4.png)\n\nYou now have an external account and a delivery template that let you deliver via SMS.\n\n## Related topics {#related-topics}\n\n* [SMS character transliteration](sms-set-up.md#about-character-transliteration)\n* [Text encodings](sms-set-up.md#about-text-encodings)\n* [Automatic reply](sms-set-up.md#automatic-reply)\n","headers":[["title","Configure Campaign SMS channel on a mid-sourcing infrastructure"],["description","Learn how to configure the SMS channel in Campaign on a mid-sourcing infrastructure"],["feature","SMS"]],"sections":[{"section":"Configure SMS channel on a mid-sourcing infrastructure","sectionId":"18387c61-f1a6-4f32-9148-21c737a0c0c9","paragraphs":["To send to a mobile phone with mid-servers, you need:","An SMS Operator created on the Mid-server used for the SMS external account created on the Marketing server.","An external account on the Marketing server, specifying the Channel and Delivery mode.","An external account on the Mid-server, detailing the connector and message type.","A delivery template that references the external account to streamline the sending process.","NOTE","For SMS deliveries, typology should be using a specific SMS affinity created in one dedicated application server container. Learn more"]},{"section":"Create the SMS Operator on the Mid-server","sectionId":"6bf83c35-d47b-4bad-a083-16b7c2bc9110","paragraphs":["To start the configuration process, you must create an SMS Operator on the Mid-server specifically for the external account.","IMPORTANT","Each SMS connector requires a unique SMS Operator.","In the Administration > Access management > Operators node node of the tree, click the New icon.","Specify the user's Identification parameters, including their login, password, and name. The login and password are necessary for the operator to log in to Adobe Campaign securely.","Note that the Name (login) is to be later used to name your SMPP external account in the Mid-server.","Select the permissions granted to the operator in the Operator access rights section.","To allocate rights to the operator, click the Add button located above the list of rights. Next, select an Operator group or Named rights from the available groups list.","Click Save to finalize the creation of the operator. The profile is now included in the list of existing operators."]},{"section":"Create an SMS external account on the Marketing server","sectionId":"0c7a52e9-1e6e-4466-9729-d352c9df9b7d","paragraphs":["To send a SMS to a mobile phone with Mid-servers, you first need to create your SMS external account on the Marketing server.","In the Platform > External accounts node of the tree, click the New icon.","Type-in your Label and Internal name. Note that the Internal name is to be later used to name your SMPP external account in the Mid-server.","Define the account type as Routing, the channel as Mobile (SMS), and the delivery mode as Mid-sourcing.","In the Mid-Sourcing tab, specify the mid-sourcing server connection parameters.","Enter the details of the previously created SMS connector in the Account and Password fields.","Confirm your configuration by clicking Test the connection.","Click Save."]},{"section":"Create an SMPP external account on the Mid-server","sectionId":"f73af0c3-75d0-42cd-aa0c-9946b0b4d953","paragraphs":["IMPORTANT","Using the same account and password for multiple external SMS accounts can result in conflicts and overlap between the accounts. Refer to the SMS troubleshooting page.","Once you have successfully set up your SMS external account on the Marketing server, the next step is to establish your SMPP external account on the Mid-server.","For more information on SMS protocol and settings, refer to this page.","To do this, follow the steps below:","In the Platform > External accounts node of the tree, click the New icon.","Type-in your Label and Internal name.","WARNING","When assigning an Internal name, make sure to follow the specified naming convention:\nSMS Operator Name_Internal Name of the Marketing SMS external account","Define the account type as Routing, the channel as Mobile (SMS), and the delivery mode as Bulk delivery.","Check the Enabled box.","In the Mobile tab, select Extended generic SMPP from the Connector drop-down list.","The Enable verbose SMPP traces in the log file option allows you to dump all SMPP traffic in log files. This option should only be enabled to troubleshoot the connector and to compare with the traffic seen by the provider.","Contact your SMS service provider who will explain to you how to complete the different external account fields from the Connection settings tab.","Then, contact your provider, depending on the one chosen, who will give you the value to enter into the SMSC implementation name field.","You can define the number of connections to the provider per MTA child. By default, it is set to 1.","By default, the number of characters in an SMS meets the GSM standards.","SMS messages using GSM encoding are limited to 160 characters, or 153 characters per SMS for messages sent in multiple parts.","NOTE","Certain characters count as two (braces, square brackets, the euro symbol, etc.).","The list of available GSM characters is presented in this section.","You can also authorize character transliteration by checking the corresponding box.","In the Throughput and delays tab, you can specify the maximum throughput of outbound messages (\"MT\", Mobile Terminated) in MT per second. If you enter \"0\" in the corresponding field, the throughput will be unlimited.","The values of all of the fields corresponding to durations need to be completed in seconds.","In the Mapping of encodings tab, you can define encodings.","For more on this, refer to this section.","In the SMSC specificities tab, the Send full phone number option is disabled by default. Do not enable it if you want to respect the SMPP protocol and transfer only digits to the server of the SMS provider (SMSC).","However, given that certain providers require the use of the '+' prefix, it is advised that you check with your provider and they will suggest that you enable this option if necessary.","The Enable TLS over SMPP checkbox allows you to encrypt SMPP traffic. For more on this, refer to this page.","If you are configuring an Extended generic SMPP connector, you can set up automatic replies.","For more on this, refer to this section."]},{"section":"Change the delivery template","sectionId":"2a655fb6-6005-4b89-8321-690454df562d","paragraphs":["Adobe Campaign offers a mobile delivery template located in the Resources > Templates > Delivery templates node. For more on this, refer to the About templates section.","To send messages through the SMS channel, you must create a template that includes a reference to the channel connector.","To keep the native delivery template, we recommend that you duplicate it and then configure it.","In the example below, we generate a template to facilitate the delivery of messages through the previously created SMPP account. To do this:","In the Resources > Templates > Delivery templates node of the tree, right-click the Send to mobiles template, and select Duplicate.","Change the label of the template, for example Sent to mobiles (SMPP).","Click Properties.","In the General tab, select a routing mode that corresponds to the external account that you created in the section Create an SMS external account on the Marketing server.","Click Save to create the template.","You now have an external account and a delivery template that let you deliver via SMS."]},{"section":"Related topics","sectionId":"4895c6f0-05d3-442f-a20b-a492538243fa","paragraphs":["SMS character transliteration\nText encodings\nAutomatic reply"]}]}